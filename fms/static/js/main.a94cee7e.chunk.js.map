{"version":3,"sources":["images/esmlogo.jpg","images/processing.gif","images/fileIcon.png","common/navbarbrand.jsx","common/menuitem.jsx","common/navbar.jsx","components/titleheader/titleheader.jsx","constants/firebase.js","appcode/dashboard.js","components/dashboard.jsx","common/toolsbar.jsx","common/input.jsx","components/mastinvdepend/mastinv-icform.jsx","appcode/mastinvdepend.js","common/itemslist.jsx","components/mastinvdepend/mastinv-invcat.jsx","common/infomessagediv.jsx","components/mastinvdepend/mastinv-tempform.jsx","components/mastinvdepend/mastinv-itemtemp.jsx","components/mastinvdepend/mastinvdepend.jsx","components/mastcustcare/mastcc-ic-form.jsx","appcode/mastcustcare.js","components/mastcustcare/mastcc-inqcat.jsx","components/mastcustcare/mastcustcare.jsx","components/financials/fin-soa/servicechargerow.jsx","appcode/fincsoa.js","components/financials/fin-soa/fin-soa.jsx","appcode/finjv.js","components/financials/fin-jv/fin-jv.jsx","appcode/invclientassets.js","components/inv-client-assets/clientform.jsx","components/inv-client-assets/projectform.jsx","components/inv-client-assets/contractform.jsx","common/popuplist.jsx","components/inv-client-assets/assetform.jsx","components/inv-client-assets/mainlogform.jsx","components/inv-client-assets/invclientasset.jsx","components/mastprjserv.jsx/mastprjsrvform.jsx","appcode/mastprjserv.js","components/mastprjserv.jsx/mastprjsrv.jsx","appcode/mainjobcards.js","components/mainjobcards/mainjcform.jsx","components/mainjobcards/mainjobcards.jsx","components/maintpoolreading/servicechargerow.jsx","appcode/mainpoolreadings.js","components/maintpoolreading/maintpoolreading.jsx","components/contractdefinition/servicerow.jsx","appcode/contractdefinition.js","components/contractdefinition/contractdefinition.jsx","appcode/jobplanner.js","components/jobplanner/jobplanner.jsx","components/login/login.jsx","components/customercare/ticketslist.jsx","components/customercare/ticketform.jsx","appcode/emailservice.js","appcode/custcaretickets.js","appcode/general-use.js","components/customercare/ticketdetails.jsx","appcode/crmuploadattachments.js","components/customercare/tickets.jsx","components/reports/customercare/ticketsbymonth.jsx","components/reports/customercare/ticketscontractwise.jsx","components/reports/customercare/ticketsstatisticssummary.jsx","components/reports/maintenance/jobcardsdatewise.jsx","components/reports/maintenance/jcstatisticssummary.jsx","components/reports/returnform.jsx","components/reports/reports.jsx","components/contract-meter-readings/clientform.jsx","components/contract-meter-readings/projectform.jsx","components/contract-meter-readings/contractform.jsx","common/popupwindow.jsx","components/contract-meter-readings/metersform.jsx","components/contract-meter-readings/meterreadingsform.jsx","components/contract-meter-readings/contractmeterreading.jsx","appcode/useradmin.js","common/slidingswitch.jsx","components/useradmin/usergroupform.jsx","components/useradmin/userform.jsx","components/useradmin/useradmin.jsx","components/clientuseradmin/clientuserform.jsx","components/clientuseradmin/clientuseradmin.jsx","components/crm-upload-attach/attachlist.jsx","components/crm-upload-attach/clientAttachForm.jsx","components/crm-upload-attach/attachform.jsx","components/crm-upload-attach/crmuploadattach.jsx","common/navredirect.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","NavBarBrandItem","props","brandName","react_default","a","createElement","Navbar","Brand","style","paddingLeft","href","width","src","Logo","margin","alt","height","MenuItemElement","state","subDir","_this2","this","menuitem","menuDropdown","length","NavItem","eventKey","menuOptionId","Link","to","path","type","className","menuOptionTitle","NavDropdown","title","id","map","dd","MenuItem","key","ddItemId","padding","ddItemTitle","Component","NavMenu","uprofile","collapseOnSelect","Header","navbarbrand","Toggle","Collapse","Nav","menuBarVisible","menuStructure","mi","common_menuitem","TitleHeader","titleStyle","paddingTop","paddingBottom","textAlign","fontSize","color","fontWeight","backgroundColor","bgColor","textShadow","TitlePageHeader","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","apps","initializeApp","auth","Number","prototype","pad","size","c","s","String","getTicketsStatistics","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","funcSuccess","funcResult","funcError","funcFailReason","db","settings","ticketsDb","tickets","ticketsStatistics","wrap","_context","prev","next","firestore","timestampsInSnapshots","collection","abrupt","get","then","snapshot","docs","forEach","docTicket","push","objectSpread","data","TicketNum","openTickets","filter","t","TicketStatus","closedTickets","inProgTickets","Open","Closed","InProgress","Success","Result","FailReason","Error","Warning","catch","err","message","stop","apply","arguments","Dashboard","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","showProcess","columns","rows","Date","componentDidMount","setState","result","error","console","log","token","sessionStorage","JSON","parse","getItem","menuVisible","history","Fragment","titleheader_TitlePageHeader","rowDivStyle","chartDivStyle","index_esm","chartType","loader","options","is3D","legend","barChartDivStyle","vAxis","hAxis","borderStyle","borderSize","borderColor","borderRadius","boxShadow","minHeight","overflow","paddingRight","lookupDiv","marginBottom","borderBottom","lookupDivPH","marginTop","MakeButton","button","show","onClick","icon","ButtonGroup","Button","bsStyle","index_es","ToolsBar","_props$buttonsOptions","buttonsOptions","addButton","editButton","deleteButton","refreshButton","replyButton","searchButton","saveButton","cancelButton","btnPlaceHolder","searchPlaceHolder","onSearchValueChange","justified","disabled","showSearch","onChange","onSearch","TextArea","_ref4","name","label","value","flgDisabled","htmlFor","TextAreaEnh","_ref5","onInput","e","currentTarget","innerText","onBlur","innerHTML","contenteditable","dangerouslySetInnerHTML","__html","DropDownList","_ref6","values","defValue","v","Name","selected","Input","_ref2","checked","MastInvICForm","fields","Description","_this$props","onSubmit","onCancel","flags","errors","showButtons","input","isAdd","input_TextArea","isEdit","processing","addNewInvCategory","category","ow","funcWarning","categoriesDb","doc","exists","toUpperCase","set","updateInvCategory","cn","update","getCategoryByName","cName","getCategList","categories","docCateg","addEquipmentTemplate","equipTemp","inventoryDb","updateEquipTemplate","getEquipTemplate","equipTempName","en","getEquipTemplatesList","docEquip","addSPTemplate","spTemp","updateSPTemplate","getSPTemplate","spTempName","getSPTemplatesList","ItemsList","getClassName","mtype","mt","tbody","showList","Type","MastInvCateg","showAdd","onAdd","handleAdd","showEdit","onEdit","handleEdit","showDelete","onDelete","showRefresh","onRefresh","handleRefresh","listProcess","listVisible","formProcess","formVisible","showmodal","schema","Joi","string","required","regex","handleCloseModal","handleListUpdated","handleSubmit","validateFields","toast","warn","position","POSITION","TOP_RIGHT","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","toConsumableArray","_","orderBy","success","handleCancel","handleChange","_e$currentTarget","handleCategClick","returnedresult","validate","abortEarly","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","details","Symbol","iterator","done","item","return","keys","toolsbar","itemslist","mastinv_icform","Modal","onHide","closeButton","Title","Body","Footer","lib","InfoMessageDiv","MastInvTempForm","EquipForm","SerialNum","PurchDate","PurchVal","input_DropDownList","Categ1","Categ2","SPartForm","UPCNum","Quantity","selType","MastInvTemplates","templates","template","spartTemp","selectedType","types","tempType","typesButtonsOptions","tempButtonsOptions","formDivHeight","valid","date","number","min","precision","integer","handleTypeClick","_this$state","_this$state2","d","getFullYear","getMonth","slice","getDate","handleTemplateClick","_this$state3","_this$schema","leftColRef","React","createRef","leftMiddleRef","formColRef","ref","middleColRef","mastinv_tempform","MastInvDepend","selectedTab","k","activeKey","onSelect","handleSelect","Switch","Route","component","exact","render","infomessagediv","assign","MastCCICForm","categname","categdesc","getInquiriesCategories","getCompCateg","addNewCompCateg","newcateg","categName","categDescription","setresult","updateCompCateg","MastCCInqCat","newCategory","mastcc_ic_form","MastCustCare","transDescStyle","transDateStyle","currColStyle","formatCurrency","n","toLocaleString","minimumFractionDigits","ServiceChargeRow","transDate","transDesc","transAmountDr","transAmountCr","transClick","transId","toLocaleDateString","getClientsNames","clientsDb","clients","clientName","docClient","clName","getProjectsOfClient","_callee2","projectsDb","projects","_context2","where","docProject","project","prjName","code","prjCode","_x","getContractsForProject","_ref3","_callee3","projectName","contracts","_context3","docContract","contract","contName","contCode","_x2","addSOATransaction","_callee4","transaction","cln","pn","ctn","trdt","trclass","trdesc","trtype","tramount","soaDocName","newTrNumber","accountsDb","_context4","contractName","transClass","transType","parseFloat","transAmount","trId","trCount","newTransaction","split","contCounter","ContractCounter","_x3","updateSOATransaction","_callee5","_context5","_x4","_x5","_x6","_x7","getContractSOA","_callee6","_context6","transactions","docTr","_x8","_x9","_x10","SOAForm","dateSorted","transNumSorted","transClasses","transTypes","clientsList","projectsList","contractsList","transData","selectedClient","selectedProject","selectedContract","soaTransactions","selectedTransIndex","showSave","onSave","handleOnSubmit","showCancel","handleTransDescOnChange","event","handleClientsOnChange","handleProjectsOnChange","handleContractsOnChange","handleTransDateOnChange","handleTransClassOnChange","handleTransTypeOnChange","handleTransAmountOnChange","handleSOATransClick","index","sumCr","sumcr","toFixed","sumDr","sumdr","calcBalance","soaTrans","sortByDate","sortByTransNum","client","soa","servicechargerow","getProjects","addJVTransaction","jvd","jvdesc","jva","jvtt","prjn","newjvnumber","docsCount","newjv","jvNumber","jvDate","jvDescription","jvAmount","jvTransType","targetProj","pcValue","Value","getJVTransactions","JVForm","jvTransactions","targetProjects","returnedResult","handleOnCancel","btnToolbar","jv","jvDesc","marginAbove","borderBottomColor","getClientDocument","addClient","ce","cpnam","cpnum","cadd","newclient","clEmail","clContactName","clContactNumber","clAddress","SitesCount","cc","ClientsCount","updateClientByName","updateclient","getProjectDocument","docPrj","addProject","jsonProjDef","prjDb","docRef","updateProjectByName","getAssetDoc","asstTitle","ttl","addAsset","asset","cnt","Count","pool","aequip","assetEquip","adesc","sno","serialNo","remarks","Remarks","location","Location","assetsDb","newasset","updateAsset","updateasset","getAssetsList","assets","docAsset","getContractByName","contc","getMainLogList","cltName","atitle","logDocName","addMainLog","mainLog","logdt","logDate","logdetails","logDetails","logId","pb","logPerformedBy","mainlogDB","newMainLog","logCount","newLogNumber","newLogNum","LogCounter","updateMainLog","logid","getMainLogDoc","mainLogId","getMeterDoc","meterNumber","mtrn","addMeter","meter","metersDb","newmeter","updateMeter","updatemeter","getMetersList","meters","docMeter","getMeterReadingDoc","mrDate","addMeterReading","CltName","meterReading","mtrrd","readingDate","updateMeterReading","mrdt","getMeterReadingList","meterReadings","docMeterReading","ClientForm","bottomTBVisible","topTBVisible","handleOnAdd","handlers","handleOnEdit","handleOnSave","ButtonToolbar","showFormProcess","handleClientNameChange","handleClientEmailChange","handleContactNameChange","handleContactNumberChange","handleAddressChange","ProjectForm","handleProjectNameChange","handleProjectCodeChange","prjDescription","handleProjectDescriptionChange","ContractForm","contactEmails","contactPerson","effectDate","expiryDate","PopupList","handleSelection","_useState","useState","_useState2","slicedToArray","visible","setVisible","display","flexDirection","justifyContent","alignItems","lineHeight","border","AssetForm","sent","handleAssetTitleChange","handleAssetPoolChange","handleAssetAssetEquipChange","handleAssetLocationChange","popuplist","locations","handleAssetLocationSelect","handleAssetDescriptionChange","handleAssetCountChange","handleAssetSNoChange","handleAssetRemarksChange","handleMainLogDateChange","handleMainLogPerfromedByChange","handleMainLogDetailsChange","InvCliAsst","fullClientsList","fullProjectsList","fullContractsList","assetsItems","fullAssetsItems","assetsMaintLog","fullAssetsMaintLog","showClientsProcess","showProjectsProcess","showContractsProcess","showAssetsProcess","showMainLogProcess","selectedAsset","selectedMainLog","visibileColumns","first","last","visibilityFlags","propControl","propControlTitle","handleGoLeft","i","handleGoRight","clientFormHandlers","sort","b","x","toLowerCase","y","projectFormHandlers","assetFormHandlers","_handleOnSave","mainLogFormHandlers","handleClientColumnClick","handleOnClientClick","handleProjectColumnClick","handleOnProjectClick","handleContractColumnClick","handleOnContractClick","locAssets","Set","la","handleOnAssetClick","assetTitle","handleAssetsColumnClick","handleMainLogColumnClick","handleOnMainLogClick","handleOnClientSearch","indexOf","handleOnProjectSearch","handleOnContractSearch","handleOnAssetSearch","renderProperties","clientform","projectform","assetform","contractform","mainlogform","columnStyle","columnTitleStyle","searchTextStyle","handleOnMainLogSearch","propColumnStyle","propColumnTitleStyle","newestOnTop","rtl","pauseOnVisibilityChange","borderWidth","MastPrjServForm","Manning","getPrjServices","prjServicesDb","services","docPrjServ","service","addPrjService","newmajorservice","updatePrjService","updatemajorservice","getPrjServicesDoc","desc","MastPrjServices","default","handleServiceClick","mastprjsrvform","addJobCard","jc","newJCNum","jcNum","jcd","jcDate","jct","jcTime","jctkt","jcTicketNum","jcPName","jcPrjName","jcCName","jcContName","jcdetails","jcDetails","jcstate","jcStatus","newjobcard","maintenanceDb","JobNumber","m","jcNumber","jcMonth","jcYear","setResult","funcReturn","updateJobCard","getJobCardList","docJobCard","getJobCardDoc","jcn","getProjectsList","getTicketsList","tkt","ticketNumber","MainJCForm","timeValues","time","status","handleOnProjectChange","r","MainJobCards","jobcards","displayJC","searchValue","onValueChange","handleSearchValueChange","handleSearch","jobcard","optional","allow","max","_this$setState","defineProperty","handleJCClick","mainjcform","reading","transTime","pHReading","clReading","tempReading","addPoolReading","poolName","poolsDb","docName","updatePoolReading","getReadingsList","readings","docReading","MaintPoolReadingForm","poolsList","readingData","selectedPool","poolReadings","selectedReadingIndex","includes","handlePoolsOnChange","readingByDate","handleTransTimeOnChange","handleReadingValueOnChange","handleReadingClick","maintpoolreading_servicechargerow","ServiceRow","servicesList","servList","serviceName","subcontracted","defaultChecked","subcontValue","manfeestype","manfeesvalue","manPower","quotedValue","getServicesList","docService","getClientsList","find","getProjectsContractsList","getProjectsContractDoc","addContract","contDef","Services","serv","updateContract","ContractDef","ProjectName","TopButtonsOptions","any","handleOnDetailsChange","_event$currentTarget","handleOnProjectsChange","handleOnContractChange","ed","xd","handleOnChange","_contract$Services$in","_contract$Services$in2","handleOnServiceAdded","caclSubtotal","subtotal","calcContractValue","_this$state$contract","months","Math","round","ContractList","servicesStyle","servicerow","getPrjContPlan","pName","Plans","updatePrjContPlans","plans","dataPlan","JobPlanner","selectedPrj","selectedCont","selectedPlan","selectedPPlan","servicePlans","ServiceName","periodsPanelID","plan","fromDate","toDate","handleCnacel","propsPanel","chartPnaleClass","propPanelVisible","handleProjectsClick","handleContractsClick","pp","localeCompare","findIndex","fd","fm","fy","td","tm","ty","handleOnPlanClick","planIndex","handleToggleProperties","rowStyle","concat","chartPackage","chartEvents","chart_events","graph_id","showRowNumber","minValue","maxValue","format","hrStyle","class","marginLeft","marginRight","Login","credentials","useremail","password","user","errorMessage","_this$state$credentia","updateToken","signInWithEmailAndPassword","refreshToken","uid","onSuccessfulSignin","uprof","setItem","stringify","clear","onSignOut","formStyle","errorMsgStyle","fontStyle","formatDate","separator","aDt","fOpt","f","nDD","nMM","nYYYY","nDt","TicketsList","onTicketClick","OpeningDT","ClientName","Subject","TicketForm","_this$props$ticket","ticket","AttendedBy","ComplCat","ClosedBy","ClosingDT","ContractName","Details","Duration","FileAttach","ReportedBy","ReportedOn","tsOpeningDT","compleCatList","openedBy","onClientChange","onProjectChange","ReplyForm","_props$reply","reply","RepliedBy","FileAttachement","tsReplyDT","onFileSelect","jcListVisible","setjcListVisible","_useState3","_useState4","jcList","setjcList","useEffect","getJobCardListOfProject","ticketform_JCList","_returnedResult$Resul","newText","onClose","input_TextAreaEnh","words","JCList","overflowY","cursor","EmailType","sendEmail","templateParams","emailType","emailServiceID","emailServiceUserID","emailjs","send","getComplCat","getTicketReplies","ticketNum","replies","docReply","str","replace","fromCharCode","match","FileAttachment","replyId","addTicketSupport","_emailComponents","newticket","ticketcounter","clContEmail","emailComponents","ticket_number","subject","date_time","opened_by","cl_prj_cont","subj_cat","TicketCounter","retval","hdEmail","email","obUserEmail","newTNumber","TicketNumber","email_to","email_from","reply_to","postTicketReplySupport","_emailComponents2","tn","rb","rdt","rd","charCodeAt","newreply","getUserDisplayName","UID","usersDb","users","docUser","displayName","TicketDetails","getUserName","userID","isReply","colSpan","ticketdetails_AttachedFile","file","ticketform_ReplyForm","AttachedFile","fileIcon","alignContent","DownloadURL","target","FileName","getAttachmentsList","storageDb","attachments","docAttachment","getClientAttachmentsList","uploadAttachment","attachment","storageRef","task","storage","put","Promise","resolve","reject","on","getDownloadURL","dURL","UploadDate","toString","logUpload","uploadReplyAttachment","TitleText","storageDoc","FileSize","deleteAttachment","delete","unLogUpload","Tickets","selectedTicketIndex","showReply","onReply","handleReply","handleOnFileSelect","files","getHours","getMinutes","getSeconds","arrA","arrB","arrAD","arrAT","arrBD","arrBT","parseInt","ticketIndex","Replies","hideProcess","handleOnReplyChange","oldStatus","handleTicketRowClick","handleClientChange","handleProjectChange","ticketslist","ticketform","ticketdetails","TicketsByMonthForm","params","ddlMonth","ddlYear","action","method","TicketsByContractForm","ddlClients","ddlProjects","ddlContracts","dtFrom","dtTo","handleClientsClick","process","TicketsStatSumForm","JobCardsByDateForm","JobCardsStatSumForm","ReturnForm","forms","tbmForm","ticketsbymonth","reqForm","ticketscontractwise","ticketsstatisticssummary","jobcardsdatewise","jcstatisticssummary","Reports","repCatBtn","selectedRepCatIndex","handleRepCatClick","repCat","rc","handleReportClick","report","Report","Form","reports","returnform","PopupWindow","visibleStyle","background","top","left","visibility","transition","hiddenStyle","backshade","contents","displayPopWin","onClickPopup","children","closePopWin","displaystyle","element","showbutton","buttonstyle","flex","MetersForm","handleOnPopup","readingValue","popupwindow","handleMeterNumberChange","handleMeterTypeChange","handleMeterLocationChange","handleMeterRemarksChange","ReadingsForm","getMeterReading","prj","ctr","mnum","handleReadingDateChange","handleReadingValueChange","consumption","ContMeterReadings","metersItems","fullMetersItems","fullMeterReadings","showMetersProcess","selectedMeter","selectedReading","metersFormHandlers","handleGetReadings","handleMeterCountChange","readingsFormHandlers","prevReading","handleOnMeterClick","handleMetersColumnClick","handleReadingsLogColumnClick","handleOnMeterReadingsClick","selectedReadingDate","contract_meter_readings_clientform","contract_meter_readings_projectform","metersform","contract_meter_readings_contractform","meterreadingsform","getUserGroups","userGroups","docUG","getUserGroup","ugName","userGroup","getUsers","userGroupName","getUser","userName","addUserGroup","editUserGroup","addUser","_ref7","_callee7","currentUser","currUserPw","_context7","createUserWithEmailAndPassword","signOut","updateProfile","phoneNumber","editUser","_ref8","_callee8","oldPw","_args8","_context8","updatePassword","getClientUsers","_ref9","_callee9","_context9","userEmail","addClientUser","_ref10","_callee10","_context10","passWord","SlidingSwitch","switchState","circleState","switchDiv","setSwitchDiv","circleDiv","setCircleDiv","toggleSwitch","sD","toggleCircle","cD","ThinSwitch","_useState5","_useState6","_useState7","_useState8","UserGroupForm","Privileges","Superuser","Masters","MastHDD","MastInvD","MastUAdmin","MastSProf","Assets","AssetsClients","AssetsContracts","Financials","FinClientSOA","Maintenance","MaintenanceJP","MaintenanceJC","CustCare","CustCareTkt","handleInputChange","slidingswitch_SlidingSwitch","slidingswitch_ThinSwitch","UserForm","confPassWord","confPwError","handlePasswordConfirm","handleDisable","handleUGChange","UserGroup","UserAdmin","showUGProcess","showUsersProcess","selectedUG","selectedUser","emailVerified","photoURL","unitsPath","userGroupFormHandlers","val","userFormHandlers","handleUGColumnClick","handleOnUGClick","handleUserColumnClick","handleOnUserClick","usergroupform","userform","ClientUserForm","handleContractChange","ClientUserAdmin","commGroup","userIndex","clientuserform","AttachList","onAttachClick","ClientAttachForm","checkTitleText","tt","verticalAlign","checkFilename","fn","_this$props$attachmen","onTitleChange","onClientSelect","CRMUploadAttach","handleDelete","splice","alert","handleOnClientSelect","handleOnTitleChange","handleAttachmentRowClick","attachlist","clientAttachForm","NavRedirect","_this$props$authFunc","authFunc","handleSignin","handleSignout","handleTokenUpdate","handleSuccessfulSignin","login","onSignin","useradmin","clientuseradmin","dashboard","mastcustcare","mastinvdepend","mastprjsrv","fin_soa","fin_jv","invclientasset","contractmeterreading","contractdefinition","mainjobcards","jobplanner","maintpoolreading","customercare_tickets","crmuploadattach","reports_reports","library","add","faPlus","faSearch","faSave","faWindowClose","faStop","faBan","faSyncAlt","faChartLine","faEdit","faTrashAlt","faReply","faChevronLeft","faChevronRight","faAngleDoubleLeft","faAngleDoubleRight","App","uProfile","showMenuBar","handleShowMenuBar","authFunctions","creds","uemail","upass","ue","up","titleheader","navbar","navredirect","Boolean","window","hostname","ReactDOM","BrowserRouter","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a94cee7e.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/processing.a6e3d85f.gif\";","module.exports = \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Navbar } from 'react-bootstrap';\r\n\r\nimport Logo from '../images/esmlogo.jpg';\r\n\r\nconst NavBarBrandItem = (props) => {\r\n    const { brandName } = props;\r\n    return (\r\n        <Navbar.Brand style={{paddingLeft: 0}}>\r\n            <a href=\"/\" style={{width: \"100%\"}}>\r\n                <img src={Logo}\r\n                    style={{margin: \"-0.5em\"}}\r\n                    alt=\"Experts Service Management\" \r\n                    height=\"200%\" />\r\n                {/* <span style={{fontSize: '0.75em', fontWeight: 'bold'}}>Experts Service<br /> Management</span> */}\r\n            </a>\r\n        </Navbar.Brand>\r\n    );\r\n};\r\n\r\nexport const NavBarAppTitle = (props) => {\r\n    const { brandName } = props;\r\n    return (\r\n        <Navbar.Brand>\r\n            <label style={{fontSize: \"1vw\", color: \"blue\"}}>Facility Management System Ver. 2.0</label>\r\n        </Navbar.Brand>\r\n    );\r\n};\r\n\r\nexport default NavBarBrandItem;","import React, { Component } from 'react';\r\nimport { NavDropdown, MenuItem, NavItem } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport '../css/menuitems.css';\r\n\r\nclass MenuItemElement extends Component {\r\n    state = {\r\n        subDir: '/fms'\r\n    }\r\n\r\n    render() {\r\n        const { menuitem } = this.props;\r\n\r\n        if(menuitem.menuDropdown.length === 0)\r\n        {\r\n            return (\r\n                <NavItem eventKey={menuitem.menuOptionId}>\r\n                    <Link to={this.state.subDir + menuitem.path} >\r\n                        <button type=\"text\" \r\n                            className=\"myNavItem\">\r\n                            {menuitem.menuOptionTitle}\r\n                        </button>\r\n                    </Link>\r\n                </NavItem>\r\n            );\r\n        }\r\n        else\r\n        {\r\n            return (\r\n                <NavDropdown eventKey={menuitem.menuOptionId} \r\n                    title={menuitem.menuOptionTitle} \r\n                    id=\"basic-nav-dropdown\" >\r\n                    {menuitem.menuDropdown.map(dd => {\r\n                        return (\r\n                                <MenuItem \r\n                                    key={dd.ddItemId} \r\n                                    eventKey={dd.ddItemId} style={{padding: \"0\", margin: \"0\"}}>\r\n                                        <Link to={this.state.subDir + dd.path} \r\n                                            className=\"myNavButton\"\r\n                                            >\r\n                                            <button className='myNavInnerButton'>\r\n                                                {dd.ddItemTitle}\r\n                                            </button>\r\n                                        </Link>\r\n                                </MenuItem>\r\n                                )\r\n                    })}\r\n                </NavDropdown>\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nexport default MenuItemElement;","import React, { Component } from 'react';\r\nimport { Nav, Navbar } from 'react-bootstrap';\r\nimport NavBarBrandItem, { NavBarAppTitle } from './navbarbrand';\r\nimport MenuItemElement from './menuitem';\r\n\r\nimport menuStructure from '../resources/menu.json';\r\n\r\nclass NavMenu extends Component {\r\n    state = {\r\n        uprofile: {},\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <Navbar collapseOnSelect>\r\n                <Navbar.Header>\r\n                    <NavBarBrandItem brandName=\"Experts Services Management\" />\r\n                </Navbar.Header>\r\n                <Navbar.Toggle />\r\n                <Navbar.Collapse>\r\n                    <Nav>\r\n                        {(this.props.menuBarVisible) ? \r\n                            menuStructure.map(mi => {return <MenuItemElement key={mi.menuOptionId} menuitem={mi} />}) \r\n                            : \"\"}                    \r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n            \r\n        );\r\n    }\r\n};\r\n\r\nexport class NavHeader extends Component {\r\n    \r\n    render() {\r\n        \r\n        return (\r\n            <Navbar collapseOnSelect>\r\n                \r\n                <Navbar.Toggle />\r\n                \r\n            </Navbar>\r\n            \r\n        );\r\n    }\r\n};\r\n\r\n\r\nexport default NavMenu;\r\n","import React from 'react';\r\n\r\nconst TitleHeader = (props) => {\r\n    const titleStyle = {\r\n        paddingTop: \"2vh\",\r\n        paddingBottom: \"2vh\",\r\n        textAlign: \"center\",\r\n        fontSize: \"4vh\",\r\n        color: props.color,\r\n        fontWeight: \"bold\",\r\n        height: \"9vh\",\r\n        backgroundColor: props.bgColor,\r\n        textShadow: \"2px 2px lightgray\"\r\n    }\r\n\r\n    const { title } = props;\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-12\" style={titleStyle}>\r\n                {title}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TitleHeader;\r\n\r\nexport const TitlePageHeader = (props) => {\r\n    const titleStyle = {\r\n        paddingBottom: \"2vh\",\r\n        textAlign: \"center\",\r\n        fontSize: \"3vh\",\r\n        color: props.color,\r\n        fontWeight: \"bold\",\r\n        height: \"8vh\",\r\n        backgroundColor: props.bgColor,\r\n        textShadow: \"2px 2px lightgray\"\r\n    }\r\n\r\n    const { title } = props;\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-12\" style={titleStyle}>\r\n                {title}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\n// const devConfig = {\r\n//     apiKey: \"AIzaSyDE_-dGUwJaNhYjRIj0H3CIamgppvUviLE\",\r\n//     authDomain: \"experts-sm.firebaseapp.com\",\r\n//     databaseURL: \"https://experts-sm.firebaseio.com\",\r\n//     projectId: \"experts-sm\",\r\n//     storageBucket: \"experts-sm.appspot.com\",\r\n//     messagingSenderId: \"296690782042\"\r\n// };\r\n\r\nconst devConfig = {\r\n  apiKey: \"AIzaSyB-9sI2zff2kHF_V6fGpriD3FSTGb9AxL0\",\r\n  authDomain: \"airmechcafm-training.firebaseapp.com\",\r\n  databaseURL: \"https://airmechcafm-training.firebaseio.com\",\r\n  projectId: \"airmechcafm-training\",\r\n  storageBucket: \"airmechcafm-training.appspot.com\",\r\n  messagingSenderId: \"623690321802\"\r\n};\r\n\r\nconst prodConfig = {\r\n  apiKey: \"AIzaSyB-9sI2zff2kHF_V6fGpriD3FSTGb9AxL0\",\r\n  authDomain: \"airmechcafm-training.firebaseapp.com\",\r\n  databaseURL: \"https://airmechcafm-training.firebaseio.com\",\r\n  projectId: \"airmechcafm-training\",\r\n  storageBucket: \"airmechcafm-training.appspot.com\",\r\n  messagingSenderId: \"623690321802\"\r\n};\r\n\r\nconst config = process.env.NODE_ENV === 'production'\r\n  ? prodConfig\r\n  : devConfig;\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(config);\r\n}\r\n\r\nconst auth = firebase.auth();\r\n\r\nexport {\r\n  auth, firebase\r\n};","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getTicketsStatistics = async () => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var ticketsDb = db.collection('HelpDesk');\r\n\r\n    var tickets = [];\r\n    var ticketsStatistics = {\r\n\r\n    };\r\n\r\n    return ticketsDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docTicket) => {\r\n                tickets.push({...docTicket.data(), TicketNum: docTicket.id});\r\n\r\n            });\r\n\r\n            let openTickets = tickets.filter(t => { return t.TicketStatus === 'Open'});\r\n            let closedTickets = tickets.filter(t => { return t.TicketStatus === 'Closed'});\r\n            let inProgTickets = tickets.filter(t => { return t.TicketStatus === 'In Progress'});\r\n            \r\n            ticketsStatistics.Open = openTickets.length;\r\n            ticketsStatistics.Closed = closedTickets.length;\r\n            ticketsStatistics.InProgress = inProgTickets.length;\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = ticketsStatistics;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'Could not fetch statistics. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n","import React, { Component } from 'react';\r\nimport { TitlePageHeader } from './titleheader/titleheader';\r\nimport Chart from \"react-google-charts\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport processing from '../images/processing.gif';\r\n\r\nimport { getTicketsStatistics } from '../appcode/dashboard';\r\n\r\nclass Dashboard extends Component {\r\n    state = {\r\n        uprofile: {},\r\n        ticketsStatistics: {},\r\n        showProcess: false\r\n    }\r\n\r\n    columns = [\r\n        { type: \"string\", id: \"Service\" },\r\n        { type: \"string\", id: \"Title\"},\r\n        { type: \"date\", id: \"Start\" },\r\n        { type: \"date\", id: \"End\" }\r\n      ];\r\n    \r\n    rows = [\r\n            [\"Washington\", new Date(1789, 3, 30), new Date(1795, 2, 4)],\r\n            [\"Washington\", new Date(1797, 2, 15), new Date(1798, 2, 4)],\r\n            [\"Badih\", new Date(1791, 3, 30), new Date(1794, 1, 4)],\r\n            [\"Badih\", new Date(1794, 8, 15), new Date(1798, 2, 4)]\r\n    \r\n    ];\r\n\r\n    componentDidMount = () => {\r\n        this.setState({ showProcess: true });\r\n\r\n        let ticketsStatistics = {\r\n            Open: 0,\r\n            Closed: 0,\r\n            InProgress: 0\r\n        }\r\n\r\n        getTicketsStatistics()\r\n            .then(result => {\r\n                if(result.Success)\r\n                {\r\n                    ticketsStatistics = {...result.Result};\r\n\r\n                    this.setState({ ticketsStatistics });\r\n                }\r\n                else\r\n                {\r\n                    this.setState({ ticketsStatistics });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.setState({ ticketsStatistics });\r\n            })\r\n\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n\r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    };\r\n\r\n    render ()\r\n    {\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Dashboard\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"row\" style={rowDivStyle}>\r\n                    <div className=\"col-md-12\">\r\n                        <div className=\"row\" style={{padding: '0', margin: '0'}}>\r\n                            <div className=\"col-md-4\" style={chartDivStyle}>\r\n                                <Chart\r\n                                    chartType=\"PieChart\"\r\n                                    data={[\r\n                                        ['Status', 'Count'],\r\n                                        ['Open', this.state.ticketsStatistics.Open],\r\n                                        ['In Progress', this.state.ticketsStatistics.InProgress],\r\n                                        ['Closed', this.state.ticketsStatistics.Closed],\r\n                                    ]}\r\n                                    width=\"100%\"\r\n                                    height=\"300px\"\r\n                                    loader={<div>Loading Chart</div>}\r\n                                    options={{\r\n                                            title: 'Customer-care Tickets Statistics',\r\n                                            is3D: true,\r\n                                            legend: 'none',\r\n                                        }} \r\n                                    />\r\n                            </div>\r\n                            <div className=\"col-md-4\" style={barChartDivStyle}>\r\n                                <Chart\r\n                                    chartType=\"LineChart\"\r\n                                    data={[\r\n                                        ['Revenue', 'Month'],\r\n                                        [\"Jan '19\", 15000.000],\r\n                                        [\"Feb '19\", 10350],\r\n                                        [\"Mar '19\", 9489],\r\n                                        [\"Apr '19\", 11225],\r\n                                        [\"May '19\", 20200],\r\n                                        [\"Jun '19\", 10000],\r\n                                        [\"Jul '19\", 5200],\r\n                                        [\"Aug '19\", 2500],\r\n                                        [\"Sep '19\", 3500],\r\n                                        [\"Oct '19\", 8000],\r\n                                        [\"Nov '19\", 9000],\r\n                                        [\"Dec '19\", 5352]\r\n                                    ]}\r\n                                    width=\"100%\"\r\n                                    height=\"300px\"\r\n                                    loader={<div>Loading Chart</div>}\r\n                                    options={{\r\n                                        title: 'Revenue during 2019',\r\n                                        vAxis: {\r\n                                            title: 'Revenue (OMR)',\r\n                                        },\r\n                                        hAxis: {\r\n                                            title: 'Month',\r\n                                        },    \r\n                                        is3D: true,\r\n                                        legend: 'none',\r\n                                        }} \r\n                                    />\r\n                            </div>\r\n                            <div className=\"col-md-4\" style={chartDivStyle}>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n\r\n        );\r\n    }\r\n};\r\n\r\nexport default Dashboard;\r\n\r\nconst chartDivStyle = {\r\n    borderStyle: 'solid',\r\n    borderSize: '1px',\r\n    borderColor: 'lightgray',\r\n    borderRadius: '20px',\r\n    boxShadow: '5px 5px gray',\r\n    minHeight: '330px',\r\n    overflow: 'auto',\r\n    backgroundColor: 'white'\r\n}\r\n\r\nconst barChartDivStyle = {\r\n    borderStyle: 'solid',\r\n    borderSize: '1px',\r\n    borderColor: 'lightgray',\r\n    borderRadius: '20px',\r\n    boxShadow: '5px 5px gray',\r\n    minHeight: '330px',\r\n    overflow: 'auto',\r\n    paddingTop: '10px',\r\n    backgroundColor: 'white'\r\n}\r\n\r\nconst rowDivStyle = {\r\n    paddingLeft: \"20px\",\r\n    paddingRight: \"20px\"\r\n}","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\n\r\nconst lookupDiv = {\r\n    width: \"100%\", \r\n    paddingBottom: \"5px\", \r\n    marginBottom: \"5px\", \r\n    borderBottom: \"solid thin\"\r\n};\r\n\r\nconst lookupDivPH = {\r\n    width: \"100%\", \r\n    paddingBottom: \"5px\", \r\n    marginBottom: \"5px\",\r\n    marginTop: \"5px\", \r\n    borderBottom: \"solid thin\"\r\n};\r\n\r\nconst MakeButton = (button, show, onClick, style, icon) => {\r\n\r\n    if(button)\r\n    {\r\n        return (\r\n            <ButtonGroup className={(button[show] ? \"\" : \"hidden\")}>\r\n                <Button bsStyle={style} onClick={() => {button[onClick]()}}>\r\n                    <FontAwesomeIcon icon={icon} />\r\n                </Button>\r\n            </ButtonGroup>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst ToolsBar = (props) => {\r\n    const { addButton, editButton, deleteButton, refreshButton, replyButton,\r\n            searchButton, saveButton, cancelButton, btnPlaceHolder, searchPlaceHolder } = props.buttonsOptions;\r\n    const { onSearchValueChange } = props;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"row\" >\r\n                <div className=\"col-md-12\" style={{paddingTop: \"1vh\"}}>\r\n                    <ButtonGroup justified>\r\n                        \r\n                        {MakeButton(addButton, \"showAdd\", \"onAdd\", \"primary\", \"plus\")}\r\n                        {MakeButton(editButton, \"showEdit\", \"onEdit\", \"primary\", \"edit\")}\r\n                        {MakeButton(deleteButton, \"showDelete\", \"onDelete\", \"danger\", \"trash-alt\")}\r\n                        {MakeButton(refreshButton, \"showRefresh\", \"onRefresh\", \"primary\", \"sync-alt\")}                        \r\n                        {MakeButton(saveButton, \"showSave\", \"onSave\", \"success\", \"save\")}\r\n                        {MakeButton(cancelButton, \"showCancel\", \"onCancel\", \"danger\", \"ban\")}\r\n                        {MakeButton(replyButton, \"showReply\", \"onReply\", \"primary\", \"reply\")}\r\n                        \r\n                        <ButtonGroup className={(btnPlaceHolder ? \"\" : \"hidden\")}>\r\n                            <Button bsStyle=\"primary\" disabled=\"disabled\" style={{height: \"5vh\"}}>                                \r\n                            </Button>\r\n                        </ButtonGroup>\r\n                        \r\n\r\n                    </ButtonGroup>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={lookupDiv} className={(searchButton.showSearch ? \"\" : \"hidden\")}>\r\n                <div className=\"lookupbar\">\r\n                    <div>\r\n                        <input type=\"text\" id=\"txtCatLookup\" \r\n                            className=\"form-control input-sm\" width=\"100%\"\r\n                            onChange={onSearchValueChange} />\r\n                        \r\n                    </div>\r\n                    <div>\r\n                        <button id=\"btnCatLookup\" className=\"btn btn-primary form-control input-sm\" \r\n                            width=\"50%\" onClick={() => searchButton.onSearch()}>\r\n                            <FontAwesomeIcon icon=\"search\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <ButtonGroup justified className={(searchPlaceHolder ? \"\" : \"hidden\")} style={lookupDivPH}>\r\n                <ButtonGroup >\r\n                    <Button bsStyle=\"primary\" disabled=\"disabled\" style={{height: \"5vh\"}}>                                \r\n                    </Button>\r\n                </ButtonGroup>\r\n            </ButtonGroup>\r\n\r\n        </React.Fragment>\r\n    );\r\n}; \r\n\r\nexport default ToolsBar;","import React from 'react';\r\nimport '../css/inputcomponents.css';\r\n\r\nexport const ilInput = ({ name, type, label, value, onChange, flgDisabled, error }) => {\r\n    return (\r\n        <div className=\"form-group row fieldContainer\">\r\n            <label htmlFor={name} className=\"col-sm-2 col-form-label inputLabel\">\r\n                {label}\r\n            </label>\r\n            <div className=\"col-sm-10\">\r\n                <input\r\n                    value={value}\r\n                    onChange={onChange}\r\n                    id={name}\r\n                    name={name}\r\n                    type={type}\r\n                    className=\"form-control\"\r\n                    disabled={flgDisabled}\r\n                />\r\n                {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Input = ({ name, type, label, value, onChange, flgDisabled, error }) => {\r\n    return (\r\n        <div className=\"form-group row fieldContainer\">\r\n            <label htmlFor={name} className=\"col-form-label inputLabel\">\r\n                {label}\r\n            </label>\r\n            <input\r\n                value={value}\r\n                onChange={onChange}\r\n                id={name}\r\n                name={name}\r\n                type={type}\r\n                checked={type == 'checkbox' ? value : ''}\r\n                className=\"form-control\"\r\n                disabled={flgDisabled}\r\n            />\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const ilTextArea = ({ name, label, value, onChange, rows, flgDisabled, error }) => {\r\n    return (\r\n        <div className=\"form-group row fieldContainer\">\r\n            <label htmlFor={name} className=\"col-sm-2 col-form-label textareaLabel\">\r\n                {label}\r\n            </label>\r\n            <div className=\"col-sm-10\">\r\n                <textarea\r\n                    value={value}\r\n                    onChange={onChange}\r\n                    id={name}\r\n                    name={name}\r\n                    rows={rows}\r\n                    className=\"form-control\"\r\n                    disabled={flgDisabled}\r\n                ></textarea>\r\n                {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const TextArea = ({ name, label, value, onChange, rows, flgDisabled, error }) => {\r\n    return (\r\n        <div className=\"form-group row fieldContainer\">\r\n            <label htmlFor={name} className=\"col-form-label textareaLabel\">\r\n                {label}\r\n            </label>\r\n            <textarea\r\n                value={value}\r\n                onChange={onChange}\r\n                id={name}\r\n                name={name}\r\n                rows={rows}\r\n                className=\"form-control\"\r\n                disabled={flgDisabled}\r\n            ></textarea>\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const TextAreaEnh = ({ name, label, value, onChange, onInput, flgDisabled, error }) => {\r\n    return (\r\n        <div className=\"form-group row fieldContainer\">\r\n            <label htmlFor={name} className=\"col-form-label textareaLabel\">\r\n                {label}\r\n            </label>\r\n            <div style={{height: \"100px\", overflow: \"scroll\"}}\r\n                onInput={(e) => { \r\n                    let name = e.currentTarget.name;\r\n                    let value = e.currentTarget.innerText;\r\n\r\n                    onInput(value); \r\n                }} //{onChange}\r\n                onBlur={(e) => { \r\n                    let value = e.currentTarget.innerHTML;\r\n                    let name = e.currentTarget.name;\r\n\r\n                    onChange(name, value);\r\n                }}\r\n                id={name}\r\n                name={name}\r\n                className=\"form-control\"\r\n                contenteditable=\"true\" //{flgDisabled}\r\n                dangerouslySetInnerHTML={{__html: value }}\r\n            />\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const DropDownList = ({ name, label, values, onChange, flgDisabled, error, defValue }) => {\r\n    \r\n    let options;\r\n    \r\n    if(!values) \r\n    {\r\n        options = ``;\r\n    }\r\n    else\r\n    {\r\n        options = (\r\n            values.map(v => { \r\n                return <option \r\n                        key={v.Name} \r\n                        value={v.Name} \r\n                        selected={v.Name === defValue ? \"selected\" : \"\"}>\r\n                            {v.Name}\r\n                        </option>})\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-group row fieldContainer\">\r\n            <label htmlFor={name} className=\"col-form-label selectLabel\">\r\n                {label}\r\n            </label>\r\n            <select name={name} id={name} disabled={flgDisabled}\r\n                className=\"form-control\" onChange={onChange}>\r\n                <option value=\"\"></option>\r\n                {options}\r\n            </select>\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const ilDropDownList = ({ name, label, values, onChange, flgDisabled, error, defValue }) => {\r\n    return (\r\n        <div className=\"form-group row fieldContainer\">\r\n            <label htmlFor={name} className=\"col-sm-2 col-form-label selectLabel\">\r\n                {label}\r\n            </label>\r\n            <div className=\"col-sm-10\">\r\n                <select name={name} id={name} disabled={flgDisabled}\r\n                    className=\"form-control\" onChange={onChange}>\r\n                    {\r\n                        values.map(v => { return <option key={v} selected={v === defValue ? \"selected\" : \"\"}>{v}</option>})\r\n                    }\r\n                </select>\r\n                {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Input;","import React, {Component} from 'react';\r\nimport Input, { TextArea } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport '../../css/mastcc-inqcat.css';\r\nimport processing from '../../images/processing.gif';\r\n\r\n\r\nclass MastInvICForm extends Component {\r\n    state = {\r\n        fields: {\r\n            Name: '',\r\n            Description: ''\r\n        }\r\n        \r\n    };\r\n\r\n    render() {\r\n        const { onChange, onSubmit, onCancel, data, flags, errors, showProcess, showButtons } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <form style={{marginTop: \"10px\"}} >\r\n                    <Input \r\n                        name=\"Name\" \r\n                        label=\"Category Name:\" \r\n                        type=\"text\" \r\n                        onChange={onChange} \r\n                        value={data.Name}\r\n                        flgDisabled={flags.isAdd ? \"\" : \"disabled\"}\r\n                        error={errors.Name ? errors.Name : \"\"} \r\n                        />\r\n                    \r\n                    <TextArea \r\n                        name=\"Description\" \r\n                        label=\"Category Description:\" \r\n                        onChange={onChange} \r\n                        rows={10} \r\n                        value={data.Description} \r\n                        flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                        error={errors.Description ? errors.Description : \"\"}  \r\n                        />\r\n\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"2vh\"}} />\r\n\r\n                    <div className={\"btn-toolbar btnToobar\" + ((flags.isAdd || flags.isEdit) && showButtons ? \"\" : \" hidden\")} >\r\n                        <div className=\"btn-group btn-group-justified\">\r\n                            <button type=\"button\"\r\n                                className=\"btn btn-primary\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onSubmit()} >\r\n                                <FontAwesomeIcon icon=\"save\" />\r\n                            </button>\r\n                            <button type=\"button\" \r\n                                className=\"btn btn-danger\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onCancel()}>\r\n                                <FontAwesomeIcon icon=\"ban\" />\r\n                            </button>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default MastInvICForm;","import { firebase } from '../constants/firebase';\r\n\r\nvar db = firebase.firestore();\r\n  \r\nconst settings = { timestampsInSnapshots: true };\r\ndb.settings(settings);\r\n\r\n// ---------------------------------------------------------------------------------------\r\n\r\nexport const addNewInvCategory = (category) => {\r\n    // This function creates a new Equipment Category document,\r\n    // or reset the existing one.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. Category's Name\r\n    // 2. Description\r\n    // 6. Over-write if exists flag (Y/N)\r\n\r\n    try {\r\n        var ow = 'N';\r\n  \r\n        var funcSuccess = \"\";\r\n        var funcResult = \"\";\r\n        var funcError = \"\";\r\n        var funcWarning = \"\";\r\n        var funcFailReason = \"\";\r\n  \r\n        var categoriesDb = db.collection('Inventory').doc('Dependencies').collection('Categories');\r\n  \r\n      }\r\n      catch(err)\r\n      {\r\n        console.log(err);\r\n      }\r\n  \r\n      // check if a document exists for the mentioned category name...\r\n      return categoriesDb.doc(category.Name).get()\r\n        .then((snapshot) => {\r\n          if(snapshot.exists) {\r\n            // The category document exists...\r\n            if(ow.toUpperCase() == 'Y') {\r\n              // Yes, overwrite existsing client document...\r\n              \r\n              return categoriesDb.doc(category.Name).set(category);\r\n            }\r\n            else {\r\n              // Do not overwrite... Return the results...\r\n              funcSuccess = 'No';\r\n              funcResult = {};\r\n              funcFailReason = 'Category already exists. No Overwrite.';\r\n  \r\n              var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning };\r\n  \r\n                return funcReturn;\r\n            }\r\n          }\r\n          else {\r\n            // No document exists for this category... Create a new document...\r\n            return categoriesDb.doc(category.Name).set(category);\r\n          }\r\n        })\r\n        .then((result) => {\r\n          // On successful writing of category document to database...\r\n          funcSuccess = 'Ok';\r\n          funcResult = {};\r\n  \r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n  \r\n            return funcReturn;\r\n  \r\n        })\r\n        .catch((err) => {\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Error';\r\n          funcError = err.message;\r\n  \r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n  \r\n            return funcReturn;\r\n        });\r\n}\r\n\r\nexport const updateInvCategory = (category) => {\r\n    // This function updates an existsing category document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. Client's Name\r\n    // 2. Description\r\n    //\r\n\r\n    var cn = category.Name;\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var categoriesDb = db.collection('Inventory').doc('Dependencies').collection('Categories');\r\n\r\n    // check if a document exists for the mentioned category name...\r\n    return categoriesDb.doc(cn).get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The client document exists. Update category document...\r\n          return categoriesDb.doc(cn).update(category);\r\n        }\r\n        else {\r\n          // No document exists for this category... Return result...\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Category do not exist.'\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n      })\r\n      .then((result) => {\r\n        // On successful writing of category document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = {};\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const getCategoryByName = (cName) => {\r\n    // This function gets an existsing Category document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. Category's Name\r\n    //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var categoriesDb = db.collection('Inventory').doc('Dependencies').collection('Categories');\r\n\r\n    // check if a document exists for the mentioned category name...\r\n    return categoriesDb.doc(cName).get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The category document exists. Return the category document...\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = snapshot.data();\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n        else {\r\n          // No document exists for this category... Return result...\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Category do not exist.'\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const getCategList = () => {\r\n    // This function gets the list fo Categories names of all existing categories.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params:\r\n    //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var categoriesDb = db.collection('Inventory').doc('Dependencies').collection('Categories');\r\n\r\n    // check if a document exists...\r\n    return categoriesDb.get()\r\n      .then((snapshot) => {\r\n        // go through the snapshot docs and get the categories names and push\r\n        // them into a JSON string...\r\n\r\n        if(snapshot.docs.length == 0)\r\n        { // There are no docs in the clients snapshot...\r\n          funcSuccess = 'No';\r\n          funcResult = [];\r\n          funcFailReason = 'There are no categories found. Returning Empty List.';\r\n\r\n        }\r\n        else {\r\n          let categories = [];\r\n          snapshot.forEach((docCateg) => {\r\n                categories.push(docCateg.data());            \r\n            });\r\n          \r\n          funcSuccess = 'Ok';\r\n          funcResult = categories;\r\n\r\n        }\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\n// ---------------------------------------------------------------------------------------\r\n\r\nexport const addEquipmentTemplate = (equipTemp) => {\r\n  // This function creates a new Equipment document.\r\n  // This function will not reset any existing document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts the following params:\r\n  // 1. EquipName\r\n  // 2. SerialNumber\r\n  // 3. PurchaseValue\r\n  // 4. PurchaseDate\r\n  // 5. Description\r\n  // 6. Category1\r\n  // 7. Category2\r\n  //\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var inventoryDb = db.collection('Inventory').doc('Dependencies')\r\n    .collection('EquipTemplates');\r\n\r\n\r\n  // check if a document exists for the mentioned category name...\r\n  return inventoryDb.doc(equipTemp.Name).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The document exists...\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Equipment Template already exists. No Overwrite.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      }\r\n      else {\r\n        // No document exists for this category... Create a new document...\r\n        return inventoryDb.doc(equipTemp.Name).set(equipTemp);\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of category document to database...\r\n      funcSuccess = 'Ok';\r\n      funcResult = '{}';\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const updateEquipTemplate = (equipTemp) => {\r\n  // This function updates an existsing Equipment document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts the following params:\r\n  // 1. EquipName\r\n  // 2. SerialNumber\r\n  // 3. PurchaseValue\r\n  // 4. PurchaseDate\r\n  // 5. Description\r\n  // 6. Category1\r\n  // 7. Category2\r\n  //\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var inventoryDb = db.collection('Inventory')\r\n                      .doc('Dependencies')\r\n                      .collection('EquipTemplates');\r\n\r\n\r\n  // check if a document exists for the mentioned equipment name...\r\n  return inventoryDb.doc(equipTemp.Name).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The document exists. Update equipment document...\r\n        return inventoryDb.doc(equipTemp.Name).update(equipTemp);\r\n      }\r\n      else {\r\n        // No document exists for this category... Return result...\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Equipment do not exist.'\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of category document to database...\r\n      funcSuccess = 'Ok';\r\n      funcResult = '{}';\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getEquipTemplate = (equipTempName) => {\r\n  // This function gets an existsing Equipment document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts the following params:\r\n  // 1. Equipment's Name\r\n  //\r\n\r\n  var en = equipTempName;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var inventoryDb = db.collection('Inventory').doc('Dependencies')\r\n    .collection('EquipTemplates');\r\n\r\n  // check if a document exists for the mentioned equipment name...\r\n  return inventoryDb.doc(en).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The document exists. Return the equipment document...\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = snapshot.data();\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n      else {\r\n        // No document exists for this category... Return result...\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Equipment do not exist.'\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n}\r\n\r\nexport const getEquipTemplatesList = () => {\r\n  // This function gets the list all existing categories.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts no params:\r\n  //\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var inventoryDb = db.collection('Inventory').doc('Dependencies')\r\n    .collection('EquipTemplates');\r\n\r\n  // check if a document exists...\r\n  return inventoryDb.get()\r\n    .then((snapshot) => {\r\n      // go through the snapshot docs and get the equipments names and push\r\n      // them into a JSON string...\r\n\r\n      if(snapshot.docs.length == 0)\r\n      { // There are no docs in the clients snapshot...\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'There are no Equipments found. Returning Empty List.';\r\n\r\n      }\r\n      else {\r\n        let result = [];\r\n\r\n        snapshot.forEach((docEquip) => {\r\n          \r\n          result.push(docEquip.data());\r\n        });\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = result;\r\n\r\n      }\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\n// ---------------------------------------------------------------------------------------\r\n\r\nexport const addSPTemplate = (spTemp) => {\r\n  // This function creates a new spare part document.\r\n  // This function will not reset any existing document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts the following params:\r\n  // 1. SparePartName\r\n  // 2. UPCNumber\r\n  // 3. Quantity\r\n  // 4. Category1\r\n  // 5. Category2\r\n  // 6. Description\r\n  //\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var inventoryDb = db.collection('Inventory').doc('Dependencies')\r\n    .collection('SPTemplates');\r\n\r\n  // check if a document exists for the mentioned Spare Part name...\r\n  return inventoryDb.doc(spTemp.Name).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The document exists...\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Spare Part already exists. No Overwrite.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      }\r\n      else {\r\n        // No document exists for this category... Create a new document...\r\n        return inventoryDb.doc(spTemp.Name).set(spTemp);\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of category document to database...\r\n      funcSuccess = 'Ok';\r\n      funcResult = '{}';\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n}\r\n\r\nexport const updateSPTemplate = (spTemp) => {\r\n  // This function updates an existsing Spare Part document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts the following params:\r\n  // 1. SparePartName\r\n  // 2. UPCNumber\r\n  // 3. Quantity\r\n  // 4. Category1\r\n  // 5. Category2\r\n  // 6. Description\r\n  //\r\n  // Collection -> Transactions (Receive, Issue, Maintain)\r\n  //\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var inventoryDb = db.collection('Inventory').doc('Dependencies')\r\n    .collection('SPTemplates');\r\n\r\n  // check if a document exists for the mentioned Spare Part name...\r\n  return inventoryDb.doc(spTemp.Name).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The document exists. Update equipment document...\r\n        return inventoryDb.doc(spTemp.Name).update(spTemp);\r\n      }\r\n      else {\r\n        // No document exists for this spare part... Return result...\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Spare Part do not exist.'\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of category document to database...\r\n      funcSuccess = 'Ok';\r\n      funcResult = '{}';\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getSPTemplate = (spTempName) => {\r\n  // This function gets an existsing Spare Part document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts the following params:\r\n  // 1. Spare Part's Name\r\n  //\r\n\r\n  var en = spTempName;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var inventoryDb = db.collection('Inventory')\r\n                      .doc('Dependencies')\r\n                      .collection('SPTemplates');\r\n\r\n  // check if a document exists for the mentioned spare part name...\r\n  return inventoryDb.doc(en).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The document exists. Return the spare part document...\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = snapshot.data();\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n      else {\r\n        // No document exists for this category... Return result...\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Spare Part do not exist.'\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getSPTemplatesList = () => {\r\n  // This function gets the list all existing Spare Part.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts no params:\r\n  //\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var inventoryDb = db.collection('Inventory')\r\n                      .doc('Dependencies')\r\n                      .collection('SPTemplates');\r\n\r\n  // check if a document exists...\r\n  return inventoryDb.get()\r\n    .then((snapshot) => {\r\n      // go through the snapshot docs and get the spare part names and push\r\n      // them into a JSON string...\r\n\r\n      if(snapshot.docs.length == 0)\r\n      { // There are no docs in the clients snapshot...\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'There are no Spare Parts found. Returning Empty List.';\r\n\r\n      }\r\n      else {\r\n        let result = [];\r\n        snapshot.forEach((docEquip) => {\r\n          result.push(docEquip.data());\r\n        });\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = result;\r\n\r\n      }\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\n// ---------------------------------------------------------------------------------------\r\n\r\n","import React, { Component } from 'react';\r\nimport processing from '../images/processing.gif';\r\n\r\nclass ItemsList extends Component {\r\n    getClassName = (selected, mtype, name, mt) => {\r\n        \r\n        if(mtype)\r\n        {\r\n            if(selected)\r\n            {\r\n                if(selected === name)\r\n                {\r\n                    return \"btn btn-danger btn-sm\";\r\n                } \r\n                else \r\n                {\r\n                    if(mt === \"Water\")\r\n                    {\r\n                        return \"btn btn-primary btn-sm\";\r\n                    } \r\n                    else return \"btn btn-warning btn-sm\";\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if(mt === \"Water\")\r\n                {\r\n                    return \"btn btn-primary btn-sm\";\r\n                } \r\n                else return \"btn btn-warning btn-sm\";\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if(selected)\r\n            {\r\n                if(selected === name) \r\n                { \r\n                    return \"btn btn-primary btn-sm\";\r\n                }\r\n                else return \"btn btn-success btn-sm\";\r\n            }\r\n            else\r\n            {\r\n                return \"btn btn-success btn-sm\"\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { data, name, label, onClick, showProcess, showList, selected, mtype } = this.props;\r\n        let tbody;\r\n        if(!data) \r\n        {\r\n            tbody = ``;\r\n        }\r\n        else\r\n        {\r\n            tbody = (\r\n                data.map(c => { \r\n                    return (\r\n                    <tr key={c[name]}>\r\n                        <td>\r\n                            <button \r\n                                className={this.getClassName(selected, mtype, c[name], (mtype ? c.Type : null))}\r\n                                key={c[name]} \r\n                                style={{width: \"100%\"}}\r\n                                onClick={() => onClick(c[name])}>\r\n                                {c[label]}\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                )})\r\n            );\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"5vh\"}} />\r\n                <table width=\"100%\" className={showList ? \"\" : \"hidden\"} >\r\n                    <tbody>\r\n                        {tbody}        \r\n                    </tbody>\r\n                </table>\r\n            </React.Fragment>\r\n                        \r\n        );\r\n    }\r\n\r\n};\r\n\r\nexport default ItemsList;","import React, { Component } from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport Joi from 'joi-browser';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport _ from 'lodash';\r\n\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport '../../css/mastcc-inqcat.css';\r\nimport MastInvICForm from './mastinv-icform';\r\n\r\nimport { addNewInvCategory, updateInvCategory, \r\n         getCategList, getCategoryByName } from '../../appcode/mastinvdepend';\r\nimport ItemsList from '../../common/itemslist';\r\n\r\nclass MastInvCateg extends Component {\r\n\r\n    state = {\r\n        categories: [],\r\n        result: {},\r\n\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: () => this.handleEdit()\r\n            },\r\n            deleteButton: {\r\n                showDelete: false,\r\n                onDelete: null\r\n            },\r\n            refreshButton: {\r\n                showRefresh: true,\r\n                onRefresh: () => this.handleRefresh()\r\n            },\r\n            searchButton: {\r\n                showSearch: true,\r\n                onSearch: null\r\n            }\r\n        },\r\n\r\n        listProcess: true,\r\n        listVisible: false,\r\n        \r\n        formProcess: false,\r\n        formVisible: true,\r\n\r\n        category: {\r\n            Name: \"\",\r\n            Description: \"\"\r\n        },\r\n\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n\r\n        showmodal: false,\r\n\r\n        errors: {}\r\n    };\r\n\r\n    schema = {\r\n        Name: Joi\r\n            .string()\r\n            .required()\r\n            .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n            .label('Category Name'),\r\n        Description: Joi\r\n            .string()\r\n            .regex(/^[a-zA-Z0-9\\s\\_\\-\\.\\&\\+\\:\\,]+$/, {name: \"No Special Chars\"})\r\n            .label('Category Description')\r\n    };\r\n\r\n\r\n    \r\n    handleCloseModal = () => {\r\n        this.setState({ showmodal: false });\r\n    };\r\n\r\n    handleListUpdated = () => {\r\n        const listProcess = false;\r\n        const listVisible = true;\r\n\r\n        this.setState({ listProcess, listVisible });\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        let errors = this.validateFields();\r\n        this.setState({ errors: errors || {} });\r\n\r\n        let formProcess = true;\r\n        let formVisible = false;\r\n\r\n        this.setState({ formProcess, formVisible });\r\n\r\n        if(errors) {\r\n            let formProcess = false;\r\n            let formVisible = true;\r\n\r\n            this.setState({ formProcess, formVisible });\r\n            \r\n            toast.warn(\"Some data fields are invalid.\\nPlease recheck entered fields!\",\r\n                {\r\n                    position: toast.POSITION.TOP_RIGHT,\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true\r\n                });\r\n                        \r\n            return;\r\n        } \r\n\r\n        if(this.state.flags.isAdd)\r\n        {\r\n            // Adding a new category...\r\n            addNewInvCategory(this.state.category)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let categories = [...this.state.categories];\r\n                        \r\n                        categories.push(this.state.category);\r\n\r\n                        categories = _.orderBy(categories, ['Name']);\r\n                                                \r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n                \r\n                        this.setState({ result, flags, categories, formProcess, formVisible });\r\n                        \r\n                        toast.success(\"New Inventory Category saved successfully...\",\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        let category = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ category, flags, result, formProcess, formVisible });\r\n\r\n                        toast.warn(\"New Inventory Category was not saved successfully!\\n\" + result.FailReason,\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let category = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n            \r\n                    this.setState({ result: err, category, flags, formProcess, formVisible });\r\n                    \r\n                    toast.error(\"Error occured:\\n\" + err.message,\r\n                    {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                    });\r\n\r\n                }); \r\n        }\r\n        else if(this.state.flags.isEdit)\r\n        {\r\n            // Adding a new category...\r\n            updateInvCategory(this.state.category)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ result, flags, formProcess, formVisible });\r\n                        \r\n                        toast.success(\"Inventory Category updated successfully...\",\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        let category = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ category, flags, result, formProcess, formVisible });\r\n\r\n                        toast.warn(\"Inventory Category was not updated successfully!\\n\" + result.FailReason,\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let category = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n                    \r\n                    this.setState({ result: err, category, flags, formProcess, formVisible });\r\n                    toast.error(\"Error occured:\\n\" + err.message,\r\n                    {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                    });\r\n\r\n                }); \r\n        }\r\n    };\r\n\r\n    handleAdd = () => {\r\n        let category = {...this.state.category};\r\n        let flags = {...this.state.flags};\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n\r\n        category.Name = \"\";\r\n        category.Description = \"\";\r\n\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        buttonsOptions.showEdit = false;\r\n\r\n\r\n        this.setState({ category, flags, buttonsOptions });\r\n    };\r\n\r\n    handleEdit = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        flags.isEdit = true;\r\n        flags.isAdd = false;\r\n\r\n        this.setState({ flags });\r\n    };\r\n\r\n    handleCancel = () => {\r\n        let flags  = { isAdd: false, isEdit: false };\r\n        let errors = {};\r\n        let category = {...this.state.category};\r\n\r\n        category.Name = '';\r\n        category.Description = '';\r\n\r\n        this.setState({ flags, errors, category });\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        const { name, value } = e.currentTarget;\r\n\r\n        let category = {...this.state.category};\r\n        category[name] = value;\r\n        \r\n        this.setState({ category });\r\n    };\r\n\r\n    handleCategClick = (c) => {\r\n        getCategoryByName(c)\r\n            .then(result => {\r\n\r\n                if(result.Success === 'Ok')\r\n                {\r\n                    let category = {};\r\n\r\n                    category.Name = result.Result.Name;\r\n                    category.Description = result.Result.Description;\r\n\r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.editButton.showEdit = true;\r\n\r\n                    this.setState({ result });\r\n                    this.setState({ category, buttonsOptions });\r\n                    \r\n                }\r\n                else\r\n                {\r\n                    let category = {};\r\n                    this.setState({ category });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                let category = {};\r\n                this.setState({ result: err });\r\n                this.setState({ category });\r\n            }); \r\n    };\r\n\r\n    handleRefresh = () => {\r\n        let result = getCategList();\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                this.setState({ categories: returnedresult.Result });\r\n                let category = {...this.state.category};\r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                \r\n                category.Description = '';\r\n                category.Name = '';\r\n\r\n                buttonsOptions.addButton.showAdd = true;\r\n                buttonsOptions.editButton.showEdit = false;\r\n                buttonsOptions.refreshButton.showRefresh = true;\r\n                buttonsOptions.deleteButton.showDelete = false;\r\n                \r\n                this.setState({ listProcess: false, listVisible: true, category, buttonsOptions });\r\n                this.setState({ result: returnedresult });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                let category = {...this.state.category};\r\n                category.Description = '';\r\n                category.Name = '';\r\n\r\n                this.setState({ listProcess: false, \r\n                                listVisible: true, \r\n                                category, \r\n                                categories: [],\r\n                                result: err,\r\n                                showmodal: true });\r\n                \r\n                return err \r\n            });\r\n        \r\n    };\r\n\r\n    validateFields = () => {\r\n        let errors = {};\r\n\r\n        let result = Joi.validate(this.state.category, this.schema, { abortEarly: false });\r\n        \r\n        console.log(result);\r\n        \r\n        if(!result.error) return null;\r\n\r\n        for(let item of result.error.details)\r\n            errors[item.path[0]] = item.message;\r\n\r\n        if(Object.keys(errors).length === 0) return null;\r\n        return errors;\r\n    };\r\n\r\n    \r\n    async componentDidMount() {\r\n        let result = getCategList();\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                this.setState({ categories: returnedresult.Result });\r\n            \r\n                this.setState({ result: returnedresult });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                this.setState({ categories: [] });\r\n                this.setState({ result: err });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                this.setState({ showmodal: true });\r\n                \r\n                return err \r\n            });\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"container\" style={{marginTop: \"20px\"}}>\r\n                <div className=\"col-md-3 leftCol\" >\r\n                    <ToolsBar \r\n                        buttonsOptions={this.state.buttonsOptions} />\r\n                    <ItemsList \r\n                        data={this.state.categories} \r\n                        name=\"Name\" \r\n                        label=\"Name\" \r\n                        value=\"Description\" \r\n                        showProcess={this.state.listProcess}\r\n                        showList={this.state.listVisible}\r\n                        onClick={this.handleCategClick}\r\n                     />\r\n                </div>\r\n                <div className=\"col-md-9 rightCol\">\r\n                    <MastInvICForm \r\n                        onChange={this.handleChange}\r\n                        onSubmit={this.handleSubmit}\r\n                        onCancel={this.handleCancel} \r\n                        data={this.state.category} \r\n                        flags={this.state.flags}\r\n                        errors={this.state.errors}\r\n                        showProcess={this.state.formProcess}\r\n                        showButtons={this.state.formVisible} />\r\n                </div>\r\n                \r\n                <Modal show={this.state.showmodal} onHide={this.handleCloseModal}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Modal heading</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <pre>\r\n                            {this.state.result.Error}\r\n                        </pre>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button onClick={this.handleCloseModal}>Close</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <ToastContainer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default MastInvCateg;","import React from 'react';\r\nimport '../css/mastinv-invcat.css';\r\n\r\nconst InfoMessageDiv = (props) => {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12 msgDiv\" >\r\n                <i>{props.message}</i>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InfoMessageDiv;","import React, {Component} from 'react';\r\nimport Input, { TextArea, DropDownList } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport '../../css/mastcc-inqcat.css';\r\nimport processing from '../../images/processing.gif';\r\n\r\nclass MastInvTempForm extends Component {\r\n    state = {\r\n        fields: {\r\n            Name: '',\r\n            Description: ''\r\n        },\r\n        \r\n    };\r\n\r\n    EquipForm = (props) => {\r\n        const { onChange, data, flags, errors, categories } = props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Input \r\n                    name=\"Name\" \r\n                    label=\"Template Name:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={data.Name}\r\n                    flgDisabled={flags.isAdd ? \"\" : \"disabled\"}\r\n                    error={errors.Name ? errors.Name : \"\"} \r\n                    />\r\n                \r\n                <TextArea \r\n                    name=\"Description\" \r\n                    label=\"Template Description:\" \r\n                    onChange={onChange} \r\n                    rows={2} \r\n                    value={data.Description} \r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.Description ? errors.Description : \"\"}  \r\n                    />\r\n\r\n                <Input \r\n                    name=\"SerialNum\" \r\n                    label=\"Serial Number:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={data.SerialNum}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.SerialNum ? errors.SerialNum : \"\"} \r\n                    />\r\n                \r\n                <Input \r\n                    name=\"PurchDate\" \r\n                    label=\"Purchace Date:\" \r\n                    type=\"date\" \r\n                    onChange={onChange} \r\n                    value={data.PurchDate}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.PurchDate ? errors.PurchDate : \"\"} \r\n                    />\r\n                \r\n                <Input \r\n                    name=\"PurchVal\" \r\n                    label=\"Purchace Value:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={data.PurchVal}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.PurchVal ? errors.PurchVal : \"\"} \r\n                    />\r\n                \r\n                <DropDownList \r\n                    name=\"Categ1\" \r\n                    label=\"Category 2:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    values={categories}\r\n                    defValue={data.Categ1}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.Categ1 ? errors.Categ1 : \"\"} \r\n                    />\r\n                \r\n                <DropDownList \r\n                    name=\"Categ2\" \r\n                    label=\"Category 2:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    values={categories}\r\n                    defValue={data.Categ2}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.Categ2 ? errors.Categ2 : \"\"} \r\n                    />\r\n                \r\n            </React.Fragment>\r\n        );\r\n    };\r\n\r\n    SPartForm = (props) => {\r\n        const { onChange, data, flags, errors, categories } = props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Input \r\n                    name=\"Name\" \r\n                    label=\"Template Name:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={data.Name}\r\n                    flgDisabled={flags.isAdd ? \"\" : \"disabled\"}\r\n                    error={errors.Name ? errors.Name : \"\"} \r\n                    />\r\n                \r\n                <TextArea \r\n                    name=\"Description\" \r\n                    label=\"Template Description:\" \r\n                    onChange={onChange} \r\n                    rows={2} \r\n                    value={data.Description} \r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.Description ? errors.Description : \"\"}  \r\n                    />\r\n\r\n                <Input \r\n                    name=\"UPCNum\" \r\n                    label=\"UPC Number:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={data.UPCNum}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.UPCNum ? errors.UPCNum : \"\"} \r\n                    />\r\n                                \r\n                <Input \r\n                    name=\"Quantity\" \r\n                    label=\"Quantity:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    value={data.Quantity}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.Quantity ? errors.Quantity : \"\"} \r\n                    />\r\n                \r\n                <DropDownList \r\n                    name=\"Categ1\" \r\n                    label=\"Category 2:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    values={categories}\r\n                    defValue={data.Categ1}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.Categ1 ? errors.Categ1 : \"\"} \r\n                    />\r\n                \r\n                <DropDownList \r\n                    name=\"Categ2\" \r\n                    label=\"Category 2:\" \r\n                    type=\"text\" \r\n                    onChange={onChange} \r\n                    values={categories}\r\n                    defValue={data.Categ2}\r\n                    flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                    error={errors.Categ2 ? errors.Categ2 : \"\"} \r\n                    />\r\n                \r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { onSubmit, onCancel, data, \r\n                flags, showProcess, showButtons, \r\n                selType } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <form style={{marginTop: \"10px\"}} >\r\n                    {selType === 'Equipment' ? <this.EquipForm {...this.props} /> \r\n                        : selType === 'Spare Part' ? <this.SPartForm {...this.props} /> : \"\"}\r\n\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"2vh\"}} />\r\n\r\n                    <div className={\"btn-toolbar btnToobar\" + ((flags.isAdd || flags.isEdit) && showButtons ? \"\" : \" hidden\")} >\r\n                        <div className=\"btn-group btn-group-justified\">\r\n                            <button type=\"button\"\r\n                                className=\"btn btn-primary\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onSubmit()} >\r\n                                <FontAwesomeIcon icon=\"save\" />\r\n                            </button>\r\n                            <button type=\"button\" \r\n                                className=\"btn btn-danger\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onCancel()}>\r\n                                <FontAwesomeIcon icon=\"ban\" />\r\n                            </button>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default MastInvTempForm;","import React, { Component } from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport Joi from 'joi-browser';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport '../../css/mastcc-inqcat.css';\r\nimport MastInvICForm from './mastinv-icform';\r\n\r\nimport { addEquipmentTemplate, updateEquipTemplate, getEquipTemplate, \r\n         getEquipTemplatesList, addSPTemplate, updateSPTemplate,\r\n         getSPTemplate, getSPTemplatesList, getCategList } from '../../appcode/mastinvdepend';\r\n\r\nimport ItemsList from '../../common/itemslist';\r\nimport MastInvTempForm from './mastinv-tempform';\r\n\r\nclass MastInvTemplates extends Component {\r\n\r\n    state = {\r\n        templates: [],\r\n        equipTemp: {\r\n            Name: '',\r\n            Description: '',\r\n            SerialNum: '',\r\n            Categ1: '',\r\n            Categ2: '',\r\n            PurchDate: new Date,\r\n            PurchVal: 0\r\n        },\r\n\r\n        template: {},\r\n        \r\n        spartTemp: {\r\n            Name: '',\r\n            Description: '',\r\n            SerialNum: '',\r\n            Categ1: '',\r\n            Categ2: '',\r\n            Quantity: 0,\r\n            UPCNum: \"\"\r\n        },\r\n        \r\n        selectedType: '',\r\n        categories: [],\r\n\r\n        result: {},\r\n\r\n        types: [\r\n            {\r\n                tempType: \"Equipment\",\r\n            },\r\n            {\r\n                tempType: \"Spare Part\"\r\n            }\r\n        ],\r\n\r\n        typesButtonsOptions: {\r\n            addButton: {\r\n                showAdd: false,\r\n                onAdd: null\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: null\r\n            },\r\n            deleteButton: {\r\n                showDelete: false,\r\n                onDelete: null\r\n            },\r\n            refreshButton: {\r\n                showRefresh: false,\r\n                onRefresh: null\r\n            },\r\n            searchButton: {\r\n                showSearch: false,\r\n                onSearch: null\r\n            },\r\n\r\n            btnPlaceHolder: true,\r\n            searchPlaceHolder: true \r\n        },\r\n\r\n        tempButtonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: () => this.handleEdit()\r\n            },\r\n            deleteButton: {\r\n                showDelete: false,\r\n                onDelete: null\r\n            },\r\n            refreshButton: {\r\n                showRefresh: true,\r\n                onRefresh: () => this.handleRefresh()\r\n            },\r\n            searchButton: {\r\n                showSearch: true,\r\n                onSearch: null\r\n            },\r\n\r\n            btnPlaceHolder: false,\r\n            searchPlaceHolder: false \r\n\r\n        },\r\n\r\n        listProcess: false,\r\n        listVisible: true,\r\n        \r\n        formProcess: false,\r\n        formVisible: true,\r\n\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n\r\n        showmodal: false,\r\n\r\n        errors: {},\r\n\r\n        formDivHeight: \"\"\r\n    };\r\n\r\n    schema = {\r\n        equipTemp: {\r\n            Description: Joi.string()\r\n                            .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                            .label('Category Description'),\r\n            SerialNum: Joi.string()\r\n                          .regex(/^$|^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                          .label('Serial Number').valid(''),\r\n            Categ1: Joi.string().label('Category 1'),\r\n            Categ2: Joi.string().label('Category 2').valid(''),\r\n            Name: Joi.string().required()\r\n                     .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                     .label('Category Name'),\r\n            PurchDate: Joi.date().required()\r\n                          .label('Purchase Date'),\r\n            PurchVal: Joi.number().min(0)\r\n                         .precision(3).label('Purchase Value')\r\n        },\r\n        spartTemp: {\r\n            Name: Joi\r\n                .string().required()\r\n                .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                .label('Category Name'),\r\n            Description: Joi\r\n                .string()\r\n                .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                .label('Category Description'),\r\n            Categ1: Joi.string().label('Category 1'),\r\n            Categ2: Joi.string().label('Category 2').valid(''),\r\n            Quantity: Joi.number().integer().min(0).label('Items Quantity'),\r\n            UPCNum: Joi.string().label('Unique Product Code').valid('')\r\n        }\r\n        \r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.leftColRef = React.createRef();\r\n        this.leftMiddleRef = React.createRef();\r\n        this.formColRef = React.createRef();\r\n    \r\n    }\r\n\r\n    handleTypeClick = (t) => {\r\n        // set the selected type...\r\n        let selectedType = t;\r\n        \r\n        this.setState({ \r\n                        selectedType, \r\n                        listProcess: true,\r\n                        listVisible: false\r\n                    });\r\n\r\n        if(selectedType === 'Equipment')\r\n        {\r\n            // get equipment templates list...\r\n            getEquipTemplatesList()\r\n                .then(result => {\r\n                    // successful retrieve of equip templates list...\r\n                    const template = {...this.state.equipTemp};\r\n                    this.setState({ templates: result.Result,\r\n                                    result,\r\n                                    listProcess: false, \r\n                                    listVisible: true,\r\n                                    template \r\n                                });\r\n\r\n                })\r\n                .catch(err => {\r\n                    const template = {};\r\n\r\n                    this.setState({ templates: [],\r\n                                    result: err,\r\n                                    listProcess: false,\r\n                                    listVisible: true,\r\n                                    showmodal: true,\r\n                                    template\r\n                                 });\r\n                    \r\n                });\r\n        }\r\n        else\r\n        {\r\n            // get equipment templates list...\r\n            getSPTemplatesList()\r\n                .then(result => {\r\n                    // successful retrieve of SP templates list...\r\n                    const template = {...this.state.spartTemp};\r\n\r\n                    this.setState({ templates: result.Result,\r\n                                    result,\r\n                                    listProcess: false,\r\n                                    listVisible: true,\r\n                                    template \r\n                                });\r\n\r\n                })\r\n                .catch(err => {\r\n                    const template = {};\r\n\r\n                    this.setState({ templates: [],\r\n                                    result: err,\r\n                                    listProcess: false,\r\n                                    listVisible: true,\r\n                                    showmodal: true,\r\n                                    template \r\n                                });\r\n                    \r\n                });\r\n        }\r\n    }\r\n    \r\n    handleCloseModal = () => {\r\n        this.setState({ showmodal: false });\r\n    };\r\n\r\n    handleListUpdated = () => {\r\n        const listProcess = false;\r\n        const listVisible = true;\r\n\r\n        this.setState({ listProcess, listVisible });\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        let errors = this.validateFields();\r\n        this.setState({ errors: errors || {} });\r\n\r\n        let formProcess = true;\r\n        let formVisible = false;\r\n\r\n        this.setState({ formProcess, formVisible });\r\n\r\n        if(errors) {\r\n            let formProcess = false;\r\n            let formVisible = true;\r\n\r\n            this.setState({ formProcess, formVisible });\r\n            \r\n            toast.warn(\"Some data fields are invalid.\\nPlease recheck entered fields!\",\r\n                {\r\n                    position: toast.POSITION.TOP_RIGHT,\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true\r\n                });\r\n\r\n            return;\r\n        } \r\n\r\n        if(this.state.flags.isAdd)\r\n        {\r\n            const { selectedType, template } = this.state;\r\n\r\n            let addResult = selectedType === 'Equipment' ? addEquipmentTemplate(template) : addSPTemplate(template);\r\n\r\n            // Adding a new template...\r\n            addResult.then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        let templates = [...this.state.templates];\r\n\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                                                \r\n                        templates.push(template);\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n                \r\n                        this.setState({ result, flags, templates, formProcess, formVisible });\r\n\r\n                        toast.success(\"New Inventory Template saved successfully...\",\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        \r\n                    }\r\n                    else\r\n                    {\r\n                        let template = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ template, flags, result, formProcess, formVisible });\r\n                        toast.warn(\"New Inventory Template was not saved successfully!\\n\" + result.FailReason,\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let template = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n            \r\n                    this.setState({ result: err, template, flags, formProcess, formVisible });\r\n                    \r\n                    toast.error(\"Error occured:\\n\" + err.message,\r\n                    {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                    });\r\n\r\n                }); \r\n        }\r\n        else if(this.state.flags.isEdit)\r\n        {\r\n            // Updating existing template...\r\n            const { selectedType, template } = this.state;\r\n\r\n            let updateResult = selectedType === 'Equipment' ? updateEquipTemplate(template) : updateSPTemplate(template);\r\n\r\n            updateResult.then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ result, flags, formProcess, formVisible });\r\n                        \r\n                        toast.success(\"Inventory Template updated successfully...\",\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        let template = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ template, flags, result, formProcess, formVisible });\r\n\r\n                        toast.warn(\"Inventory Template was not updated successfully!\\n\"+ result.FailReason,\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let template = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n                    \r\n                    this.setState({ result: err, template, flags, formProcess, formVisible });\r\n                    \r\n                    toast.error(\"Error occured:\\n\" + err.message,\r\n                    {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                    });\r\n\r\n                }); \r\n        }\r\n    };\r\n\r\n    handleAdd = () => {\r\n        let template = this.state.selectedType === 'Equipment' ? {...this.state.equipTemp} : {...this.state.spartTemp};\r\n        let flags = {...this.state.flags};\r\n        let buttonsOptions = {...this.state.tempButtonsOptions};\r\n\r\n        let d = new Date();\r\n        template.PurchDate = d.getFullYear()\r\n                        +'-'+ (\"0\"+( d.getMonth()+1)).slice(-2)\r\n                        +'-'+ (\"0\" + d.getDate()).slice(-2);\r\n        console.log(\"PurchDate: \", template.PurchDate);\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        buttonsOptions.showEdit = false;\r\n\r\n\r\n        this.setState({ template, flags, tempButtonsOptions: buttonsOptions });\r\n    };\r\n\r\n    handleEdit = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        flags.isEdit = true;\r\n        flags.isAdd = false;\r\n\r\n        this.setState({ flags });\r\n    };\r\n\r\n    handleCancel = () => {\r\n        let flags  = { isAdd: false, isEdit: false };\r\n        let errors = {};\r\n\r\n        this.setState({ flags, errors });\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        const { name, value } = e.currentTarget;\r\n\r\n        console.log(name, value);\r\n        let template = {...this.state.template};\r\n        template[name] = value;\r\n        \r\n        this.setState({ template });\r\n    };\r\n\r\n    handleTemplateClick = (t) => {\r\n        // Check the Type of the template...\r\n        if(this.state.selectedType === 'Equipment')\r\n        {\r\n            getEquipTemplate(t)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let template = {...this.state.template};\r\n                        const { Result } = result;\r\n\r\n                        template.Name = Result.Name;\r\n                        template.Description = Result.Description;\r\n                        template.SerialNum = Result.SerialNum;\r\n                        template.Categ1 = Result.Categ1;\r\n                        template.Categ2 = Result.Categ2;\r\n                        template.PurchDate = Result.PurchDate;\r\n                        template.PurchVal = Result.PurchVal;\r\n\r\n                        let tempButtonsOptions = {...this.state.tempButtonsOptions};\r\n                        tempButtonsOptions.editButton.showEdit = true;\r\n\r\n                        this.setState({ result });\r\n                        this.setState({ template, tempButtonsOptions });\r\n                        \r\n                    }\r\n                    else\r\n                    {\r\n                        let template = {};\r\n                        this.setState({ template });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let template = {};\r\n                    this.setState({ result: err });\r\n                    this.setState({ template });\r\n                });\r\n        }\r\n        else\r\n        {\r\n            getSPTemplate(t)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let template = {...this.state.template};\r\n                        const { Result } = result;\r\n\r\n                        template.Name = Result.Name;\r\n                        template.Description = Result.Description;\r\n                        template.SerialNum = Result.SerialNum;\r\n                        template.Categ1 = Result.Categ1;\r\n                        template.Categ2 = Result.Categ2;\r\n                        template.Quantity = Result.Quantity;\r\n                        template.UPCNum = Result.UPCNum;\r\n\r\n                        let tempButtonsOptions = {...this.state.tempButtonsOptions};\r\n                        tempButtonsOptions.editButton.showEdit = true;\r\n\r\n                        this.setState({ result });\r\n                        this.setState({ template, tempButtonsOptions });\r\n                        \r\n                    }\r\n                    else\r\n                    {\r\n                        let template = {};\r\n                        this.setState({ template });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let template = {};\r\n                    this.setState({ result: err });\r\n                    this.setState({ template });\r\n                });\r\n        }\r\n         \r\n        // console.log(this.formColRef.current.clientHeight);\r\n        // this.setState({ formDivHeight: });\r\n        // this.middleColRef.current.clientHeight = this.formColRef.current.clientHeight;\r\n    };\r\n\r\n    handleRefresh = () => {\r\n        // let result = getCategList();\r\n\r\n        // this.setState({ listProcess: true });\r\n        // this.setState({ listVisible: false });\r\n\r\n        // result.then((returnedresult) => { \r\n        //         this.setState({ categories: returnedresult.Result });\r\n        //         let category = {...this.state.category};\r\n        //         let buttonsOptions = {...this.state.buttonsOptions};\r\n                \r\n        //         category.Description = '';\r\n        //         category.Name = '';\r\n\r\n        //         buttonsOptions.addButton.showAdd = true;\r\n        //         buttonsOptions.editButton.showEdit = false;\r\n        //         buttonsOptions.refreshButton.showRefresh = true;\r\n        //         buttonsOptions.deleteButton.showDelete = false;\r\n                \r\n        //         this.setState({ listProcess: false, listVisible: true, category, buttonsOptions });\r\n        //         this.setState({ result: returnedresult });\r\n                \r\n        //         return returnedresult;\r\n        //      })\r\n        //     .catch((err) => {\r\n        //         let category = {...this.state.category};\r\n        //         category.Description = '';\r\n        //         category.Name = '';\r\n\r\n        //         this.setState({ listProcess: false, \r\n        //                         listVisible: true, \r\n        //                         category, \r\n        //                         categories: [],\r\n        //                         result: err,\r\n        //                         showmodal: true });\r\n                \r\n        //         return err \r\n        //     });\r\n        \r\n    };\r\n\r\n    validateFields = () => {\r\n        const { template, selectedType } = this.state;\r\n        const { equipTemp, spartTemp } = this.schema;\r\n\r\n        let errors = {};\r\n\r\n        let result = Joi.validate(template,\r\n                                 (selectedType === 'Equipment' ? equipTemp : spartTemp),\r\n                                 { abortEarly: false });\r\n        \r\n        if(!result.error) return null;\r\n\r\n        for(let item of result.error.details)\r\n            errors[item.path[0]] = item.message;\r\n\r\n        if(Object.keys(errors).length === 0) return null;\r\n        return errors;\r\n    };\r\n\r\n    \r\n    async componentDidMount() {\r\n        let result = getCategList();\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                this.setState({ categories: returnedresult.Result });\r\n            \r\n                this.setState({ result: returnedresult });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                this.setState({ categories: [] });\r\n                this.setState({ result: err });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                this.setState({ showmodal: true });\r\n                \r\n                return err \r\n            });\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"container\" style={{marginTop: \"20px\"}}>\r\n                <div className=\"col-md-2 leftColEx\" ref={this.leftColRef}>\r\n                    <ToolsBar \r\n                        buttonsOptions={this.state.typesButtonsOptions} />\r\n                    <ItemsList \r\n                        data={this.state.types} \r\n                        name=\"tempType\" \r\n                        label=\"tempType\" \r\n                        value=\"\" \r\n                        showProcess={false}\r\n                        showList={true}\r\n                        onClick={this.handleTypeClick}\r\n                     />\r\n                </div>\r\n                <div className=\"col-md-4 middleColEx\" \r\n                     ref={this.middleColRef} >\r\n                    <ToolsBar \r\n                        buttonsOptions={this.state.tempButtonsOptions} />\r\n                    <ItemsList \r\n                        data={this.state.templates} \r\n                        name=\"Name\" \r\n                        label=\"Name\" \r\n                        value=\"Description\" \r\n                        showProcess={this.state.listProcess}\r\n                        showList={this.state.listVisible}\r\n                        onClick={this.handleTemplateClick}\r\n                     />\r\n                </div>\r\n                \r\n                <div className=\"col-md-6 rightColEx\" ref={this.formColRef}>\r\n                    <MastInvTempForm \r\n                        onChange={this.handleChange}\r\n                        onSubmit={this.handleSubmit}\r\n                        onCancel={this.handleCancel} \r\n                        data={this.state.template} \r\n                        categories={this.state.categories}\r\n                        flags={this.state.flags}\r\n                        errors={this.state.errors}\r\n                        showProcess={this.state.formProcess}\r\n                        showButtons={this.state.formVisible}\r\n                        selType={this.state.selectedType} />\r\n                </div>\r\n                \r\n                <Modal show={this.state.showmodal} onHide={this.handleCloseModal}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Modal heading</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <pre>\r\n                            {this.state.result.Error}\r\n                        </pre>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button onClick={this.handleCloseModal}>Close</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <ToastContainer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default MastInvTemplates;","import React, { Component } from 'react';\r\nimport { Nav, NavItem } from 'react-bootstrap';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport MastInvCateg from './mastinv-invcat';\r\nimport InfoMessageDiv from '../../common/infomessagediv';\r\nimport MastInvTemplates from './mastinv-itemtemp';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\n\r\n// const selected = {\r\n//     fontWeight: \"bold\",\r\n//     backgroundColor: \"lightblue\"\r\n// }\r\n\r\nclass MastInvDepend extends Component {\r\n    state = {\r\n        selectedTab: \"\",\r\n        uprofile: {},\r\n        subDir: '/fms'\r\n    }\r\n\r\n    handleSelect(k) {\r\n        this.setState({ selectedTab: k });\r\n\r\n        if(k === \"1\") {\r\n            this.props.history.push(this.state.subDir + \"/mastinvdepend/invcategories\");\r\n        }\r\n        else if(k === \"2\") {\r\n            this.props.history.push(this.state.subDir + \"/mastinvdepend/invtemplates\");\r\n        } \r\n        else if(k === \"3\") {\r\n            this.props.history.push(this.state.subDir + \"/mastinvdepend/invunits\");\r\n        } \r\n        \r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n\r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push(this.state.subDir + '/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    };\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Inventory Master Settings\" bgColor='white' color=\"gray\" />\r\n                <Nav bsStyle=\"tabs\" activeKey={this.state.selectedTab} onSelect={k => this.handleSelect(k)}>\r\n                    <NavItem eventKey=\"1\" >\r\n                        Inventory Categories\r\n                    </NavItem>\r\n                    <NavItem eventKey=\"2\" >\r\n                        Items Templates\r\n                    </NavItem>\r\n                    {/* <NavItem eventKey=\"3\" >\r\n                        Units\r\n                    </NavItem> */}\r\n                </Nav>\r\n\r\n                <Switch>\r\n                    <Route path={this.state.subDir + \"/mastinvdepend/invcategories\"} component={MastInvCateg} />\r\n                    <Route path={this.state.subDir + \"/mastinvdepend/invtemplates\"} component={MastInvTemplates} />\r\n                    <Route path={this.state.subDir + \"/mastinvdepend\"} exact render={(props) => <InfoMessageDiv message=\"Please, select your option from the above tabs.\" {...props} />} />\r\n                </Switch>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n};\r\n\r\nexport default MastInvDepend;","import React, {Component} from 'react';\r\nimport Input, { TextArea } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport '../../css/mastcc-inqcat.css';\r\nimport processing from '../../images/processing.gif';\r\n\r\n\r\nclass MastCCICForm extends Component {\r\n    state = {\r\n        fields: {\r\n            categname: '',\r\n            categdesc: ''\r\n        }\r\n        \r\n    };\r\n\r\n    render() {\r\n        const { onChange, onSubmit, onCancel, data, flags, errors, showProcess, showButtons } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <form style={{marginTop: \"10px\"}} >\r\n                    <Input \r\n                        name=\"categname\" \r\n                        label=\"Category Name:\" \r\n                        type=\"text\" \r\n                        onChange={onChange} \r\n                        value={data.categname}\r\n                        flgDisabled={flags.isAdd ? \"\" : \"disabled\"}\r\n                        error={errors.categname ? errors.categname : \"\"} \r\n                        />\r\n                    \r\n                    <TextArea \r\n                        name=\"categdesc\" \r\n                        label=\"Category Description:\" \r\n                        onChange={onChange} \r\n                        rows={10} \r\n                        value={data.categdesc} \r\n                        flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                        error={errors.categdesc ? errors.categdesc : \"\"}  \r\n                        />\r\n\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"2vh\"}} />\r\n\r\n                    <div className={\"btn-toolbar btnToobar\" + ((flags.isAdd || flags.isEdit) && showButtons ? \"\" : \" hidden\")} >\r\n                        <div className=\"btn-group btn-group-justified\">\r\n                            <button type=\"button\"\r\n                                className=\"btn btn-primary\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onSubmit()} >\r\n                                <FontAwesomeIcon icon=\"save\" />\r\n                            </button>\r\n                            <button type=\"button\" \r\n                                className=\"btn btn-danger\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onCancel()}>\r\n                                <FontAwesomeIcon icon=\"ban\" />\r\n                            </button>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default MastCCICForm;","import { firebase } from '../constants/firebase';\r\n\r\nexport const getInquiriesCategories = async () => {\r\n    // This function gets the list of all existing Complain Categories.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var categoriesDb = db.collection('Dependencies').doc('HelpDesk').collection('Categories');\r\n\r\n    var categories = [];\r\n    var category = {};\r\n    category.categname = '';\r\n    category.categdesc = '';\r\n\r\n\r\n    // get the document containing the complain categories as fields name\r\n    // from the Dependencies/HDeskComplCat document...\r\n    return categoriesDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docCateg) => {\r\n                categories.push(docCateg.data());\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = categories;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Categories were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getCompCateg = (categname) => {\r\n    // This function gets the Complain Category document by name.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts one param.\r\n    // 1. Category Names\r\n    //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n\r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var categoriesDb = db.collection('Dependencies').doc('HelpDesk').collection('Categories');\r\n\r\n    // get the document containing the complain categories as fields name\r\n        // from the Dependencies/HDeskComplCat document...\r\n        return categoriesDb.doc(categname).get()\r\n        .then((snapshot) => {\r\n            if(snapshot.exists)\r\n            {\r\n                funcSuccess = 'Ok';\r\n                funcResult = snapshot.data();\r\n                funcFailReason = '';\r\n                funcError = '';\r\n\r\n      \r\n            }\r\n            else\r\n            {\r\n                funcSuccess = 'No';\r\n                funcResult = {};\r\n                funcFailReason = 'Requested Category could not be found.';\r\n            }\r\n\r\n            var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning\r\n            };\r\n\r\n            return funcReturn;\r\n\r\n        })\r\n        .catch((err) => {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'Error';\r\n            funcError = err.message;\r\n\r\n            var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning\r\n            };\r\n\r\n            return funcReturn;\r\n        });\r\n};\r\n\r\nexport const addNewCompCateg = (category) => {\r\n    // This function adds a new Complain Category document.\r\n    // Overwriting existing category document is not allowed.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. Category Name\r\n    // 2. Description\r\n    //\r\n\r\n    const { categname, categdesc } = category;\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n\r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var newcateg = {\r\n        categName: categname,\r\n        categDescription: categdesc\r\n    }\r\n\r\n    var categoriesDb = db.collection('Dependencies').doc('HelpDesk').collection('Categories');\r\n    return categoriesDb.doc(categname).get()\r\n        .then((snapshot) => {\r\n            if(snapshot.exists)\r\n            {\r\n                var funcReturn = {\r\n                    Success: 'No',\r\n                    Result: {},\r\n                    FailReason: 'Category Already Exists.',\r\n                    Error: '',\r\n                    Warning: ''\r\n                };\r\n                \r\n                return funcReturn;\r\n            }\r\n            else {\r\n                return categoriesDb.doc(categname).set(newcateg);\r\n            }\r\n        })\r\n        .then(setresult => {\r\n\r\n            var funcReturn = {\r\n                Success: 'Ok',\r\n                Result: {},\r\n                FailReason: '',\r\n                Error: '',\r\n                Warning: ''\r\n            };\r\n\r\n            return funcReturn;\r\n\r\n        })\r\n        .catch((err) => {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'Error';\r\n            funcError = err.message;\r\n\r\n            var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning\r\n            };\r\n\r\n            return funcReturn;\r\n        });\r\n};\r\n\r\nexport const updateCompCateg = (category) => {\r\n    // This function update existing Complain Category document.\r\n    // Overwriting existing category document is not allowed.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. Category Name\r\n    // 2. Description\r\n    //\r\n\r\n    const { categname, categdesc } = category;\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n\r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var categoriesDb = db.collection('Dependencies').doc('HelpDesk').collection('Categories');\r\n    return categoriesDb.doc(categname).get()\r\n    .then((snapshot) => {\r\n        if(snapshot.exists)\r\n        {\r\n            // It exists... Update the Description...\r\n            return categoriesDb.doc(categname).update({ categDescription: categdesc });\r\n\r\n        }\r\n        else {\r\n            // It deos not exist... Return failur message...\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'Category was not found. Update Aborted.';\r\n            funcError = \"\";\r\n\r\n            var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning\r\n            };\r\n\r\n            return funcReturn;\r\n        }\r\n    })\r\n    .then(setresult => {\r\n\r\n        var funcReturn = {\r\n            Success: 'Ok',\r\n            Result: {},\r\n            FailReason: '',\r\n            Error: '',\r\n            Warning: ''\r\n        };\r\n\r\n        return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport Joi from 'joi-browser';\r\nimport _ from 'lodash';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport '../../css/mastcc-inqcat.css';\r\nimport MastCCICForm from './mastcc-ic-form';\r\n\r\nimport { getInquiriesCategories, getCompCateg, addNewCompCateg, updateCompCateg } from '../../appcode/mastcustcare';\r\nimport ItemsList from '../../common/itemslist';\r\n\r\nclass MastCCInqCat extends Component {\r\n\r\n    state = {\r\n        categories: [],\r\n        result: {},\r\n\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: () => this.handleEdit()\r\n            },\r\n            deleteButton: {\r\n                showDelete: false,\r\n                onDelete: null\r\n            },\r\n            refreshButton: {\r\n                showRefresh: true,\r\n                onRefresh: () => this.handleRefresh()\r\n            },\r\n            searchButton: {\r\n                showSearch: true,\r\n                onSearch: null\r\n            }\r\n        },\r\n\r\n        listProcess: true,\r\n        listVisible: false,\r\n        \r\n        formProcess: false,\r\n        formVisible: true,\r\n\r\n        category: {\r\n            categname: \"\",\r\n            categdesc: \"\"\r\n        },\r\n\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n\r\n        showmodal: false,\r\n\r\n        errors: {}\r\n    };\r\n\r\n    schema = {\r\n        categname: Joi\r\n                    .string()\r\n                    .required()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                    .label('Category Name'),\r\n        categdesc: Joi\r\n                    .string()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-\\.\\&\\+\\:\\,]+$/, {name: \"No Special Chars\"})\r\n                    .label('Category Description')\r\n    };\r\n\r\n\r\n    \r\n    handleCloseModal = () => {\r\n        this.setState({ showmodal: false });\r\n    };\r\n\r\n    handleListUpdated = () => {\r\n        const listProcess = false;\r\n        const listVisible = true;\r\n\r\n        this.setState({ listProcess, listVisible });\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        let errors = this.validateFields();\r\n        this.setState({ errors: errors || {} });\r\n\r\n        let formProcess = true;\r\n        let formVisible = false;\r\n\r\n        this.setState({ formProcess, formVisible });\r\n\r\n        if(errors) \r\n        {\r\n            let formProcess = false;\r\n            let formVisible = true;\r\n            this.setState({ formProcess, formVisible });\r\n            return\r\n        };\r\n\r\n        if(this.state.flags.isAdd)\r\n        {\r\n            // Adding a new category...\r\n            addNewCompCateg(this.state.category)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let categories = [...this.state.categories];\r\n                        let newCategory = {...categories[0]};\r\n                        newCategory.categName = this.state.category.categname;\r\n                        newCategory.categDescription = this.state.category.categdesc;\r\n\r\n                        categories.push(newCategory);\r\n                        categories = _.orderBy(categories, 'categName');\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n                \r\n                        this.setState({ result, flags, categories, formProcess, formVisible });\r\n                        \r\n                        toast.success('New Customer Care Category Saved Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                    }\r\n                    else\r\n                    {\r\n                        let category = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ category, flags, result, formProcess, formVisible });\r\n\r\n                        toast.warn(\"Category was not saved Successfully...\\n\" + result.FailReason,\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let category = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n            \r\n                    this.setState({ result: err, category, flags, formProcess, formVisible });\r\n                    \r\n                    toast.error(\"Error occured: \\n\" + err.message,\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                }); \r\n        }\r\n        else if(this.state.flags.isEdit)\r\n        {\r\n            // Adding a new category...\r\n            updateCompCateg(this.state.category)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ result, flags, formProcess, formVisible });\r\n                        \r\n                        toast.success('Customer Care Category updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                    }\r\n                    else\r\n                    {\r\n                        let category = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ category, flags, result, formProcess, formVisible });\r\n\r\n                        toast.warn(\"Customer Care Category was not updated Successfully...\\n\" + result.FailReason,\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let category = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n                    \r\n                    this.setState({ result: err, category, flags, formProcess, formVisible });\r\n                    \r\n                    toast.error(\"Error occured: \\n\" + err.message,\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                }); \r\n        }\r\n    };\r\n\r\n    handleAdd = () => {\r\n        let category = {...this.state.category};\r\n        let flags = {...this.state.flags};\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n\r\n        category.categname = \"\";\r\n        category.categdesc = \"\";\r\n\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        buttonsOptions.showEdit = false;\r\n\r\n\r\n        this.setState({ category, flags, buttonsOptions });\r\n    };\r\n\r\n    handleEdit = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        flags.isEdit = true;\r\n        flags.isAdd = false;\r\n\r\n        this.setState({ flags });\r\n    };\r\n\r\n    handleCancel = () => {\r\n        let flags  = { isAdd: false, isEdit: false };\r\n        let errors = {};\r\n        let category = {...this.state.category};\r\n        category.categname = '';\r\n        category.categdesc = '';\r\n\r\n        this.setState({ flags, errors, category });\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        const { name, value } = e.currentTarget;\r\n\r\n        let category = {...this.state.category};\r\n        category[name] = value;\r\n        \r\n        this.setState({ category });\r\n    };\r\n\r\n    handleCategClick = (c) => {\r\n        getCompCateg(c)\r\n            .then(result => {\r\n\r\n                if(result.Success === 'Ok')\r\n                {\r\n                    let category = {};\r\n\r\n                    category.categname = result.Result.categName;\r\n                    category.categdesc = result.Result.categDescription;\r\n\r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.editButton.showEdit = true;\r\n\r\n                    this.setState({ result });\r\n                    this.setState({ category, buttonsOptions });\r\n                    \r\n                }\r\n                else\r\n                {\r\n                    let category = {};\r\n                    this.setState({ category });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                let category = {};\r\n                this.setState({ result: err });\r\n                this.setState({ category });\r\n            }); \r\n    };\r\n\r\n    handleRefresh = () => {\r\n        let result = getInquiriesCategories();\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                this.setState({ categories: returnedresult.Result });\r\n                let category = {...this.state.category};\r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                \r\n                category.categdesc = '';\r\n                category.categname = '';\r\n\r\n                buttonsOptions.addButton.showAdd = true;\r\n                buttonsOptions.editButton.showEdit = false;\r\n                buttonsOptions.refreshButton.showRefresh = true;\r\n                buttonsOptions.deleteButton.showDelete = false;\r\n                \r\n                this.setState({ listProcess: false, listVisible: true, category, buttonsOptions });\r\n                this.setState({ result: returnedresult });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                let category = {...this.state.category};\r\n                category.categdesc = '';\r\n                category.categname = '';\r\n\r\n                this.setState({ listProcess: false, \r\n                                listVisible: true, \r\n                                category, \r\n                                categories: [],\r\n                                result: err,\r\n                                showmodal: true });\r\n                \r\n                return err \r\n            });\r\n        \r\n    };\r\n\r\n    validateFields = () => {\r\n        let errors = {};\r\n\r\n        let result = Joi.validate(this.state.category, this.schema, { abortEarly: false });\r\n        \r\n        if(!result.error) return null;\r\n\r\n        for(let item of result.error.details)\r\n            errors[item.path[0]] = item.message;\r\n\r\n        if(Object.keys(errors).length === 0) return null;\r\n        \r\n        toast.warn(\"Some data fields are invalid.\\nPlease recheck entered fields!\",\r\n                {\r\n                    position: toast.POSITION.TOP_RIGHT,\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true\r\n                });\r\n\r\n        return errors;\r\n\r\n    };\r\n\r\n    \r\n    async componentDidMount() {\r\n        let result = getInquiriesCategories();\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                this.setState({ categories: returnedresult.Result });\r\n            \r\n                this.setState({ result: returnedresult });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                this.setState({ categories: [] });\r\n                this.setState({ result: err });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                this.setState({ showmodal: true });\r\n                \r\n                return err \r\n            });\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"container\" style={{marginTop: \"20px\"}}>\r\n                <div className=\"col-md-3 leftCol\" >\r\n                    <ToolsBar \r\n                        buttonsOptions={this.state.buttonsOptions} />\r\n                    <ItemsList \r\n                        data={this.state.categories} \r\n                        name=\"categName\" \r\n                        label=\"categName\" \r\n                        value=\"categDescription\" \r\n                        showProcess={this.state.listProcess}\r\n                        showList={this.state.listVisible}\r\n                        onClick={this.handleCategClick}\r\n                     />\r\n                </div>\r\n                <div className=\"col-md-9 rightCol\">\r\n                    <MastCCICForm \r\n                        onChange={this.handleChange}\r\n                        onSubmit={this.handleSubmit}\r\n                        onCancel={this.handleCancel} \r\n                        data={this.state.category} \r\n                        flags={this.state.flags}\r\n                        errors={this.state.errors}\r\n                        showProcess={this.state.formProcess}\r\n                        showButtons={this.state.formVisible} />\r\n                </div>\r\n                <Modal show={this.state.showmodal} onHide={this.handleCloseModal}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Modal heading</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <pre>\r\n                            {this.state.result.Error}\r\n                        </pre>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button onClick={this.handleCloseModal}>Close</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                <ToastContainer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default MastCCInqCat;","import React, { Component } from 'react';\r\nimport { Nav, NavItem } from 'react-bootstrap';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport MastCCInqCat from './mastcc-inqcat';\r\nimport TitleHeader, { TitlePageHeader } from '../titleheader/titleheader';\r\nimport InfoMessageDiv from '../../common/infomessagediv';\r\n\r\nclass MastCustCare extends Component {\r\n    state = { \r\n        uprofile: {},\r\n        subDir: '/fms'\r\n    }\r\n\r\n    handleSelect(k) {\r\n        console.log(k);\r\n        this.props.history.push(this.state.subDir + \"/mastcustcare/inquirecat\");\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n\r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push(this.state.subDir + '/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    };\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Customer Care Master Settings\" bgColor='white' color=\"gray\" />\r\n                <Nav bsStyle=\"tabs\" activeKey=\"1\" onSelect={k => this.handleSelect(k)}>\r\n                    <NavItem eventKey=\"1\">\r\n                        Inquiries Categories\r\n                    </NavItem>\r\n                                 \r\n                </Nav>\r\n\r\n                <Switch>\r\n                    <Route path={this.state.subDir + \"/mastcustcare/inquirecat\"} component={MastCCInqCat} />\r\n                    <Route path={this.state.subDir + \"/mastcustcare\"} exact render={(props) => <InfoMessageDiv message=\"Please, select your option from the above tabs.\" {...props} />} />\r\n                </Switch>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n};\r\n\r\nexport default MastCustCare;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst transDescStyle = {\r\n    textAlign: \"left\"\r\n};\r\n\r\nconst transDateStyle = {\r\n    textAlign: \"left\"\r\n};\r\n\r\nconst currColStyle = {\r\n    textAlign: \"right\"\r\n};\r\n\r\nfunction formatCurrency(n) {\r\n    return (n).toLocaleString(undefined, {minimumFractionDigits: 3});\r\n};\r\n\r\n\r\nconst ServiceChargeRow = (props) => {\r\n    const { id, transDate, transDesc, transAmountDr, transAmountCr, transClick, transId } = props;\r\n    \r\n    return ( \r\n        <tr>\r\n            <td >{transId}</td>\r\n            <td style={transDateStyle}>{new Date(transDate).toLocaleDateString()}</td>\r\n            <td style={transDescStyle}>{transDesc}</td>\r\n            <td style={currColStyle}>{formatCurrency(transAmountDr)}</td>\r\n            <td style={currColStyle}>{formatCurrency(transAmountCr)}</td>\r\n            <td >\r\n                <button onClick={() => transClick(id)}><FontAwesomeIcon icon=\"edit\"></FontAwesomeIcon></button>\r\n            </td>\r\n        </tr>\r\n        \r\n    );\r\n    \r\n};\r\n\r\nexport default ServiceChargeRow;","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getClientsNames = async () => {\r\n    // This function gets the list of all existing Clients Names with Codes.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var clientsDb = db.collection('Inventory').doc('Assets').collection('Clients');\r\n\r\n    var clients = [];\r\n    var clientName = '';\r\n\r\n\r\n    // get the document containing the complain categories as fields name\r\n    // from the Dependencies/HDeskComplCat document...\r\n    return clientsDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docClient) => {\r\n                clientName = docClient.data().clName;\r\n                clients.push(clientName);\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = clients;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Clients were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getProjectsOfClient = async (clientName) => {\r\n    // This function gets the list of all existing Projects for the given Client.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var projectsDb = db.collection('Projects');\r\n\r\n    var projects = [];\r\n\r\n    // get the document containing the complain categories as fields name\r\n    // from the Dependencies/HDeskComplCat document...\r\n    return projectsDb.where(\"clientName\", \"==\", clientName).get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docProject) => {\r\n                let project = {\r\n                    name: docProject.data().prjName,\r\n                    code: docProject.data().prjCode\r\n                }\r\n\r\n                projects.push(project);\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = projects;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Projects were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getContractsForProject = async (projectName) => {\r\n    // This function gets the list of all existing Contracts for the given Project.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var projectsDb = db.collection('Projects').doc(projectName).collection('Contracts');\r\n\r\n    var contracts = [];\r\n\r\n    // get the document containing the complain categories as fields name\r\n    // from the Dependencies/HDeskComplCat document...\r\n    return projectsDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docContract) => {\r\n                let contract = {\r\n                    name: docContract.data().contName,\r\n                    code: docContract.data().contCode\r\n                }\r\n\r\n                contracts.push(contract);\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = contracts;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Contracts were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addSOATransaction = async (transaction) => {\r\n    var cln = transaction.clientName;\r\n    var pn = transaction.projectName;\r\n    var ctn = transaction.contractName;\r\n    var trdt = transaction.transDate;\r\n    var trclass = transaction.transClass;\r\n    var trdesc = transaction.transDesc;\r\n    var trtype = transaction.transType;\r\n    var tramount = parseFloat(transaction.transAmount);\r\n\r\n    var soaDocName = cln + '_' + pn + '_' + ctn;\r\n    var newTrNumber = '';\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var accountsDb = db.collection('Accounts').doc('SOA');\r\n\r\n    return accountsDb.collection(soaDocName).get()\r\n      .then((snapshot) => {\r\n        if(snapshot.docs.length > 0)\r\n        {\r\n          // there is an SOA collection for this contract...\r\n          // get the first document's ID...\r\n          var trId = snapshot.docs[0].id;\r\n\r\n          // get the count of transactions in collection...\r\n          var trCount = snapshot.docs.length + 1;\r\n\r\n          // generate new transaction number...\r\n          newTrNumber = trId.split('.')[0] + '.Tr' + trCount.pad(5, '0');\r\n\r\n          // Create transaction object...\r\n          var newTransaction = {\r\n            transId: newTrNumber,\r\n            transDate: trdt,\r\n            transClass: trclass,\r\n            transDesc: trdesc,\r\n            transType: trtype,\r\n            transAmount: tramount\r\n          }\r\n\r\n          // add the transaction to the collection...\r\n          return accountsDb.collection(soaDocName).doc(newTrNumber).set(newTransaction)\r\n            \r\n        }\r\n        else {\r\n          // There is no collection for this contract's SOA...\r\n          // get the SOA parameters to generate new ContractCounter Index\r\n\r\n          var contCounter = 0;\r\n\r\n          return accountsDb.get()\r\n            .then(snapshot =>{\r\n              if(snapshot.exists)\r\n              {\r\n                // get the ContractCounter index...\r\n                contCounter = snapshot.data().ContractCounter;\r\n\r\n                // Generate new transaction number...\r\n                newTrNumber = \"C\" + (contCounter + 1).pad(5, '0') + \".Tr00001\";\r\n\r\n                // create the transaction object...\r\n                // Create transaction object...\r\n                var newTransaction = {\r\n                  transId: newTrNumber,\r\n                  transDate: trdt,\r\n                  transClass: trclass,\r\n                  transDesc: trdesc,\r\n                  transType: trtype,\r\n                  transAmount: tramount\r\n                }\r\n\r\n                // add the transaction to the collection...\r\n                return db.collection('Accounts').doc('SOA').collection(soaDocName).doc(newTrNumber).set(newTransaction);\r\n              }\r\n              else {\r\n                funcSuccess = 'No';\r\n                funcResult = '{}';\r\n                funcFailReason = 'Statement of Accounts Parameters are not found. Action Aborted.';\r\n                funcError = '';\r\n\r\n                var funcReturn = {\r\n                  Success: funcSuccess,\r\n                  Result: funcResult,\r\n                  FailReason: funcFailReason,\r\n                  Error: funcError,\r\n                  Warning: funcWarning };\r\n                \r\n                return funcReturn;\r\n              }\r\n            })\r\n            .then(result => {\r\n              // adding transaction successfully...\r\n              // increment the ContractCounter...\r\n\r\n              return accountsDb.update({ContractCounter: contCounter +1 });\r\n            })\r\n            .then(result => {\r\n              funcSuccess = 'Ok';\r\n              funcResult = newTrNumber;\r\n              funcFailReason = '';\r\n\r\n              var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning };\r\n\r\n              return funcReturn;\r\n            })\r\n            .catch(err =>\r\n            {\r\n              funcSuccess = 'No';\r\n              funcResult = '{}';\r\n              funcFailReason = 'Error';\r\n              funcError = err.message;\r\n\r\n              var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning };\r\n\r\n              return funcReturn;\r\n            }\r\n          );\r\n        }\r\n      })\r\n      .then(result => {\r\n        funcSuccess = 'Ok';\r\n        funcResult = newTrNumber;\r\n        funcFailReason = '';\r\n        funcError = '';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n\r\n};\r\n\r\nexport const updateSOATransaction = async (cln, pn, ctn, transaction) => {\r\n    var soaDocName = cln + '_' + pn + '_' + ctn;\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var accountsDb = db.collection('Accounts').doc('SOA').collection(soaDocName);\r\n\r\n    return accountsDb.doc(transaction.transId).update(transaction)\r\n        .then(result => {\r\n            funcSuccess = 'Ok';\r\n            funcResult = result;\r\n            funcFailReason = '';\r\n\r\n            var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n        })\r\n        .catch(err =>\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'Error';\r\n            funcError = err;\r\n\r\n            var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n        });\r\n};\r\n\r\nexport const getContractSOA = async (clientName, projectName, contractName) => {\r\n    // This function gets the list of all transactions in the Contract's SOA.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    //  create the SOA document name\r\n    // (Client's Name + '_' + Project's Name + '_' + Contract's Name)\r\n    var soaDocName = clientName + '_' + projectName + '_' + contractName;\r\n\r\n    var accountsDb = db.collection('Accounts').doc('SOA').collection(soaDocName);\r\n\r\n    // get the document containing the complain categories as fields name\r\n    // from the Dependencies/HDeskComplCat document...\r\n    return accountsDb.get()\r\n    .then((snapshot) => {\r\n        if(snapshot.docs.length > 0)\r\n        {\r\n          var transactions = [];\r\n          snapshot.forEach((docTr) => {\r\n            transactions.push(docTr.data());\r\n          });\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = transactions;\r\n\r\n        }\r\n        else {\r\n          // Do not overwrite... Return the results...\r\n          funcSuccess = 'No';\r\n          funcResult = [];\r\n          funcFailReason = 'Could not find Transactions for given Client/Project/Contract.';\r\n        }\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n","import React, { Component } from 'react';\r\nimport Input, { TextArea, DropDownList } from '../../../common/input';\r\nimport ItemsList from '../../../common/itemslist';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport processing from '../../../images/processing.gif';\r\nimport ServiceChargeRow from './servicechargerow';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport { getClientsNames, \r\n         getProjectsOfClient,\r\n         getContractsForProject, getContractSOA,\r\n         addSOATransaction, updateSOATransaction } from '../../../appcode/fincsoa';\r\nimport { TitlePageHeader } from '../../titleheader/titleheader';\r\nimport ToolsBar from '../../../common/toolsbar';\r\nimport _ from 'lodash';\r\n\r\nclass SOAForm extends Component {\r\n\r\n    state = {\r\n        dateSorted: false,\r\n        transNumSorted: true,\r\n        uprofile: {},\r\n        transClasses: [\r\n            {\r\n                Name: 'Open Balance' \r\n            },\r\n            {\r\n                Name: 'Periodic Contract Fees' \r\n            },\r\n            {\r\n                Name: 'Incident Maintainence Charges'\r\n            }\r\n        ],\r\n        transTypes: [\r\n            {\r\n                Name: 'Credit' \r\n            },\r\n            {\r\n                Name: 'Debit' \r\n            }\r\n        ],\r\n        clientsList: [],\r\n        projectsList: [],\r\n        contractsList: [],\r\n        transData: {\r\n            transDate: '',\r\n            transClass: 'Open Balance',\r\n            transDesc: '',\r\n            transType: 'Credit',\r\n            transAmount: 0\r\n        },\r\n        showProcess: true,\r\n        error: '',\r\n        selectedClient: '',\r\n        selectedProject: '',\r\n        selectedContract: '',\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n        soaTransactions: [],\r\n        selectedTransIndex: -1,\r\n\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: () => this.handleEdit()\r\n            },\r\n            saveButton: {\r\n                showSave: false,\r\n                onSave: () => this.handleOnSubmit()\r\n            },\r\n            cancelButton: {\r\n                showCancel: false,\r\n                onCancel: () => this.handleCancel()\r\n            },\r\n            searchButton: {\r\n                showSearch: false,\r\n                onSearch: null\r\n            }\r\n        }\r\n    }\r\n\r\n    handleAdd = () => {\r\n        if(this.state.selectedClient === '' \r\n        || this.state.selectedProject === ''\r\n        || this.state.selectedContract === '')\r\n        {\r\n            toast.warn('You must select the Client, Project, and Contract before your Add or Edit...',\r\n                {\r\n                    position: toast.POSITION.TOP_RIGHT,\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true\r\n                });\r\n            return;\r\n        }\r\n\r\n        let transData= {\r\n            transDate: '',\r\n            transClass: 'Open Balance',\r\n            transDesc: '',\r\n            transType: 'Credit',\r\n            transAmount: 0\r\n        }\r\n\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.editButton.showEdit = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n\r\n        this.setState({ transData, flags, buttonsOptions });\r\n    }\r\n\r\n    handleEdit = () => {\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.editButton.showEdit = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n\r\n        this.setState({ flags, buttonsOptions });\r\n    }\r\n\r\n    handleCancel = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        if(flags.isAdd)\r\n        {\r\n            let transData= {\r\n                transDate: '',\r\n                transClass: 'Open Balance',\r\n                transDesc: '',\r\n                transType: 'Credit',\r\n                transAmount: 0\r\n            }\r\n    \r\n            let flags = {...this.state.flags};\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n    \r\n            let buttonsOptions = {...this.state.buttonsOptions};\r\n            buttonsOptions.addButton.showAdd = true;\r\n            buttonsOptions.editButton.showEdit = false;\r\n            buttonsOptions.saveButton.showSave = false;\r\n            buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n            this.setState({ transData, flags, buttonsOptions });\r\n        }\r\n        else {                      // isEdit = true \r\n            let transData = {...this.state.soaTransactions[this.state.selectedTransIndex]};\r\n\r\n            let flags = {...this.state.flags};\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n    \r\n            let buttonsOptions = {...this.state.buttonsOptions};\r\n            buttonsOptions.addButton.showAdd = true;\r\n            buttonsOptions.editButton.showEdit = true;\r\n            buttonsOptions.saveButton.showSave = false;\r\n            buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n            this.setState({ transData, flags, buttonsOptions });\r\n        }\r\n    }\r\n\r\n    handleTransDescOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n        transData.transDesc = event.currentTarget.value;\r\n        \r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleClientsOnChange = (event) => {\r\n        this.setState({ showProcess: true });\r\n        let selectedClient = event.currentTarget.value;\r\n\r\n        getProjectsOfClient(event.currentTarget.value)\r\n            .then(result => {\r\n                let projectsList = [];\r\n\r\n                result.Result.map( c => { \r\n                    let project = {Name: c.name };\r\n                    projectsList.push(project) });\r\n                \r\n                this.setState({ projectsList, selectedClient });\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleProjectsOnChange = (event) => {\r\n        this.setState({ showProcess: true });\r\n        let selectedProject = event.currentTarget.value;\r\n\r\n        getContractsForProject(event.currentTarget.value)\r\n            .then(result => {\r\n                let contractsList = [];\r\n\r\n                result.Result.map( c => { \r\n                    let contract = { Name: c.name };\r\n                    contractsList.push(contract) });\r\n                \r\n                this.setState({ contractsList, selectedProject });\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleContractsOnChange = (event) => {\r\n        const { selectedClient, selectedProject } = this.state;\r\n\r\n        let selectedContract = event.currentTarget.value; \r\n        this.setState({ selectedContract });\r\n\r\n        getContractSOA(selectedClient, selectedProject, selectedContract)\r\n            .then(result => {\r\n                // console.log('SOA: ', result);        \r\n                let soaTransactions = result.Result;\r\n                console.log(soaTransactions);\r\n                this.setState({ soaTransactions });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n        \r\n    }\r\n\r\n    handleTransDateOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n\r\n        transData.transDate = event.currentTarget.value;\r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleTransClassOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n\r\n        transData.transClass = event.currentTarget.value;\r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleTransTypeOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n\r\n        transData.transType = event.currentTarget.value;\r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleTransAmountOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n\r\n        transData.transAmount = event.currentTarget.value;\r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleOnSubmit = () => {\r\n        this.setState({ showProcess: true });\r\n\r\n        const { flags, selectedClient, selectedContract, selectedProject, transData } =this.state;\r\n\r\n        if(flags.isAdd)\r\n        {\r\n            let transaction = {\r\n                clientName: selectedClient,\r\n                projectName: selectedProject,\r\n                contractName: selectedContract,\r\n                transDate: transData.transDate,\r\n                transClass: transData.transClass,\r\n                transType: transData.transType,\r\n                transDesc: transData.transDesc,\r\n                transAmount: transData.transAmount\r\n            }\r\n\r\n            let returnedResult = addSOATransaction(transaction)\r\n            .then(result => {\r\n                getContractSOA(selectedClient, selectedProject, selectedContract)\r\n                    .then(result => {\r\n                        console.log(result.Result);\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n                    \r\n                let soaTransactions = [...this.state.soaTransactions];\r\n                transaction.transId = result.Result;\r\n                console.log(result);\r\n                soaTransactions.push(transaction);\r\n\r\n                let flags = {...this.state.flags};\r\n                flags.isAdd = false;\r\n                flags.isEdit = false;\r\n        \r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                buttonsOptions.addButton.showAdd = true;\r\n                buttonsOptions.editButton.showEdit = false;\r\n                buttonsOptions.saveButton.showSave = false;\r\n                buttonsOptions.cancelButton.showCancel = false;\r\n        \r\n                this.setState({ soaTransactions, flags, buttonsOptions });\r\n\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                toast.error(error.message,\r\n                    {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                    });\r\n\r\n                let flags = {...this.state.flags};\r\n                flags.isAdd = false;\r\n                flags.isEdit = false;\r\n        \r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                buttonsOptions.addButton.showAdd = true;\r\n                buttonsOptions.editButton.showEdit = false;\r\n                buttonsOptions.saveButton.showSave = false;\r\n                buttonsOptions.cancelButton.showCancel = false;\r\n        \r\n                this.setState({ flags, buttonsOptions });\r\n\r\n                this.setState({ showProcess: false });\r\n            });\r\n\r\n            \r\n        }\r\n        else            // isEdit = true\r\n        {\r\n            this.setState({ showProcess: true });\r\n            \r\n            // update the transaction in the soaTransactions list based on selected index...\r\n            let soaTransactions = [...this.state.soaTransactions];\r\n            soaTransactions[this.state.selectedTransIndex] = {...this.state.transData};\r\n\r\n            console.log(this.state.selectedTransIndex, soaTransactions);\r\n            this.setState({ soaTransactions });\r\n\r\n            // update the transaction in database based on transaction id in transaction object... \r\n            updateSOATransaction(selectedClient, selectedProject, selectedContract, transData)\r\n                .then(result => {\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n            \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n            \r\n                    this.setState({ flags, buttonsOptions });\r\n\r\n                    this.setState({ showProcess: false });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n            \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n            \r\n                    this.setState({ flags, buttonsOptions });\r\n\r\n                    this.setState({ showProcess: false });\r\n\r\n                })\r\n        }\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible) \r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n\r\n        getClientsNames()\r\n            .then(result => {\r\n                let clientsList = [];\r\n                \r\n                result.Result.map( c => { \r\n                    let client = {Name: c };\r\n                    clientsList.push(client) });\r\n                \r\n                this.setState({ clientsList });\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n        \r\n    }\r\n\r\n    handleSOATransClick = (index) => {\r\n        let transData = {...this.state.soaTransactions[index]};\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.editButton.showEdit = true;\r\n\r\n        this.setState({ transData, buttonsOptions, selectedTransIndex: index });\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Client's Contract Statement of Account\" bgColor=\"white\" color=\"gray\" />\r\n                <form style={{marginTop: \"10px\", paddingLeft: \"25px\", paddingRight: \"25px\"}} >\r\n                    <ToolsBar buttonsOptions={this.state.buttonsOptions} />\r\n                    <div style={{width: \"100%\", margin: \"10px\"}}></div>\r\n                    <DropDownList name='ddlClients' \r\n                        label='Clients'  \r\n                        values={this.state.clientsList} \r\n                        onChange={this.handleClientsOnChange} \r\n                        flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} \r\n                        error={this.state.error} \r\n                    />\r\n\r\n                    <DropDownList name='ddlProjects' \r\n                        label='Projects'  \r\n                        values={this.state.projectsList} \r\n                        onChange={this.handleProjectsOnChange} \r\n                        flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} \r\n                        error={this.state.error} \r\n                    />\r\n\r\n                    <DropDownList name='ddlContracts' \r\n                        label='Contracts'  \r\n                        values={this.state.contractsList} \r\n                        onChange={this.handleContractsOnChange}\r\n                        flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} \r\n                        error={this.state.error} \r\n                    />\r\n\r\n                    <Input \r\n                        type='text'\r\n                        name='txtTransDesc'\r\n                        label='Transaction Description'\r\n                        value={this.state.transData.transDesc}\r\n                        onChange={this.handleTransDescOnChange}\r\n                        flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                        error={this.state.error}\r\n                    />\r\n\r\n                    <div className='col-md-12'>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='date'\r\n                                name='txtTransDate'\r\n                                label='Transaction Date'\r\n                                value={this.state.transData.transDate}\r\n                                onChange={this.handleTransDateOnChange}\r\n                                flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='number'\r\n                                name='txtTransValue'\r\n                                label='Transaction Value'\r\n                                value={this.state.transData.transAmount}\r\n                                onChange={this.handleTransAmountOnChange}\r\n                                flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className='col-md-12'>\r\n                        <div className='col-md-6'>\r\n                            <DropDownList \r\n                                name='ddlTransClass'\r\n                                label='Transaction Class'\r\n                                values={this.state.transClasses}\r\n                                onChange={this.handleTransClassOnChange}\r\n                                flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                                defValue='Open Balance'\r\n                            />        \r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                            <DropDownList \r\n                                name='ddlTransType'\r\n                                label='Transaction Type'\r\n                                values={this.state.transTypes}\r\n                                onChange={this.handleTransTypeOnChange}\r\n                                flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                                defValue={this.state.transData.transType}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n            \r\n                    \r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={this.state.showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"2vh\"}} />\r\n\r\n                    <div className={\"btn-toolbar btnToobar\" + ((this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \" hidden\")} >\r\n                        <div className=\"btn-group btn-group-justified\">\r\n                            {/* <button type=\"button\" \r\n                                className=\"btn btn-danger\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={this.handleOnCancel}>\r\n                                <FontAwesomeIcon icon=\"ban\" />\r\n                            </button> */}\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <table className=\"table table-striped table-hover\" \r\n                    >\r\n                    <thead>\r\n                        <tr className=\"bg-info\">\r\n                            <th style={{width: \"10%\", textAlign: 'center'}}>\r\n                                <div onClick={this.sortByTransNum} \r\n                                    style={this.state.transNumSorted ? {color: 'blue'} : {color: 'black'}}>\r\n                                    Tr ID\r\n                                </div>\r\n                            </th>\r\n                            <th style={{width: \"10%\"}}>\r\n                                <div onClick={this.sortByDate}\r\n                                    style={this.state.dateSorted ? {color: 'blue'} : {color: 'black'}}>\r\n                                    Date\r\n                                </div>\r\n                            </th>\r\n                            <th style={{width: \"40%\"}}>Description</th>\r\n                            <th style={currColStyle}>Debit (OMR)</th>\r\n                            <th style={currColStyle}>Credit (OMR)</th>\r\n                            <th>Edit</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.soaTransactions ? \r\n                            this.state.soaTransactions.map((soa, index) => {\r\n                            return <ServiceChargeRow key={index} id={index}\r\n                                transId={soa.transId}\r\n                                transDate={soa.transDate}   \r\n                                transDesc={soa.transDesc}\r\n                                transAmountDr={soa.transType === \"Debit\" ? parseFloat(soa.transAmount).toFixed(3) : 0}\r\n                                transAmountCr={soa.transType === \"Credit\" ? parseFloat(soa.transAmount).toFixed(3) : 0}\r\n                                transClick={this.handleSOATransClick} />\r\n                            }) : null\r\n                        }\r\n                    </tbody>\r\n                    <tfoot>\r\n                        <tr className=\"bg-success\">\r\n                            <td></td>\r\n                            <td></td>\r\n                            <td style={{fontWeight: 'bold', textAlign: 'right'}}>{'Total'}</td>\r\n                            <td style={{textAlign: 'right', fontWeight: 'bold'}}>{this.sumDr()}</td>\r\n                            <td style={{textAlign: 'right', fontWeight: 'bold'}}>{this.sumCr()}</td>\r\n                            <td></td>\r\n                        </tr>\r\n                        <tr className=\"bg-success\">\r\n                            <td></td>\r\n                            <td></td>\r\n                            <td style={{fontWeight: 'bold', textAlign: 'right'}}>{'Balance'}</td>\r\n                            <td style={{textAlign: 'right', fontWeight: 'bold'}}></td>\r\n                            <td style={{textAlign: 'right', fontWeight: 'bold'}}>{this.calcBalance()}</td>\r\n                            <td></td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n                <hr  />\r\n                <ToastContainer />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    sumCr = () => {\r\n        let sumcr = 0;\r\n        let soaTrans = this.state.soaTransactions;\r\n        soaTrans.map(s => {\r\n            if(s.transType === 'Credit') sumcr += parseFloat(s.transAmount);\r\n        });\r\n\r\n        return sumcr.toFixed(3);\r\n    }\r\n\r\n    sumDr = () => {\r\n        let sumdr = 0;\r\n        let soaTrans = this.state.soaTransactions;\r\n        soaTrans.map(s => {\r\n            if(s.transType === 'Debit') sumdr += parseFloat(s.transAmount);\r\n        });\r\n\r\n        return sumdr.toFixed(3);\r\n    }\r\n\r\n    calcBalance = () => {\r\n        let sumcr = 0;\r\n        let soaTrans = this.state.soaTransactions;\r\n        soaTrans.map(s => {\r\n            if(s.transType === 'Credit') sumcr += parseFloat(s.transAmount);\r\n        });\r\n\r\n        let sumdr = 0;\r\n        soaTrans.map(s => {\r\n            if(s.transType === 'Debit') sumdr += parseFloat(s.transAmount);\r\n        });\r\n\r\n        return (sumcr - sumdr).toFixed(3);\r\n    }\r\n\r\n    sortByDate = () => {\r\n        let soaTransactions = [...this.state.soaTransactions];\r\n\r\n        soaTransactions = _.orderBy(soaTransactions, 'transDate');\r\n        let dateSorted = true;\r\n        let transNumSorted = false;\r\n\r\n        this.setState({ soaTransactions, dateSorted, transNumSorted });\r\n    } \r\n\r\n    sortByTransNum = () => {\r\n        let soaTransactions = [...this.state.soaTransactions];\r\n\r\n        soaTransactions = _.orderBy(soaTransactions, 'transId');\r\n\r\n        let dateSorted = false;\r\n        let transNumSorted = true;\r\n\r\n        this.setState({ soaTransactions, dateSorted, transNumSorted });\r\n    } \r\n\r\n}\r\n\r\nexport default SOAForm;\r\n\r\nconst currColStyle = {\r\n    textAlign: \"right\",\r\n    width: \"20%\"\r\n};\r\n","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getProjects = async () => {\r\n    // This function gets the list of all existing Projects.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var projectsDb = db.collection('Projects');\r\n\r\n    var projects = [];\r\n\r\n    // get the document containing the complain categories as fields name\r\n    // from the Dependencies/HDeskComplCat document...\r\n    return projectsDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docProject) => {\r\n                let project = {\r\n                    name: docProject.data().prjName,\r\n                    code: docProject.data().prjCode\r\n                }\r\n\r\n                projects.push(project);\r\n\r\n            });\r\n\r\n            console.log(\"Projects: \", projects);\r\n            funcSuccess = 'Ok';\r\n            funcResult = projects;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = '{}';\r\n            funcFailReason = 'No Projects were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addJVTransaction = async (transaction) => {\r\n    // This function creates a new JV Entry in Accounts Database.\r\n    // This function does no validation of the data passed.\r\n    // This function always considers the request as for a new JV\r\n    // and generates a new JV Serial Number.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. JV Date\r\n    // 2. Description\r\n    // 6. JV Amount\r\n    // 7. Transaction Type (Dr / Cr)\r\n    // 8. Project Code to charge (if any)\r\n    //\r\n\r\n    console.log(transaction);\r\n    var jvd = transaction.transDate;\r\n    var jvdesc = transaction.transDesc;\r\n    var jva = parseFloat(transaction.transAmount);\r\n    var jvtt = transaction.transType;\r\n    var prjn = transaction.projectName;\r\n\r\n    var newjvnumber = \"\";\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    var accountsDb = db.collection('Accounts').doc('Transactions').collection('JournalVouchers');\r\n\r\n    return accountsDb.get()\r\n      .then((snapshot) => {\r\n        console.log(snapshot.docs.length);\r\n        // Check the number of documents found and generate a new number accordingly...\r\n        var docsCount = snapshot.docs.length;\r\n        newjvnumber = \"JV\" + docsCount.pad(8, '0');\r\n\r\n        console.log(newjvnumber);\r\n\r\n        // Create the document...\r\n        var newjv = {\r\n          jvNumber: newjvnumber,\r\n          jvDate: jvd,\r\n          jvDescription: jvdesc,\r\n          jvAmount: jva,\r\n          jvTransType: jvtt,\r\n          prjName: prjn\r\n        }\r\n\r\n        console.log('JV: ', newjv);\r\n        return accountsDb.doc(newjvnumber).set(newjv);\r\n      })\r\n      .then((result) => {\r\n        // The JV entry created successfully...\r\n        // Return successfull JV Entry...\r\n        // Do not overwrite... Return the results...\r\n\r\n        var jvtt = transaction.transType;\r\n        var prjn = transaction.targetProj;\r\n\r\n        if(prjn !== \"Petty Cash\")\r\n        {\r\n          funcSuccess = 'Ok';\r\n          funcResult = '{}';\r\n          funcFailReason = '';\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n        else {\r\n          // Get the Petty Cash Value to be altered...\r\n          return db.collection('Accounts').doc('PettyCash').get();\r\n        }\r\n\r\n      })\r\n      .then(snapshot => {\r\n        if(snapshot.exists)\r\n        {\r\n          var pcValue = snapshot.data().Value;\r\n\r\n          if(jvtt === \"Credit\")\r\n          {\r\n            // add the received value to the existing PC value...\r\n            pcValue = pcValue + jva;\r\n          }\r\n          else {\r\n            pcValue = pcValue - jva;\r\n          }\r\n\r\n          return db.collection('Accounts').doc('PettyCash').update({ Value: pcValue });\r\n        }\r\n      })\r\n      .then(result => {\r\n        funcSuccess = 'Ok';\r\n        funcResult = '{}';\r\n        funcFailReason = '';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        console.log(err);\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n\r\n};\r\n\r\nexport const getJVTransactions = async () => {\r\n    // This function gets the list of all JV transactions.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var accountsDb = db.collection('Accounts').doc('Transactions').collection('JournalVouchers');\r\n\r\n    // get the document containing the complain categories as fields name\r\n    // from the Dependencies/HDeskComplCat document...\r\n    return accountsDb.get()\r\n    .then((snapshot) => {\r\n        if(snapshot.docs.length > 0)\r\n        {\r\n          var transactions = [];\r\n          snapshot.forEach((docTr) => {\r\n            transactions.push(docTr.data());\r\n          });\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = transactions;\r\n\r\n        }\r\n        else {\r\n          // Do not overwrite... Return the results...\r\n          funcSuccess = 'No';\r\n          funcResult = '{}';\r\n          funcFailReason = 'Could not find any JV Transactions. Returning empty list';\r\n        }\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n","import React, { Component } from 'react';\r\nimport Input, { TextArea, DropDownList } from '../../../common/input';\r\nimport ItemsList from '../../../common/itemslist';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport processing from '../../../images/processing.gif';\r\nimport ServiceChargeRow from '../fin-soa/servicechargerow';\r\n\r\n\r\nimport { getProjects, \r\n         addJVTransaction, \r\n         getJVTransactions } from '../../../appcode/finjv';\r\nimport { TitlePageHeader } from '../../titleheader/titleheader';\r\n\r\nclass JVForm extends Component {\r\n\r\n    state = {\r\n        uprofile: {},\r\n        projectsList: [],\r\n        transData: {\r\n            transDate: '',\r\n            transAmount: 0,\r\n            transDesc: '',\r\n            targetProj: 'Self',\r\n            transType: 'Credit'\r\n        },\r\n        showProcess: true,\r\n        error: '',\r\n        selectedClient: '',\r\n        selectedProject: '',\r\n        selectedContract: '',\r\n        flags: {\r\n            isAdd: true,\r\n            isEdit: true\r\n        },\r\n        transTypes: [\r\n            { Name: 'Credit'},\r\n            { Name: 'Debit' }\r\n        ],\r\n        jvTransactions: [],\r\n        targetProjects: [\r\n            { Name: 'Self' },\r\n            { Name: 'Petty Cash' }\r\n        ]\r\n    }\r\n\r\n    handleTransDescOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n        transData.transDesc = event.currentTarget.value;\r\n        \r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleProjectsOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n        transData.targetProj = event.currentTarget.value;\r\n\r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleTransDateOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n\r\n        transData.transDate = event.currentTarget.value;\r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleTransTypeOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n\r\n        transData.transType = event.currentTarget.value;\r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleTransAmountOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n\r\n        transData.transAmount = event.currentTarget.value;\r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleOnSubmit = () => {\r\n        this.setState({ showProcess: true });\r\n\r\n        const { transData } =this.state;\r\n\r\n        let transaction = {\r\n            projectName: transData.targetProj,\r\n            transDate: transData.transDate,\r\n            transType: transData.transType,\r\n            transDesc: transData.transDesc,\r\n            transAmount: transData.transAmount\r\n        }\r\n\r\n        let returnedResult = addJVTransaction(transaction)\r\n            .then(result => {\r\n                console.log(result);\r\n\r\n                getJVTransactions()\r\n                    .then(result => {\r\n                        let jvTransactions = [];\r\n\r\n                        jvTransactions = result.Result;\r\n\r\n                        console.log(jvTransactions);\r\n                        this.setState({ jvTransactions });\r\n\r\n                        this.setState({ showProcess: false });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n            console.log(returnedResult);\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n        \r\n        getProjects()\r\n            .then(result => {\r\n                let projectsList = [...this.state.targetProjects];\r\n\r\n                result.Result.map( c => { \r\n                    let project = {Name: c.name };\r\n                    projectsList.push(project) });\r\n                \r\n                this.setState({ projectsList });\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error: \", error);\r\n            });\r\n        \r\n        getJVTransactions()\r\n            .then(result => {\r\n                let jvTransactions = [];\r\n\r\n                jvTransactions = result.Result;\r\n\r\n                console.log(jvTransactions);\r\n                this.setState({ jvTransactions });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Journal Entries and Petty Cash\" bgColor=\"white\" color=\"gray\" />\r\n                <form style={{marginTop: \"10px\", paddingLeft: \"25px\", paddingRight: \"25px\"}} >\r\n                    <div className='col-md-12'>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='date'\r\n                                name='txtTransDate'\r\n                                label='Transaction Date'\r\n                                value={this.state.transData.transDate}\r\n                                onChange={this.handleTransDateOnChange}\r\n                                flgDisabled={false}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='number'\r\n                                name='txtTransValue'\r\n                                label='Transaction Value'\r\n                                value={this.state.transData.transAmount}\r\n                                onChange={this.handleTransAmountOnChange}\r\n                                flgDisabled={false}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <DropDownList name='ddlProjects' \r\n                        label='Projects'  \r\n                        values={this.state.projectsList} \r\n                        onChange={this.handleProjectsOnChange} \r\n                        flgDisabled={false} \r\n                        error={this.state.error} \r\n                    />\r\n\r\n                    <Input \r\n                        type='text'\r\n                        name='txtTransDesc'\r\n                        label='Transaction Description'\r\n                        value={this.state.transData.transDesc}\r\n                        onChange={this.handleTransDescOnChange}\r\n                        flgDisabled={false}\r\n                        error={this.state.error}\r\n                    />\r\n\r\n                    <DropDownList \r\n                        name='ddlTransType'\r\n                        label='Transaction Type'\r\n                        values={this.state.transTypes}\r\n                        onChange={this.handleTransTypeOnChange}\r\n                        flgDisabled={false}\r\n                        error={this.state.error}\r\n                        defValue='Credit'\r\n                    />\r\n                    \r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={this.state.showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"2vh\"}} />\r\n\r\n                    <div className={\"btn-toolbar\" \r\n                            + ((this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \" hidden\")}\r\n                            style={btnToolbar} >\r\n                        <div className=\"btn-group btn-group-justified\">\r\n                            <button type=\"button\"\r\n                                className=\"btn btn-primary\" \r\n                                style={{width: \"100%\"}}\r\n                                onClick={this.handleOnSubmit} >\r\n                                <FontAwesomeIcon icon=\"save\" />\r\n                            </button>\r\n                            {/* <button type=\"button\" \r\n                                className=\"btn btn-danger\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={this.handleOnCancel}>\r\n                                <FontAwesomeIcon icon=\"ban\" />\r\n                            </button> */}\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <table className=\"table table-striped table-hover\">\r\n                    <thead>\r\n                        <tr className=\"bg-info\">\r\n                            <th style={{width: \"20%\"}}>Date</th>\r\n                            <th style={{width: \"50%\"}}>Description</th>\r\n                            <th style={currColStyle}>Debit (OMR)</th>\r\n                            <th style={currColStyle}>Credit (OMR)</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.jvTransactions.map(jv => {\r\n                            return <ServiceChargeRow \r\n                                transDate={jv.jvDate}   \r\n                                transDesc={jv.jvDesc}\r\n                                transAmountDr={jv.jvTransType === \"Debit\" ? jv.jvAmount : 0}\r\n                                transAmountCr={jv.jvTransType === \"Credit\" ? jv.jvAmount : 0} />\r\n                        })}\r\n                        \r\n                    </tbody>\r\n                </table>\r\n                <hr  />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JVForm;\r\n\r\nconst currColStyle = {\r\n    textAlign: \"right\",\r\n    width: \"15%\"\r\n};\r\n\r\nconst btnToolbar = {\r\n    width: \"100%\", \r\n    paddingBottom: \"25px\", \r\n    marginBottom: \"25px\", \r\n    marginAbove: \"25px\", \r\n    borderBottom: \"solid thin\", \r\n    borderBottomColor: \"gainsboro\"\r\n}","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getClientDocument = async (clientName) => {\r\n    // This function gets the existing document of the given Client Name.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var clientsDb = db.collection('Inventory').doc('Assets').collection('Clients');\r\n\r\n    // get the document containing the complain categories as fields name\r\n    // from the Dependencies/HDeskComplCat document...\r\n    return clientsDb.where('clName', '==', clientName).get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            let clients = [];\r\n\r\n            snapshot.forEach((docClient) => {\r\n                clients.push(docClient.data());\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = clients;\r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = '{}';\r\n            funcFailReason = 'No Clients were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addClient = async (client) => {\r\n    // This function creates a new Client Profile document,\r\n    // or reset the existing one.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n\r\n    var cn = client.clName;\r\n    var ce = client.clEmail;\r\n    var cpnam = client.clContactName;\r\n    var cpnum = client.clContactNumber;\r\n    var cadd = client.clAddress;\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);  \r\n    var clientsDb = db.collection('Inventory').doc('Assets').collection('Clients');\r\n\r\n    var newclient = {\r\n      clName: cn,\r\n      clEmail: ce,\r\n      clContactName: cpnam,\r\n      clContactNumber: cpnum,\r\n      clAddress: cadd,\r\n      SitesCount: 0\r\n    };\r\n\r\n    // check if a document exists for the mentioned client name...\r\n    return clientsDb.doc(cn).get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n            // The client document exists...\r\n            return clientsDb.doc(cn).set(newclient);\r\n        }\r\n        else {\r\n          // No document exists for this client... Create a new document...\r\n          return clientsDb.doc(cn).set(newclient).then((result) => {\r\n            // Update Assets Profile and increment the number of clients by 1...\r\n            var assetsProfileDb = db.collection('Inventory').doc('Assets').get().then((snapshot) =>{\r\n              var cc = 0;\r\n              if(snapshot.exists) {\r\n                // There are fields in the Assets Profile... Get the ClientsCount value;\r\n                cc = snapshot.data().ClientsCount;\r\n\r\n              }\r\n              ++cc;\r\n              return db.collection('Inventory').doc('Assets').update({ClientsCount: cc});\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .then((result) => {\r\n        // On successful writing of client document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = '{}';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const updateClientByName = (client) => {\r\n    // This function updates an existsing Client Profile document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n\r\n    var cn = client.clName;\r\n    var ce = client.clEmail;\r\n    var cpnam = client.clContactName;\r\n    var cpnum = client.clContactNumber;\r\n    var cadd = client.clAddress;\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);  \r\n    var clientsDb = db.collection('Inventory').doc('Assets').collection('Clients');\r\n\r\n    var updateclient = {\r\n      clName: cn,\r\n      clEmail: ce,\r\n      clContactName: cpnam,\r\n      clContactNumber: cpnum,\r\n      clAddress: cadd\r\n    };\r\n\r\n    // check if a document exists for the mentioned client name...\r\n    return clientsDb.doc(cn).get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The client document exists. Update client profile document...\r\n          return clientsDb.doc(cn).set(updateclient);\r\n        }\r\n        else {\r\n          // No document exists for this client... Return result...\r\n          funcSuccess = 'No';\r\n          funcResult = '{}';\r\n          funcFailReason = 'Client Profile do not exist.'\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n      })\r\n      .then((result) => {\r\n        // On successful writing of client document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = '{}';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = '{}';\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\n// --------------------------------------------------------------\r\n\r\nexport const getProjectDocument = async (prjName) => {\r\n  // This function gets the existing document of the given Client Name.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  \r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  \r\n  const settings = { timestampsInSnapshots: true };\r\n  db.settings(settings);\r\n\r\n  var projectsDb = db.collection('Projects');\r\n\r\n  // get the document containing the complain categories as fields name\r\n  // from the Dependencies/HDeskComplCat document...\r\n  return projectsDb.where('prjName', '==', prjName).get()\r\n  .then((snapshot) => {\r\n\r\n      if (snapshot.docs.length > 0)\r\n      {\r\n          let projects = [];\r\n\r\n          snapshot.forEach((docPrj) => {\r\n              projects.push(docPrj.data());\r\n\r\n          });\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = projects;\r\n      }\r\n      else\r\n      {\r\n          funcSuccess = 'No';\r\n          funcResult = [];\r\n          funcFailReason = 'No Clients were found. Returning empty list.';\r\n      }\r\n\r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning\r\n      };\r\n\r\n      // res.send(JSON.stringify(funcReturn));\r\n      return funcReturn;\r\n  })\r\n  .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning\r\n      };\r\n\r\n      // res.send(JSON.stringify(funcReturn));\r\n      return funcReturn;\r\n  });\r\n};\r\n\r\nexport const addProject = (project) => {\r\n  // This function Creates a new Project document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  // var projDef = project;\r\n  // var jsonProjDef = JSON.parse(projDef);\r\n  var jsonProjDef = project;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  const settings = { timestampsInSnapshots: true };\r\n  db.settings(settings);\r\n  var prjDb = db.collection('Projects');\r\n\r\n\r\n  // check if a document exists for the mentioned project name...\r\n  return prjDb.doc(jsonProjDef.prjName).get()\r\n    .then((snapshot) => {\r\n      // if snapshot exists, check if overwrite...\r\n      if(snapshot.exists)\r\n      {\r\n        // Do not overwrite and return failreason...\r\n        funcSuccess = 'No';\r\n        funcResult = \"{}\";\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: \"Project Exists and cannot overwrite. Adding aborted.\",\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n      else {\r\n\r\n            // Project do not exist... Add it to Projects Database...\r\n            return prjDb.doc(jsonProjDef.prjName).set(jsonProjDef);\r\n      }\r\n    })\r\n    .then((docRef) => {\r\n\r\n      // go through the snapshot docs and get the Client names and push\r\n      // them into a JSON string...\r\n\r\n      funcSuccess = 'Ok';\r\n      funcResult = docRef.id;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const updateProjectByName = (project) => {\r\n  // This function update an Existing Project document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  // var projDef = req.body.jsonproject;\r\n  // var jsonProjDef = JSON.parse(projDef);\r\n  var jsonProjDef = project;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  const settings = { timestampsInSnapshots: true };\r\n  db.settings(settings);\r\n  var prjDb = db.collection('Projects');\r\n\r\n\r\n  // check if a document exists for the mentioned project name...\r\n  return  prjDb.doc(jsonProjDef.prjName).get()\r\n    .then((snapshot) => {\r\n      // if snapshot exists, update document...\r\n      return prjDb.doc(jsonProjDef.prjName).update(jsonProjDef);\r\n\r\n    })\r\n    .then((result) => {\r\n\r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\n// --------------------------------------------------------------\r\n\r\nexport const getAssetDoc = (prjName, contName, asstTitle) => {\r\n  // This function gets an existing asset documen under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var ttl = asstTitle;\r\n\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var assetsDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Assets');\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return assetsDb.doc(ttl).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // On successful writing of asset document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = snapshot.data();\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      }\r\n      else {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Asset does not exist.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addAsset = (prjName, contName, asset) => {\r\n  // This function creates a new Level 1Asset Record under Contract under\r\n  // project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The parameter asset is an object containing the asset's details... \r\n  // \r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var ttl = asset.Title;\r\n  var cnt = asset.Count;\r\n  var pool = asset.pool ? asset.pool : false;\r\n  var aequip = asset.assetEquip ? asset.assetEquip : false;\r\n  var adesc = asset.Description;\r\n  var sno = asset.serialNo ? asset.serialNo : \"\";\r\n  var remarks = asset.Remarks;\r\n  var location = asset.Location;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  \r\n  var db = firebase.firestore();\r\n  var assetsDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Assets');\r\n\r\n  var newasset = {\r\n    Title: ttl,\r\n    Description: adesc,\r\n    pool: pool,\r\n    assetEquip: aequip,\r\n    Location: location,\r\n    serialNo: sno,\r\n    Count: cnt,\r\n    Remarks: remarks\r\n  };\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return assetsDb.doc(ttl).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Asset already exists. No Overwrite.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      }\r\n      else {\r\n        // No document exists for this client... Create a new document...\r\n        return assetsDb.doc(ttl).set(newasset);\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of client document to database...\r\n      if(result)\r\n      {\r\n        if(!result.Success) return;\r\n\r\n        if(result.Success === 'No')\r\n        {\r\n          return result;\r\n        }\r\n      }\r\n\r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const updateAsset = (prjName, contName, asset) => {\r\n  // This function updates an existing Level 1Asset Record under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // Parameter asset is an object containing the asset's details...\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var ttl = asset.Title;\r\n  var cnt = asset.Count;\r\n  var pool = asset.pool ? asset.pool : false;\r\n  var aequip = asset.assetEquip ? asset.assetEquip : false;\r\n  var adesc = asset.Description;\r\n  var sno = asset.serialNo ? asset.serialNo : \"\";\r\n  var location = asset.Location;\r\n  var remarks = asset.Remarks;\r\n\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var assetsDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Assets');\r\n\r\n  var updateasset = {\r\n    Title: ttl,\r\n    Description: adesc,\r\n    Location: location,\r\n    serialNo: sno,\r\n    Count: cnt,\r\n    Remarks: remarks\r\n  };\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return assetsDb.doc(ttl).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        return assetsDb.doc(ttl).update(updateasset);\r\n      }\r\n      else {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Asset does not exist.Update Aborted.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of asset document to database...\r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getAssetsList = (prjName, contName) => {\r\n  // This function gets an existing asset documen under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var assetsDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Assets');\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return assetsDb.get()\r\n    .then((snapshot) => {\r\n      let assets = [];\r\n\r\n      if(snapshot.docs.length > 0) {\r\n       \r\n        snapshot.forEach(docAsset => {\r\n          assets.push(docAsset.data());\r\n          console.log(\"Asset: \", docAsset);\r\n        });\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = assets;\r\n      }\r\n      else {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = assets;\r\n        funcFailReason = 'No assets found. Returning empty list.';\r\n      }\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\n// --------------------------------------------------------------\r\n\r\nexport const getContractByName = (prjName, contName) => {\r\n  // This function gets an existsing Contract of Project by the specified\r\n  // Project name and Contract Name.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  var prjn = prjName;\r\n  var contc = contName;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var prjDb = db.collection('Projects');\r\n\r\n  // check if a document exists for the mentioned Project/Contract...\r\n  return prjDb.doc(prjn).collection('Contracts').doc(contc).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The document exists. Return the document...\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = snapshot.data();\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n      else {\r\n        // No document exists for this project... Return result...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Contract do not exist.'\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n}\r\n\r\n// --------------------------------------------------------------\r\n\r\nexport const getMainLogList = (cltName, prjName, contName, atitle) => {\r\n  // This function retrieves all transactions under the Statement of accounts\r\n  // of a Client's Project's Contract (hence, CPC), starting with the open\r\n  // balance transaction created at the time of creating the contract.\r\n  //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    //  create the SOA document name\r\n    // (Client's Name + '_' + Project's Name + '_' + Contract's Name)\r\n    var logDocName = cltName + '_' + prjName + '_' + contName + '_' + atitle;\r\n\r\n    var db = firebase.firestore();\r\n    var mainlogDB = db.collection('Maintenance').doc('Logs').collection(logDocName);\r\n\r\n\r\n    return mainlogDB.get()\r\n      .then((snapshot) => {\r\n        if(snapshot.docs.length > 0)\r\n        {\r\n          let result = [];\r\n\r\n          snapshot.forEach((docTr) => {\r\n            result.push(docTr.data());\r\n          });\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = result;\r\n\r\n        }\r\n        else {\r\n          // Do not overwrite... Return the results...\r\n          funcSuccess = 'No';\r\n          funcResult = [];\r\n          funcFailReason = 'Could not find logs for given asset.';\r\n        }\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const addMainLog = (cln, pn, ctn, atitle, mainLog) => {\r\n  // This function creates a new Maintenance Log Entry,\r\n  // based on the Client/Project/Contract/Asset combination.\r\n  //\r\n  // This function does no validation of the data passed.\r\n  //\r\n\r\n  var logdt = mainLog.logDate;\r\n  var logdetails = mainLog.logDetails;\r\n  var logId = '';\r\n  var pb = mainLog.logPerformedBy;\r\n\r\n  var logDocName = cln + '_' + pn + '_' + ctn + '_' + atitle;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var mainlogDB = db.collection('Maintenance').doc('Logs');\r\n\r\n  /*  Function Algorethm...\r\n\r\n  if(contract exits in SOA)\r\n  {\r\n    get transactions\r\n    get ID of first transaction => get the part1 of IT as ContractIndex\r\n    get transactions count to generate transaction number:\r\n        ContractIndex + '.' + transaction Number\r\n\r\n    create transaction object and add it to contract SOA collection\r\n  }\r\n  else {\r\n    we need to create new Contract SOA Collection\r\n    get SOA => get SOA ContractCounter => create ContractIndex number\r\n    create transaction object and add it to new contract SOA collection\r\n  }\r\n  */\r\n\r\n  // Create transaction object...\r\n  var newMainLog = {}\r\n  \r\n  return mainlogDB.collection(logDocName).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.docs.length > 0)\r\n      {\r\n        // there is an Log collection for this contract...\r\n        // get the first document's ID...\r\n        logId = snapshot.docs[0].id;\r\n\r\n        // get the count of transactions in collection...\r\n        var logCount = snapshot.docs.length + 1;\r\n        // generate new transaction number...\r\n        var newLogNumber = logId.split('.')[0] + '.MLOG' + logCount.pad(5, '0');\r\n\r\n        newMainLog = {\r\n          logId: newLogNumber,\r\n          logDate: logdt,\r\n          logDetails: logdetails,\r\n          logPerformedBy: pb\r\n        }\r\n\r\n        // add the transaction to the collection...\r\n        return mainlogDB.collection(logDocName).doc(newLogNumber).set(newMainLog)\r\n          .then(result => {\r\n            funcSuccess = 'Ok';\r\n            funcResult = newMainLog;\r\n            funcFailReason = '';\r\n\r\n            var funcReturn = {\r\n              Success: funcSuccess,\r\n              Result: funcResult,\r\n              FailReason: funcFailReason,\r\n              Error: funcError,\r\n              Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n          })\r\n          .catch(err =>\r\n          {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'Error';\r\n            funcError = err.message;\r\n\r\n            console.log(\"Process: \", err);\r\n            var funcReturn = {\r\n              Success: funcSuccess,\r\n              Result: funcResult,\r\n              FailReason: funcFailReason,\r\n              Error: funcError,\r\n              Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n          });\r\n      }\r\n      else {\r\n        // There is no collection for this Log...\r\n        // get the Assets Log parameters to generate new Log Index\r\n\r\n        var contCounter = 0;\r\n\r\n        return mainlogDB.get()\r\n          .then(snapshot =>{\r\n            if(snapshot.exists)\r\n            {\r\n              // get the ContractCounter index...\r\n              contCounter = snapshot.data().LogCounter;\r\n\r\n              // Generate new transaction number...\r\n              var newLogNum = \"A\" + (contCounter + 1).pad(5, '0') + \".MLOG00001\";\r\n\r\n              // create the transaction object...\r\n              // Create transaction object...\r\n              newMainLog = {\r\n                logId: newLogNum,\r\n                logDate: logdt,\r\n                logDetails: logdetails,\r\n                logPerformedBy: pb\r\n              }\r\n              // add the transaction to the collection...\r\n              return db.collection('Maintenance').doc('Logs').collection(logDocName).doc(newLogNum).set(newMainLog);\r\n            }\r\n            else {\r\n              funcSuccess = 'No';\r\n              funcResult = {};\r\n              funcFailReason = 'Maintenance Log Parameters are not found. Action Aborted.';\r\n              funcError = '';\r\n\r\n              var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning };\r\n\r\n              return funcReturn;\r\n            }\r\n          })\r\n          .then(result => {\r\n            // adding transaction successfully...\r\n            // increment the ContractCounter...\r\n\r\n            return mainlogDB.update({LogCounter: contCounter +1 });\r\n          })\r\n          .then(result => {\r\n            funcSuccess = 'Ok';\r\n            funcResult = newMainLog;\r\n            funcFailReason = '';\r\n\r\n            var funcReturn = {\r\n              Success: funcSuccess,\r\n              Result: funcResult,\r\n              FailReason: funcFailReason,\r\n              Error: funcError,\r\n              Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n          })\r\n          .catch(err =>\r\n          {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'Error';\r\n            funcError = err.message;\r\n\r\n            console.log(\"Process: \", err);\r\n            var funcReturn = {\r\n              Success: funcSuccess,\r\n              Result: funcResult,\r\n              FailReason: funcFailReason,\r\n              Error: funcError,\r\n              Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n          }\r\n        );\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      console.log(\"Process: \", err);\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const updateMainLog = (cln, pn, ctn, atitle, mainLog) => {\r\n  // This function updates an existing Transaction Entry in the Statement of\r\n  // Accounts Database, based on the Client/Project/Contract combination.\r\n  //\r\n  // This function does no validation of the data passed.\r\n  //\r\n\r\n  var logdt = mainLog.logDate;\r\n  var logdetails = mainLog.logDetails;\r\n  var logid = mainLog.logId;\r\n  var pb = mainLog.logPerformedBy;\r\n\r\n  var logDocName = cln + '_' + pn + '_' + ctn + '_' + atitle;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var mainlogDB = db.collection('Maintenance').doc('Logs');\r\n\r\n  /*  Function Algorethm...\r\n\r\n  if(contract exits in SOA)\r\n  {\r\n    get transactions by transid\r\n\r\n    create transaction object and update it in contract SOA collection\r\n  }\r\n  else {\r\n    return an error...\r\n  }\r\n  */\r\n\r\n  return mainlogDB.collection(logDocName).doc(logid).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists)\r\n      {\r\n        // transaction found, create the update transaction object...\r\n        var updateMainLog = {\r\n          logId: logid,\r\n          logDate: logdt,\r\n          logDetails: logdetails,\r\n          logPerformedBy: pb\r\n        }\r\n\r\n        // add the transaction to the collection...\r\n        return mainlogDB.collection(logDocName).doc(logid).set(updateMainLog)\r\n          .then(result => {\r\n            funcSuccess = 'Ok';\r\n            funcResult = '{}';\r\n            funcFailReason = '';\r\n\r\n            var funcReturn = {\r\n              Success: funcSuccess,\r\n              Result: funcResult,\r\n              FailReason: funcFailReason,\r\n              Error: funcError,\r\n              Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n          })\r\n          .catch(err =>\r\n          {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'Error';\r\n            funcError = err.message;\r\n\r\n            console.log(\"Process: \", err);\r\n            var funcReturn = {\r\n              Success: funcSuccess,\r\n              Result: funcResult,\r\n              FailReason: funcFailReason,\r\n              Error: funcError,\r\n              Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n          });\r\n      }\r\n      else {\r\n        // Transaction not found, return an error...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Maintenance Log not found. Update aborted.';\r\n        funcError = '';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      console.log(\"Process: \", err);\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getMainLogDoc = (cltName, prjName, contName, atitle, mainLogId) => {\r\n  // This function retrieves the Maintenance Log based on the parameters passed \r\n  // and the MainLog ID provided.\r\n  //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    //  create the Log document name\r\n    // (Client's Name + '_' + Project's Name + '_' + Contract's Name)\r\n    var logDocName = cltName + '_' + prjName + '_' + contName + '_' + atitle;\r\n\r\n    var db = firebase.firestore();\r\n    var mainlogDB = db.collection('Maintenance').doc('Logs').collection(logDocName).doc(mainLogId);\r\n\r\n    return mainlogDB.get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists)\r\n        {\r\n          let result = snapshot.data();\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = result;\r\n\r\n        }\r\n        else {\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Could not find the log requested.';\r\n        }\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\n// --------------------------------------------------------------\r\n\r\nexport const getMeterDoc = (prjName, contName, meterNumber) => {\r\n  // This function gets an existing meter documen under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var mtrn = meterNumber;\r\n\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var metersDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Meters');\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return metersDb.doc(mtrn).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // On successful writing of asset document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = snapshot.data();\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      }\r\n      else {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Meter does not exist.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addMeter = (prjName, contName, meter) => {\r\n  // This function creates a new Meter Record under Contract under\r\n  // project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The parameter meter is an object containing the meter's details... \r\n  // \r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var mtrn = meter.Number;\r\n  var remarks = meter.Remarks;\r\n  var location = meter.Location;\r\n  var mtype = meter.Type;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  \r\n  var db = firebase.firestore();\r\n  var metersDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Meters');\r\n\r\n  var newmeter = {\r\n    Number: mtrn,\r\n    Location: location,\r\n    Remarks: remarks,\r\n    Type: mtype\r\n  };\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return metersDb.doc(mtrn).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Meter already exists. No Overwrite.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      }\r\n      else {\r\n        // No document exists for this client... Create a new document...\r\n        return metersDb.doc(mtrn).set(newmeter);\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of client document to database...\r\n      if(result)\r\n      {\r\n        if(!result.Success) return;\r\n\r\n        if(result.Success === 'No')\r\n        {\r\n          return result;\r\n        }\r\n      }\r\n\r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const updateMeter = (prjName, contName, meter) => {\r\n  // This function updates an existing Meter Record under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // Parameter meter is an object containing the meter's details...\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var mtrn = meter.Number;\r\n  var location = meter.Location;\r\n  var remarks = meter.Remarks;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var metersDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Meters');\r\n\r\n  var updatemeter = {\r\n    Number: mtrn,\r\n    Location: location,\r\n    Remarks: remarks\r\n  };\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return metersDb.doc(mtrn).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        return metersDb.doc(mtrn).update(updatemeter);\r\n      }\r\n      else {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Meter does not exist.Update Aborted.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of asset document to database...\r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getMetersList = (prjName, contName) => {\r\n  // This function gets list of existing meters under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var metersDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Meters');\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return metersDb.get()\r\n    .then((snapshot) => {\r\n      let meters = [];\r\n\r\n      if(snapshot.docs.length > 0) {\r\n       \r\n        snapshot.forEach(docMeter => {\r\n          meters.push(docMeter.data());\r\n        });\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = meters;\r\n      }\r\n      else {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = meters;\r\n        funcFailReason = 'No meters found. Returning empty list.';\r\n      }\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\n// --------------------------------------------------------------\r\n\r\nexport const getMeterReadingDoc = (cltName, prjName, contName, meterNumber, mrDate) => {\r\n  // This function gets an existing meter documen under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var mtrn = meterNumber;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var metersDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Meters').doc(mtrn)\r\n                    .collection('Readings').doc(mrDate);\r\n\r\n  // check if a document exists for the mentioned meter...\r\n  return metersDb.get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // On successful writing of asset document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = snapshot.data();\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      }\r\n      else {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Meter Reading does not exist for the given date.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addMeterReading = (CltName, prjName, contName, meterNumber, meterReading) => {\r\n  // This function creates a new Meter Record under Contract under\r\n  // project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The parameter meter is an object containing the meter's details... \r\n  // \r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var mtrn = meterNumber;\r\n  var mtrrd = meterReading.readingDate;\r\n\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n\r\n  var db = firebase.firestore();\r\n  var metersDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Meters').doc(mtrn)\r\n                    .collection('Readings');\r\n\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return metersDb.doc(mtrrd).get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        // The meter reading document for the specified date exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Meter Reading for this day already exists. No Overwrite.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      }\r\n      else {\r\n        // No document exists for this client... Create a new document...\r\n        return metersDb.doc(mtrrd).set(meterReading);\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of client document to database...\r\n      if(result)\r\n      {\r\n        if(!result.Success) return;\r\n\r\n        if(result.Success === 'No')\r\n        {\r\n          return result;\r\n        }\r\n      }\r\n\r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const updateMeterReading = (prjName, contName, meterNumber, meterReading) => {\r\n  // This function updates an existing Meter Record under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // Parameter meter is an object containing the meter's details...\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n  var mtrn = meterNumber;\r\n  var mrdt = meterReading.readingDate;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var metersDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Meters').doc(mtrn)\r\n                    .collection('Readings').doc(mrdt);\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return metersDb.get()\r\n    .then((snapshot) => {\r\n      if(snapshot.exists) {\r\n        return metersDb.update(meterReading);\r\n      }\r\n      else {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Meter reading does not exist. Update Aborted.';\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .then((result) => {\r\n      // On successful writing of asset document to database...\r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getMeterReadingList = (cltName, prjName, contName, meterNumber) => {\r\n  // This function gets list of existing meters under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n\r\n  var pn = prjName;\r\n  var cn = contName;\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var metersDb = db.collection('Projects').doc(pn)\r\n                    .collection('Contracts').doc(cn)\r\n                    .collection('Meters');\r\n\r\n  // check if a document exists for the mentioned client name...\r\n  return metersDb.doc(meterNumber).collection('Readings').get()\r\n    .then((snapshot) => {\r\n      let meterReadings = [];\r\n\r\n      if(snapshot.docs.length > 0) {\r\n       \r\n        snapshot.forEach(docMeterReading => {\r\n          meterReadings.push(docMeterReading.data());\r\n        });\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = meterReadings;\r\n      }\r\n      else {\r\n        // The client document exists...\r\n        // Do not overwrite... Return the results...\r\n        funcSuccess = 'No';\r\n        funcResult = meterReadings;\r\n        funcFailReason = 'No readings found. Returning empty list.';\r\n      }\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\n","import React, { Component } from 'react';\r\nimport Input from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\n\r\nclass ClientForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        }\r\n\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = this.props.handlers.handleOnSave(flags);\r\n        console.log(result);\r\n\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { client } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.state.topTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                    <FontAwesomeIcon icon='plus' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                    <FontAwesomeIcon icon='edit' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtCltName'\r\n                    label='Client Name'\r\n                    type='text'\r\n                    value={client.clName}\r\n                    onChange={this.props.handlers.handleClientNameChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtCltEmail'\r\n                    label='Client Email'\r\n                    type='text'\r\n                    value={client.clEmail}\r\n                    onChange={this.props.handlers.handleClientEmailChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtCPName'\r\n                    label='Contact Person'\r\n                    type='text'\r\n                    value={client.clContactName}\r\n                    onChange={this.props.handlers.handleContactNameChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtCPNumber'\r\n                    label='Contact Number(s)'\r\n                    type='text'\r\n                    value={client.clContactNumber}\r\n                    onChange={this.props.handlers.handleContactNumberChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtAddress'\r\n                    label='Address'\r\n                    type='text'\r\n                    value={client.clAddress}\r\n                    onChange={this.props.handlers.handleAddressChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ClientForm;","import React, { Component } from 'react';\r\nimport Input from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\n\r\nclass ProjectForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        }\r\n\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = this.props.handlers.handleOnSave(flags);\r\n        console.log(result);\r\n\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { project } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.state.topTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                    <FontAwesomeIcon icon='plus' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                    <FontAwesomeIcon icon='edit' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtPrjName'\r\n                    label='Project Name'\r\n                    type='text'\r\n                    value={project.prjName}\r\n                    onChange={this.props.handlers.handleProjectNameChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtPrjCode'\r\n                    label='Project Code'\r\n                    type='text'\r\n                    value={project.prjCode}\r\n                    onChange={this.props.handlers.handleProjectCodeChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtPrjDesc'\r\n                    label='Description'\r\n                    type='text'\r\n                    value={project.prjDescription}\r\n                    onChange={this.props.handlers.handleProjectDescriptionChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtClName'\r\n                    label='Client Name'\r\n                    type='text'\r\n                    value={project.clientName}\r\n                    onChange={this.props.handlers.handleClientNameChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProjectForm;","import React, { Component } from 'react';\r\nimport Input from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\n\r\nclass ContractForm extends Component {\r\n    state = {\r\n        error: ''\r\n    }\r\n\r\n    render() {\r\n        const { contract } = this.props;\r\n    \r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtContName'\r\n                    label='Contract Name'\r\n                    type='text'\r\n                    value={contract.contName}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtContCode'\r\n                    label='Contract Code'\r\n                    type='text'\r\n                    value={contract.contCode}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtContDesc'\r\n                    label='Description'\r\n                    type='text'\r\n                    value={contract.Description}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtContEmail'\r\n                    label='Contact Email'\r\n                    type='text'\r\n                    value={contract.contactEmails}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtContPerson'\r\n                    label='Contact Person'\r\n                    type='text'\r\n                    value={contract.contactPerson}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtEffectiveDate'\r\n                    label='Effective Date'\r\n                    type='text'\r\n                    value={contract.effectDate}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtExpiryDate'\r\n                    label='Expiry Date'\r\n                    type='text'\r\n                    value={contract.expiryDate}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                \r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ContractForm;","import React, { Component, useState } from 'react';\r\nimport '../css/inputcomponents.css';\r\n\r\n\r\nconst PopupList = (props) => {\r\n    const { name, data, flgDisabled, handleSelection } = props;\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    // : &#9650; and : &#9660;\r\n    return (\r\n        <div className=\"form-group row fieldContainer\" \r\n            style={{marginTop: '0'}}>\r\n            <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}>\r\n                {flgDisabled != 'disabled' ? \r\n                    (\r\n                        <button className=\"form-control\" \r\n                            style={{height: '25px', lineHeight: '10px', fontSize: '10px', fontWeight: 'bolder', border: 'solid 1px black'}}\r\n                            onClick={() => setVisible(!visible)}>\r\n                            {'Locations List ' + (visible ? '▲' : '▼')}\r\n                        </button>\r\n                    ) : ''}\r\n                \r\n            </div>\r\n            {visible ? \r\n                (\r\n                    <select id={\"sel\"+name} size={5} className=\"form-control\"\r\n                        onChange={handleSelection}\r\n                        style={{fontSize: '10px'}} >\r\n                        {data.map((item) => <option value={item}>{item}</option>)}\r\n                    </select>\r\n                ) : ''}\r\n        </div>) \r\n}\r\n\r\nexport default PopupList;","import React, { Component } from 'react';\r\nimport Input from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\nimport PopupList from '../../common/popuplist';\r\n\r\nclass AssetForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        }\r\n\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = async () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = await this.props.handlers.handleOnSave(flags);\r\n        console.log(\"Saving Asset\", result);\r\n\r\n        if(result.Success === 'Ok')\r\n        {\r\n            // hide the top Add and Cance buttons \r\n            // and show the bottom Save and Cancel buttons\r\n            this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n    \r\n            // Set the all flags to false to disable the fields...\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n            this.setState({ flags });\r\n        }\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { asset } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.state.topTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                    <FontAwesomeIcon icon='plus' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                    <FontAwesomeIcon icon='edit' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtAsstTitle'\r\n                    label='Asset Title'\r\n                    type='text'\r\n                    value={asset.Title}\r\n                    onChange={this.props.handlers.handleAssetTitleChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='chkPool'\r\n                    label='Is a Pool?'\r\n                    type='checkbox'\r\n                    value={asset.pool}\r\n                    onChange={this.props.handlers.handleAssetPoolChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='chkAssetEquip'\r\n                    label='Is an Asset Equipment?'\r\n                    type='checkbox'\r\n                    value={asset.assetEquip}\r\n                    onChange={this.props.handlers.handleAssetAssetEquipChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtAsstLocation'\r\n                    label='Location'\r\n                    type='text'\r\n                    value={asset.Location}\r\n                    onChange={this.props.handlers.handleAssetLocationChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <PopupList name=\"Locations\" \r\n                    data={this.props.locations} \r\n                    handleSelection={this.props.handlers.handleAssetLocationSelect}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"} />\r\n                <Input \r\n                    name='txtAsstDetails'\r\n                    label='Details'\r\n                    type='text'\r\n                    value={asset.Description}\r\n                    onChange={this.props.handlers.handleAssetDescriptionChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtAsstCount'\r\n                    label='Count'\r\n                    type='number'\r\n                    value={asset.Count}\r\n                    onChange={this.props.handlers.handleAssetCountChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtAsstSerialNo'\r\n                    label='Serial Number'\r\n                    type='text'\r\n                    value={asset.serialNo ? asset.serialNo : ''}\r\n                    onChange={this.props.handlers.handleAssetSNoChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtAsstRemarks'\r\n                    label='Remarks'\r\n                    type='text'\r\n                    value={asset.Remarks}\r\n                    onChange={this.props.handlers.handleAssetRemarksChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default AssetForm;","import React, { Component } from 'react';\r\nimport Input, { TextArea } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\n\r\nclass AssetForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        }\r\n\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = this.props.handlers.handleOnSave(flags);\r\n        console.log(result);\r\n\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { mainLog } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.state.topTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                    <FontAwesomeIcon icon='plus' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                    <FontAwesomeIcon icon='edit' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtMainLogId'\r\n                    label='Maintenance Log ID'\r\n                    type='text'\r\n                    value={mainLog.logId}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='dtMainLogDate'\r\n                    label='Maintenance Log Date'\r\n                    type='date'\r\n                    value={mainLog.logDate}\r\n                    onChange={this.props.handlers.handleMainLogDateChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtMainLogPeromedBy'\r\n                    label='Maintenance Performed By'\r\n                    type='text'\r\n                    value={mainLog.logPerformedBy}\r\n                    onChange={this.props.handlers.handleMainLogPerfromedByChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <TextArea \r\n                    name='txtMainLogDetails'\r\n                    label='Maintenance Log Details'\r\n                    value={mainLog.logDetails}\r\n                    onChange={this.props.handlers.handleMainLogDetailsChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                    rows={5}\r\n                />\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default AssetForm;","import React, { Component } from 'react';\r\nimport ItemsList from '../../common/itemslist';\r\nimport { getClientsNames, \r\n         getProjectsOfClient, \r\n         getContractsForProject } from '../../appcode/fincsoa';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { getClientDocument, \r\n         addClient, updateClientByName, \r\n         getProjectDocument,\r\n         addProject, updateProjectByName,\r\n         getContractByName,\r\n         getAssetDoc, getAssetsList,\r\n         addAsset, updateAsset,\r\n         getMainLogList, getMainLogDoc,\r\n         addMainLog, updateMainLog } from '../../appcode/invclientassets';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport ClientForm from './clientform';\r\nimport ProjectForm from './projectform';\r\nimport ContractForm from './contractform';\r\nimport AssetForm from './assetform';\r\nimport MainLogForm from './mainlogform';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\n\r\nclass InvCliAsst extends Component {\r\n    state = {\r\n        fullClientsList: [],\r\n        clientsList: [],\r\n        projectsList: [],\r\n        fullProjectsList: [],\r\n        contractsList: [],\r\n        fullContractsList: [],\r\n        assetsItems: [],\r\n        fullAssetsItems: [],\r\n        assetsMaintLog: [],\r\n        fullAssetsMaintLog: [],\r\n        showClientsProcess: true,\r\n        showProjectsProcess: false,\r\n        showContractsProcess: false,\r\n        showAssetsProcess: false,\r\n        showMainLogProcess: false,\r\n        showFormProcess: \"hidden\",\r\n        selectedClient: '',\r\n        selectedProject: '',\r\n        selectedContract: '',\r\n        selectedAsset: '',\r\n        selectedMainLog: '',\r\n        visibileColumns: {\r\n            first: 0,\r\n            last: 2\r\n        },\r\n        visibilityFlags: [\r\n            \"\",\r\n            \"\",\r\n            \"\",\r\n            \"hidden\",\r\n            \"hidden\"\r\n        ],\r\n        propControl: ``,\r\n        propControlTitle: 'Client',\r\n        client: {\r\n            clName: '',\r\n            clEmail: '',\r\n            clContactName: '',\r\n            clContactNumber: '',\r\n            clAddress: '',\r\n            SitesCount: 0\r\n        },\r\n        project: {\r\n            prjName: '',\r\n            prjCode: '',\r\n            prjDescription: '',\r\n            clientName: ''\r\n        },\r\n        asset: {\r\n            Title: '',\r\n            pool: false,\r\n            assetEquip: false,\r\n            Description: '',\r\n            Location: '',\r\n            Count: 0,\r\n            serialNo: '',\r\n            Remarks: ''\r\n        },\r\n        contract: {\r\n            contName: '',\r\n            contCode: '',\r\n            Description: '',\r\n            contactEmails: '',\r\n            contactPerson: '',\r\n            effectDate: '',\r\n            expiryDate: ''\r\n        },\r\n        mainLog: {\r\n            logId: '',\r\n            logDate: '',\r\n            logDetails: '',\r\n            logPerformedBy: ''\r\n          },\r\n        uprofile: {},\r\n\r\n        locations: []\r\n    } \r\n\r\n    handleGoLeft = () => {\r\n        let visibileColumns = {...this.state.visibileColumns};\r\n        let visibilityFlags = [...this.state.visibilityFlags];\r\n\r\n        if(visibileColumns.first === 0) return;\r\n\r\n        for(let i=0; i<this.state.visibilityFlags.length; i++)\r\n        {   \r\n            if(i>=visibileColumns.first-1 && i<=visibileColumns.last-1) \r\n            {\r\n                visibilityFlags[i] = \"\";\r\n            }\r\n            else\r\n            {\r\n                visibilityFlags[i] = \"hidden\";\r\n            }\r\n        }\r\n\r\n        --visibileColumns.first;\r\n        --visibileColumns.last;\r\n\r\n        this.setState({ visibileColumns, visibilityFlags });\r\n\r\n    }\r\n\r\n    handleGoRight = () => {\r\n        let visibileColumns = {...this.state.visibileColumns};\r\n        let visibilityFlags = [...this.state.visibilityFlags];\r\n\r\n        if(visibileColumns.last === visibilityFlags.length-1) return;\r\n\r\n\r\n        for(let i=0; i<this.state.visibilityFlags.length; ++i)\r\n        {\r\n            if(i>=visibileColumns.first+1 && i<=visibileColumns.last+1) \r\n            {\r\n                visibilityFlags[i] = \"\";\r\n            }\r\n            else\r\n            {\r\n                visibilityFlags[i] = \"hidden\";\r\n            }\r\n        }\r\n\r\n        ++visibileColumns.first;\r\n        ++visibileColumns.last;\r\n\r\n        this.setState({ visibileColumns, visibilityFlags });\r\n    }\r\n\r\n    clientFormHandlers = {\r\n        handleClientNameChange: (event) => {\r\n            let client = {...this.state.client};\r\n            client.clName = event.currentTarget.value;\r\n    \r\n            this.setState({ client });\r\n        },\r\n    \r\n        handleClientEmailChange: (event) => {\r\n            let client = {...this.state.client};\r\n            client.clEmail = event.currentTarget.value;\r\n    \r\n            this.setState({ client });\r\n        },\r\n    \r\n        handleContactNameChange: (event) => {\r\n            let client = {...this.state.client};\r\n            client.clContactName = event.currentTarget.value;\r\n    \r\n            this.setState({ client });\r\n        },\r\n    \r\n        handleContactNumberChange: (event) => {\r\n            let client = {...this.state.client};\r\n            client.clContactNumber = event.currentTarget.value;\r\n    \r\n            this.setState({ client });\r\n        },\r\n    \r\n        handleAddressChange: (event) => {\r\n            let client = {...this.state.client};\r\n            client.clAddress = event.currentTarget.value;\r\n    \r\n            this.setState({ client });\r\n        },\r\n        \r\n        handleOnAdd: () => {\r\n            let client = {...this.state.client};\r\n\r\n            client.clName = \"\";\r\n            client.clEmail = \"\";\r\n            client.clContactName = \"\";\r\n            client.clContactNumber = \"\";\r\n            client.clAddress = \"\";\r\n\r\n            this.setState({ client });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            getClientDocument(this.state.selectedClient)\r\n                .then(result => {\r\n                    let clients = [...result.Result];\r\n                    let client = {...clients[0]};\r\n\r\n                    this.setState({ client });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n\r\n        handleOnSave: (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let client = {...this.state.client};\r\n\r\n            if(flags.isAdd)\r\n            {\r\n                addClient(client)\r\n                    .then(result => {\r\n                        let clientsList = [...this.state.clientsList];\r\n\r\n                        clientsList.push(client);\r\n                        clientsList = clientsList.sort(function(a, b){\r\n                            var x = a.clName.toLowerCase();\r\n                            var y = b.clName.toLowerCase();\r\n                            if (x < y) {return -1;}\r\n                            if (x > y) {return 1;}\r\n                            return 0;\r\n                        });\r\n\r\n                        this.setState({ clientsList, showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('New Client Saved Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                updateClientByName(client)\r\n                    .then(result => {\r\n                        this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('Exitsing Client Updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n    projectFormHandlers = {\r\n        handleProjectNameChange: (event) => {\r\n            let project = {...this.state.project};\r\n            project.prjName = event.currentTarget.value;\r\n    \r\n            this.setState({ project });\r\n        },\r\n    \r\n        handleProjectCodeChange: (event) => {\r\n            let project = {...this.state.project};\r\n            project.prjCode = event.currentTarget.value;\r\n    \r\n            this.setState({ project });\r\n        },\r\n    \r\n        handleProjectDescriptionChange: (event) => {\r\n            let project = {...this.state.project};\r\n            project.prjDescription = event.currentTarget.value;\r\n    \r\n            this.setState({ project });\r\n        },\r\n    \r\n        handleClientNameChange: (event) => {\r\n            let project = {...this.state.project};\r\n            project.clientName = event.currentTarget.value;\r\n    \r\n            this.setState({ project });\r\n        },\r\n            \r\n        handleOnAdd: () => {\r\n            let project = {...this.state.project};\r\n\r\n            project.prjName = \"\";\r\n            project.prjCode = \"\";\r\n            project.prjDescription = \"\";\r\n            project.clientName = this.state.selectedClient;\r\n            \r\n            this.setState({ project });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            getProjectDocument(this.state.selectedProject)\r\n                .then(result => {\r\n                    let projects = [...result.Result];\r\n                    let project = {...projects[0]};\r\n\r\n                    this.setState({ project });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n\r\n        handleOnSave: (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let project = {...this.state.project};\r\n\r\n            if(flags.isAdd)\r\n            {\r\n                addProject(project)\r\n                    .then(result => {\r\n                        let projectsList = [...this.state.projectsList];\r\n\r\n                        projectsList.push(project);\r\n                        projectsList = projectsList.sort(function(a, b){\r\n                            var x = a.prjName.toLowerCase();\r\n                            var y = b.prjName.toLowerCase();\r\n                            if (x < y) {return -1;}\r\n                            if (x > y) {return 1;}\r\n                            return 0;\r\n                        });\r\n\r\n                        this.setState({ projectsList, showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('New Project Saved Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                updateProjectByName(project)\r\n                    .then(result => {\r\n                        this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('Exitsing Project Updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    assetFormHandlers = {\r\n        handleAssetTitleChange: (event) => {\r\n            let asset = {...this.state.asset};\r\n            asset.Title = event.currentTarget.value;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n\r\n        handleAssetPoolChange: (event) => {\r\n            let asset = {...this.state.asset};\r\n            asset.pool = event.currentTarget.checked; // ? 1 : 0;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n\r\n        handleAssetAssetEquipChange: (event) => {\r\n            let asset = {...this.state.asset};\r\n\r\n            console.log('Asset Handler: ', asset);\r\n            asset.assetEquip = event.currentTarget.checked; // ? 1 : 0;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n    \r\n        handleAssetLocationChange: (event) => {\r\n            let asset = {...this.state.asset};\r\n            asset.Location = event.currentTarget.value;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n\r\n        handleAssetLocationSelect: (event) => {\r\n            let asset = {...this.state.asset};\r\n    \r\n            asset.Location = event.currentTarget.value;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n    \r\n        handleAssetDescriptionChange: (event) => {\r\n            let asset = {...this.state.asset};\r\n            asset.Description = event.currentTarget.value;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n    \r\n        handleAssetCountChange: (event) => {\r\n            let asset = {...this.state.asset};\r\n            asset.Count = event.currentTarget.value;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n\r\n        handleAssetRemarksChange: (event) => {\r\n            let asset = {...this.state.asset};\r\n            asset.Remarks = event.currentTarget.value;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n\r\n        handleAssetSNoChange: (event) => {\r\n            let asset = {...this.state.asset};\r\n            asset.serialNo = event.currentTarget.value;\r\n    \r\n            this.setState({ asset });\r\n        },\r\n            \r\n        handleOnAdd: () => {\r\n            let asset = {...this.state.asset};\r\n\r\n            asset.Title = \"\";\r\n            asset.pool = false;\r\n            asset.assetEquip = false;\r\n            asset.Location = \"\";\r\n            asset.Description = \"\";\r\n            asset.Count = 0;\r\n            asset.serialNo = '';\r\n            asset.Remarks = '';\r\n            \r\n            this.setState({ asset });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            const { selectedProject, selectedContract, selectedAsset } = this.state;\r\n\r\n            if(selectedAsset === '') \r\n            {   let asset = {\r\n                Title: '',\r\n                pool: false,\r\n                assetEquip: false,\r\n                Description: '',\r\n                Location: '',\r\n                Count: 0,\r\n                serialNo: '',\r\n                Remarks: '' }\r\n                this.setState({ asset });\r\n                return;\r\n            }\r\n\r\n            getAssetDoc(selectedProject, selectedContract, selectedAsset)\r\n                .then(result => {\r\n                    let asset = {...result.Result};\r\n\r\n                    this.setState({ asset });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n\r\n        handleOnSave: async (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let asset = {...this.state.asset};\r\n            let prjName = this.state.selectedProject;\r\n            let contName = this.state.selectedContract;\r\n\r\n            if(flags.isAdd)\r\n            {\r\n                return addAsset(prjName, contName, asset)\r\n                    .then(result => {\r\n                        if(result.Success === 'Ok')\r\n                        {\r\n                            let assetsItems = [...this.state.assetsItems];\r\n    \r\n                            assetsItems.push(asset);\r\n                            assetsItems = assetsItems.sort(function(a, b){\r\n                                var x = a.Title.toLowerCase();\r\n                                var y = b.Title.toLowerCase();\r\n                                if (x < y) {return -1;}\r\n                                if (x > y) {return 1;}\r\n                                return 0;\r\n                            });\r\n    \r\n                            this.setState({ assetsItems, showFormProcess: \"hidden\" });\r\n                            \r\n                            toast.success('New Asset Saved Successfully...',\r\n                            {\r\n                                position: toast.POSITION.TOP_RIGHT,\r\n                                autoClose: 5000,\r\n                                hideProgressBar: false,\r\n                                closeOnClick: true,\r\n                                pauseOnHover: true,\r\n                                draggable: true\r\n                            });\r\n\r\n                        }\r\n                        else\r\n                        {\r\n                            toast.warn(result.FailReason,\r\n                            {\r\n                                position: toast.POSITION.TOP_RIGHT,\r\n                                autoClose: 5000,\r\n                                hideProgressBar: false,\r\n                                closeOnClick: true,\r\n                                pauseOnHover: true,\r\n                                draggable: true\r\n                            });\r\n                            this.setState({ showFormProcess: \"hidden\" });\r\n\r\n                        }\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                        return error;\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                return updateAsset(prjName, contName, asset)\r\n                    .then(result => {\r\n\r\n                        this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('Exitsing Asset Updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                        return error;\r\n                    });\r\n                    \r\n            }\r\n        }\r\n    }\r\n\r\n    mainLogFormHandlers = {\r\n        handleMainLogDateChange: (event) => {\r\n            let mainLog = {...this.state.mainLog};\r\n            mainLog.logDate = event.currentTarget.value;\r\n    \r\n            this.setState({ mainLog });\r\n        },\r\n    \r\n        handleMainLogPerfromedByChange: (event) => {\r\n            let mainLog = {...this.state.mainLog};\r\n            mainLog.logPerformedBy = event.currentTarget.value;\r\n    \r\n            this.setState({ mainLog });\r\n        },\r\n    \r\n        handleMainLogDetailsChange: (event) => {\r\n            let mainLog = {...this.state.mainLog};\r\n            mainLog.logDetails = event.currentTarget.value;\r\n    \r\n            this.setState({ mainLog });\r\n        },\r\n    \r\n        handleOnAdd: () => {\r\n            let mainLog = {...this.state.mainLog};\r\n\r\n            mainLog.logId = '';\r\n            mainLog.logDate = '';\r\n            mainLog.logPerformedBy = '';\r\n            mainLog.logDetails = '';\r\n\r\n            this.setState({ mainLog });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            const { selectedClient, selectedProject, selectedContract, \r\n                    selectedAsset, selectedMainLog} = this.state;\r\n\r\n            getMainLogDoc(selectedClient, selectedProject, \r\n                          selectedContract, selectedAsset, \r\n                          selectedMainLog)\r\n                .then(result => {\r\n                    let mainLog = {...result.Result};\r\n\r\n                    this.setState({ mainLog });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n\r\n        handleOnSave: (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let mainLog = {...this.state.mainLog};\r\n            let cltName = this.state.selectedClient;\r\n            let prjName = this.state.selectedProject;\r\n            let contName = this.state.selectedContract;\r\n            let asstTitle = this.state.selectedAsset;\r\n            \r\n            if(flags.isAdd)\r\n            {\r\n                addMainLog(cltName, prjName, contName, asstTitle, mainLog)\r\n                    .then(result => {\r\n                        mainLog = {...result.Result};\r\n                        let assetsMaintLog = [...this.state.assetsMaintLog];\r\n\r\n                        assetsMaintLog.push(mainLog);\r\n                        assetsMaintLog = assetsMaintLog.sort(function(a, b){\r\n                            var x = a.logId.toLowerCase();\r\n                            var y = b.logId.toLowerCase();\r\n                            if (x < y) {return -1;}\r\n                            if (x > y) {return 1;}\r\n                            return 0;\r\n                        });\r\n\r\n                        this.setState({ assetsMaintLog, showFormProcess: \"hidden\", mainLog });\r\n                        \r\n                        toast.success('New Asset Log Saved Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                updateMainLog(cltName, prjName, contName, asstTitle, mainLog)\r\n                    .then(result => {\r\n                        this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('Exitsing Asset Log Updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    handleClientColumnClick = () => {\r\n        let propControl= 'ClientForm';\r\n        let propControlTitle= 'Client';\r\n        let client = {...this.state.client};\r\n\r\n        client.clName = '';\r\n        client.clEmail = '';\r\n        client.clContactName = '';\r\n        client.clContactNumber = '';\r\n        client.clAddress = '';\r\n\r\n        this.setState({ propControl, propControlTitle, client });\r\n    }\r\n\r\n    handleOnClientClick = (clName) => {\r\n        this.setState({ showProjectsProcess: true });\r\n        this.setState({ projectsList: [], \r\n                        contractsList: [],\r\n                        assetsItems: [],\r\n                        assetsMaintLog: [],\r\n                        selectedProject: '',\r\n                        selectedContract: '',\r\n                        selectedAsset: '',\r\n                        selectedMainLog: ''\r\n                    });\r\n        let selectedClient = clName;\r\n\r\n        getProjectsOfClient(clName)\r\n            .then(result => {\r\n                let projectsList = [];\r\n                let fullProjectsList = [];\r\n\r\n                if(result.Result.length !== 0)\r\n                {\r\n                    result.Result.map(c => {\r\n                        let project = {\r\n                            prjName: c.name\r\n                        };\r\n    \r\n                        projectsList.push(project);\r\n                        fullProjectsList.push(project);\r\n                    });    \r\n                }\r\n                \r\n                getClientDocument(clName)\r\n                    .then(result => {\r\n                        let clients = [...result.Result];\r\n                        let client = {...clients[0]};\r\n\r\n                        this.setState({ client });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n\r\n                this.setState({ projectsList, fullProjectsList, selectedClient });\r\n                this.setState({ showProjectsProcess: false });\r\n                this.setState({ propControl: 'ClientForm', propControlTitle: 'Client' });\r\n                \r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleProjectColumnClick = () => {\r\n        if(this.state.selectedClient === '')\r\n        {\r\n            toast.warn('You did not select a client!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'ProjectForm';\r\n            let propControlTitle= 'Project';\r\n            let project = {...this.state.project};\r\n    \r\n            project.prjName = '';\r\n            project.prjCode = '';\r\n            project.prjDescription = '';\r\n            project.clientName = '';\r\n    \r\n            this.setState({ propControl, propControlTitle, project });\r\n        }\r\n    }\r\n\r\n    handleOnProjectClick = (prjName) => {\r\n        this.setState({ showContractsProcess: true });\r\n        this.setState({ contractsList: [],\r\n                        assetsItems: [],\r\n                        assetsMaintLog: [] });\r\n        let selectedProject = prjName;\r\n\r\n        getContractsForProject(prjName)\r\n            .then(result => {\r\n                let contractsList = [];\r\n                let fullContractsList = [];\r\n\r\n                if(result.Result.length !== 0) {\r\n                    result.Result.map(c => {\r\n                        let contract = {\r\n                            contName: c.name\r\n                        };\r\n    \r\n                        contractsList.push(contract);\r\n                        fullContractsList.push(contract);\r\n                    });\r\n                }\r\n\r\n                getProjectDocument(prjName)\r\n                    .then(result => {\r\n                        let projects = [...result.Result];\r\n                        let project = {...projects[0]};\r\n\r\n                        this.setState({ project });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n\r\n                this.setState({ contractsList, fullContractsList, selectedProject, \r\n                                propControl: 'ProjectForm', \r\n                                propControlTitle: 'Project' });\r\n                this.setState({ showContractsProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleContractColumnClick = () => {\r\n        if(this.state.selectedProject === '')\r\n        {\r\n            toast.warn('You did not select a project!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'ContractForm';\r\n            let propControlTitle= 'Contract';\r\n            let contract = {...this.state.contract};\r\n    \r\n            contract.contName = '';\r\n            contract.contCode = '';\r\n            contract.Description = '';\r\n            contract.contactPerson = '';\r\n            contract.contactEmails = '';\r\n            contract.effectDate = '';\r\n            contract.expiryDate = '';\r\n    \r\n            this.setState({ propControl, propControlTitle, contract });\r\n        }\r\n    }\r\n\r\n    handleOnContractClick = (contName) => {\r\n        this.setState({ showAssetsProcess: true });\r\n        this.setState({ assetsItems: [],\r\n                        assetsMaintLog: [] });\r\n        let selectedContract = contName;\r\n        let prjName = this.state.selectedProject;\r\n\r\n        getAssetsList(prjName, contName)\r\n            .then(result => {\r\n                let assetsItems = [];\r\n                let fullAssetsItems = [];\r\n                let locations = [];\r\n\r\n                if(result.Result.length !== 0) {\r\n                    result.Result.map(c => {\r\n                        let asset = {\r\n                            Title: c.Title\r\n                        };\r\n    \r\n                        assetsItems.push(asset);\r\n                        fullAssetsItems.push(asset);\r\n                    });\r\n\r\n                    // select assets which are not asset equipments\r\n                    const locAssets = result.Result.filter(i => !i.assetEquip);\r\n                    locations = [...new Set(locAssets.map(la => la.Title))];\r\n                }\r\n\r\n                getContractByName(this.state.selectedProject, selectedContract)\r\n                    .then(result => {\r\n                        let contract = {...result.Result};\r\n                        this.setState({ contract });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n\r\n                this.setState({ assetsItems, fullAssetsItems, selectedContract, locations,\r\n                                propControl: 'ContractForm', \r\n                                propControlTitle: 'Contract' });\r\n                this.setState({ showAssetsProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n            if(this.state.visibileColumns.last < 3)\r\n            {\r\n                this.handleGoRight();\r\n            }\r\n    }\r\n\r\n    handleOnAssetClick = (assetTitle) => {\r\n        this.setState({ showMainLogProcess: true });\r\n        this.setState({ assetsMaintLog: [] });\r\n        let selectedAsset = assetTitle;\r\n        let cltName = this.state.selectedClient;\r\n        let prjName = this.state.selectedProject;\r\n        let contName = this.state.selectedContract;\r\n\r\n        getMainLogList(cltName, prjName, contName, selectedAsset)\r\n            .then(result => {\r\n                let assetsMaintLog = [];\r\n\r\n                if(result.Result.length !== 0) {\r\n                    console.log(result.Result);\r\n                    result.Result.map(c => {\r\n                        let mainLog = {\r\n                            logId: c.logId\r\n                        };\r\n    \r\n                        assetsMaintLog.push(mainLog);\r\n                    });\r\n                }\r\n\r\n                getAssetDoc(prjName, contName, selectedAsset)\r\n                    .then(result => {\r\n                        let asset = {...result.Result};\r\n                        this.setState({ asset });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n\r\n                this.setState({ selectedAsset, assetsMaintLog,\r\n                                propControl: 'AssetForm', \r\n                                propControlTitle: 'Asset' });\r\n                this.setState({ showMainLogProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n            if(this.state.visibileColumns.last < 3)\r\n            {\r\n                this.handleGoRight();\r\n            }\r\n\r\n        if(this.state.visibileColumns.last < 4)\r\n        {\r\n            this.handleGoRight();\r\n        }\r\n\r\n    }\r\n\r\n    handleAssetsColumnClick = () => {\r\n        if(this.state.selectedContract === '')\r\n        {\r\n            toast.warn('You did not select a contract!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'AssetForm';\r\n            let propControlTitle= 'Asset';\r\n            let asset = {...this.state.asset};\r\n    \r\n            asset = {\r\n                Title: '',\r\n                Description: '',\r\n                Location: '',\r\n                Count: 0,\r\n                Remarks: ''\r\n            }\r\n\r\n            this.setState({ propControl, propControlTitle, asset });\r\n        }\r\n    }\r\n\r\n    handleMainLogColumnClick = () => {\r\n        if(this.state.selectedAsset === '')\r\n        {\r\n            toast.warn('You did not select an asset!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'MainLogForm';\r\n            let propControlTitle= 'Maintenance Log';\r\n            let mainLog = {...this.state.mainLog};\r\n    \r\n            mainLog = {\r\n                logId: '',\r\n                logDate: '',\r\n                logDetails: '',\r\n                logPerformedBy: ''\r\n            }\r\n\r\n            this.setState({ propControl, propControlTitle, mainLog });\r\n        }\r\n    }\r\n\r\n    handleOnMainLogClick = (mainLogId) => {\r\n        this.setState({ showMainLogProcess: true });\r\n        this.setState({ mainLog: {} });\r\n        let selectedMainLog = mainLogId;\r\n        let cltName = this.state.selectedClient;\r\n        let prjName = this.state.selectedProject;\r\n        let contName = this.state.selectedContract;\r\n        let asstTitle = this.state.selectedAsset;\r\n\r\n        getMainLogDoc(cltName, prjName, contName, asstTitle, selectedMainLog)\r\n            .then(result => {\r\n                let mainLog = result.Result;\r\n\r\n                this.setState({ selectedMainLog, mainLog,\r\n                                propControl: 'MainLogForm', \r\n                                propControlTitle: 'Maintenance Log' });\r\n                this.setState({ showMainLogProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n        \r\n\r\n        if(this.state.visibileColumns.last < 4)\r\n        {\r\n            this.handleGoRight();\r\n        }\r\n\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    \r\n        this.state.showClientsProcess = true;\r\n\r\n        getClientsNames()\r\n            .then(result => {\r\n                let clientsList = [];\r\n                let fullClientsList = [];\r\n\r\n                result.Result.map(c => {\r\n                    let client = {\r\n                        clName: c\r\n                    };\r\n\r\n                    clientsList.push(client);\r\n                    fullClientsList.push(client);\r\n                });\r\n\r\n                this.setState({ propControl: 'ClientForm' });\r\n                this.setState({ clientsList, fullClientsList });\r\n                this.setState({ showClientsProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n\r\n    }\r\n\r\n    handleOnClientSearch = (event) => {\r\n        let fullClientsList = [...this.state.fullClientsList];\r\n\r\n        let clientsList = fullClientsList.filter(c => c.clName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ clientsList });\r\n        \r\n    } \r\n\r\n    handleOnProjectSearch = (event) => {\r\n        let fullProjectsList = [...this.state.fullProjectsList];\r\n        let projectsList = fullProjectsList.filter(c => c.prjName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ projectsList });\r\n        \r\n    } \r\n\r\n    handleOnContractSearch = (event) => {\r\n        let fullContractsList = [...this.state.fullContractsList];\r\n\r\n        let contractsList = fullContractsList.filter(c => c.contName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ contractsList });\r\n        \r\n    } \r\n\r\n    handleOnAssetSearch = (event) => {\r\n        let fullAssetsItems = [...this.state.fullAssetsItems];\r\n\r\n        let assetsItems = fullAssetsItems.filter(c => c.title\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ assetsItems });\r\n        \r\n    } \r\n\r\n    render() {\r\n        // { data, name, label, onClick, showProcess, showList }\r\n        return (\r\n            <div className=\"col-md-12\">\r\n                <TitlePageHeader title=\"Clients and Contracts Assets Management\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"row\">\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[0]} \r\n                            style={columnStyle} onClick={this.handleClientColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Clients\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnClientSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='clName'\r\n                                    label='clName'\r\n                                    selected={this.state.selectedClient}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnClientClick}\r\n                                    data={this.state.clientsList}\r\n                                    showProcess={this.state.showClientsProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[1]} \r\n                            onClick={this.handleProjectColumnClick}\r\n                            style={columnStyle}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Projects\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnProjectSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='prjName'\r\n                                    label='prjName'\r\n                                    selected={this.state.selectedProject}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnProjectClick}\r\n                                    data={this.state.projectsList}\r\n                                    showProcess={this.state.showProjectsProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[2]} \r\n                            style={columnStyle} onClick={this.handleContractColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Contracts\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnContractSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='contName'\r\n                                    label='contName'\r\n                                    selected={this.state.selectedContract}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnContractClick}\r\n                                    data={this.state.contractsList}\r\n                                    showProcess={this.state.showContractsProcess}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[3]}\r\n                            style={columnStyle}\r\n                            onClick={this.handleAssetsColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Assets\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnAssetSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='Title'\r\n                                    label='Title'\r\n                                    selected={this.state.selectedAsset}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnAssetClick}\r\n                                    data={this.state.assetsItems}\r\n                                    showProcess={this.state.showAssetsProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[4]}\r\n                            style={columnStyle} onClick={this.handleMainLogColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Maintainance Log\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnMainLogSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='logId'\r\n                                    label='logId'\r\n                                    selected={this.state.selectedMainLog}\r\n                                    showList={true}\r\n                                    data={this.state.assetsMaintLog}\r\n                                    onClick={this.handleOnMainLogClick}\r\n                                    showProcess={this.state.showMainLogProcess}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </div>    \r\n                    </div>\r\n                    <div className=\"row\" \r\n                        style={{height: \"5vh\", backgroundColor: 'lightblue', borderRadius: \"25px\"}}>\r\n                        <div className=\"col-md-1\">\r\n                            <button className=\"btn btn-sm btn-primary\"\r\n                                onClick={this.handleGoLeft}>\r\n                                <FontAwesomeIcon icon=\"chevron-left\" />\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"col-md-10\"></div>\r\n                        <div className=\"col-md-1\"\r\n                            onClick={this.handleGoRight}>\r\n                            <button className=\"btn btn-sm btn-primary\" >\r\n                            <FontAwesomeIcon icon=\"chevron-right\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-4\" style={propColumnStyle}>\r\n                    <div className='col-md-12' \r\n                        style={propColumnTitleStyle}>\r\n                        {this.state.propControlTitle + \" Properties\"}\r\n                    </div>\r\n                    {this.renderProperties()}\r\n                </div>\r\n                <ToastContainer\r\n                    position=\"top-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnVisibilityChange\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n            </div>\r\n        );\r\n   }\r\n\r\n    renderProperties = () => {\r\n        switch(this.state.propControl)\r\n        {\r\n            case 'ClientForm':\r\n                return (<ClientForm \r\n                    client={this.state.client} \r\n                    handlers={this.clientFormHandlers} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n            case 'ProjectForm':\r\n                return (<ProjectForm \r\n                    project={this.state.project} \r\n                    handlers={this.projectFormHandlers} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n\r\n            case 'AssetForm':\r\n                return (<AssetForm \r\n                    asset={this.state.asset} \r\n                    locations={this.state.locations}\r\n                    handlers={this.assetFormHandlers} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n            \r\n            case 'ContractForm':\r\n                return (<ContractForm \r\n                    contract={this.state.contract} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n  \r\n            case 'MainLogForm':\r\n                return (<MainLogForm \r\n                    mainLog={this.state.mainLog}\r\n                    handlers={this.mainLogFormHandlers} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n            \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport default InvCliAsst;\r\n\r\nconst columnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"70vh\"\r\n}\r\n\r\nconst propColumnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"75vh\",\r\n    backgroundColor: 'lightgray',\r\n    overflow: \"auto\"\r\n}\r\n\r\nconst columnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst searchTextStyle = {\r\n    fontSize: '0.75vw', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"5px\",\r\n    paddingBottom: \"5px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst propColumnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'gray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} ","import React, {Component} from 'react';\r\nimport Input from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// import '../../css/mastcc-inqcat.css';\r\nimport processing from '../../images/processing.gif';\r\n\r\n\r\nclass MastPrjServForm extends Component {\r\n    state = {\r\n        fields: {\r\n            Description: '',\r\n            Manning: 0,\r\n            Value: 0\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { onChange, onSubmit, onCancel, data, flags, errors, showProcess, showButtons } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <form style={{marginTop: \"10px\"}} >\r\n                    <Input \r\n                        name=\"Description\" \r\n                        label=\"Service Description:\" \r\n                        type=\"text\" \r\n                        onChange={onChange} \r\n                        value={data.Description}\r\n                        flgDisabled={flags.isAdd ? \"\" : \"disabled\"}\r\n                        error={errors.Description ? errors.Description : \"\"} \r\n                        />\r\n                    \r\n                    <Input \r\n                        name=\"Manning\" \r\n                        label=\"Manning:\" \r\n                        onChange={onChange} \r\n                        value={data.Manning} \r\n                        flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                        error={errors.Manning ? errors.Manning : \"\"}  \r\n                        />\r\n\r\n                    <Input \r\n                        name=\"Value\" \r\n                        label=\"Value:\" \r\n                        onChange={onChange} \r\n                        value={data.Value} \r\n                        flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                        error={errors.Value ? errors.Value : \"\"}  \r\n                        />\r\n\r\n\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"2vh\"}} />\r\n\r\n                    <div className={\"btn-toolbar btnToobar\" + ((flags.isAdd || flags.isEdit) && showButtons ? \"\" : \" hidden\")} >\r\n                        <div className=\"btn-group btn-group-justified\">\r\n                            <button type=\"button\"\r\n                                className=\"btn btn-primary\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onSubmit()} >\r\n                                <FontAwesomeIcon icon=\"save\" />\r\n                            </button>\r\n                            <button type=\"button\" \r\n                                className=\"btn btn-danger\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onCancel()}>\r\n                                <FontAwesomeIcon icon=\"ban\" />\r\n                            </button>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default MastPrjServForm;","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getPrjServices = async () => {\r\n    // This function gets the list of all existing Project Services.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var prjServicesDb = db.collection('Accounts').doc('Project Services').collection('Services');\r\n\r\n    var services = [];\r\n\r\n    return prjServicesDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docPrjServ) => {\r\n                let service = {\r\n                    Description: docPrjServ.id,\r\n                    \r\n                }\r\n\r\n                services.push(service);\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = services;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Services were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addPrjService = (service) => {\r\n    // This function creates a new Major Project Service document\r\n    // under Accounts/Project Services and set it to blank manning\r\n    // and blank value and description with no sub-services.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. Major Service Name.\r\n    //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    var prjServicesDb = db.collection('Accounts').doc('Project Services').collection('Services');\r\n\r\n    var newmajorservice = {...service};\r\n\r\n    // check if a document exists for the mentioned client name...\r\n    return prjServicesDb.doc(service.Description).set(newmajorservice)\r\n      .then((result) => {\r\n        // On successful writing of client document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = newmajorservice;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const updatePrjService = (service) => {\r\n    // This function updates an existsing Project Major Service document\r\n    // descriptive fields, only. It will not reset Values.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    var prjServicesDb = db.collection('Accounts').doc('Project Services').collection('Services');\r\n\r\n    var updatemajorservice = {...service};\r\n\r\n    // check if a document exists for the mentioned client name...\r\n \r\n    return prjServicesDb.doc(service.Description).get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The document exists. Update the document...\r\n          return prjServicesDb.doc(service.Description).update(updatemajorservice);\r\n        }\r\n        else {\r\n          // No document exists for this client... Return result...\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Project Service do not exist.'\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n      })\r\n      .then((result) => {\r\n        // On successful writing of client document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = updatemajorservice;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"ERROR: \", err);\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n}\r\n\r\nexport const getPrjServicesDoc = async (desc) => {\r\n    // This function gets the list of all existing Project Services.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var prjServicesDb = db.collection('Accounts').doc('Project Services').collection('Services').doc(desc);\r\n\r\n    let services = [];\r\n    \r\n    return prjServicesDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.exists)\r\n        {\r\n        \r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = snapshot.data();\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'No Services were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport ItemsList from '../../common/itemslist';\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport MastPrjServForm from './mastprjsrvform';\r\nimport _ from 'lodash';\r\n\r\nimport { getPrjServices, getPrjServicesDoc,\r\n         addPrjService, updatePrjService } from '../../appcode/mastprjserv';\r\n\r\nimport Joi from 'joi-browser';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\n\r\nclass MastPrjServices extends Component {\r\n\r\n    state = {\r\n        services: [],\r\n        result: {},\r\n\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: () => this.handleEdit()\r\n            },\r\n            deleteButton: {\r\n                showDelete: false,\r\n                onDelete: null\r\n            },\r\n            refreshButton: {\r\n                showRefresh: true,\r\n                onRefresh: () => this.handleRefresh()\r\n            },\r\n            searchButton: {\r\n                showSearch: true,\r\n                onSearch: null\r\n            }\r\n        },\r\n\r\n        listProcess: true,\r\n        listVisible: false,\r\n        \r\n        formProcess: false,\r\n        formVisible: true,\r\n\r\n        service: {\r\n            Description: \"\",\r\n            Manning: 0,\r\n            Value: 0\r\n        },\r\n\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n\r\n        showmodal: false,\r\n\r\n        errors: {},\r\n\r\n        uprofile: {}\r\n    };\r\n\r\n    schema = {\r\n        Description: Joi\r\n                    .string()\r\n                    .required()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                    .label('Service Description'),\r\n        Manning: Joi\r\n                    .number().integer().min(0).default(0)\r\n                    .label('Service Manning'),\r\n        Value: Joi\r\n                    .number().integer().min(0).default(0)\r\n                    .label('Service Value')\r\n    };\r\n\r\n    handleCloseModal = () => {\r\n        this.setState({ showmodal: false });\r\n    };\r\n\r\n    handleListUpdated = () => {\r\n        const listProcess = false;\r\n        const listVisible = true;\r\n\r\n        this.setState({ listProcess, listVisible });\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        let errors = this.validateFields();\r\n        this.setState({ errors: errors || {} });\r\n\r\n        let formProcess = true;\r\n        let formVisible = false;\r\n\r\n        this.setState({ formProcess, formVisible });\r\n\r\n        if(errors) return;\r\n\r\n        if(this.state.flags.isAdd)\r\n        {\r\n            // Adding a new category...\r\n            addPrjService(this.state.service)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let services = [...this.state.services];\r\n                        \r\n                        services.push(this.state.service);\r\n\r\n                        services = _.orderBy(services, [\"Description\"]);\r\n\r\n                        console.log(services);\r\n                        \r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n                \r\n                        this.setState({ result, flags, services, formProcess, formVisible });\r\n                        \r\n                    }\r\n                    else\r\n                    {\r\n                        let service = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ service, flags, result, formProcess, formVisible });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let service = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n            \r\n                    this.setState({ result: err, service, flags, formProcess, formVisible });\r\n                    \r\n                }); \r\n        }\r\n        else if(this.state.flags.isEdit)\r\n        {\r\n            // Adding a new category...\r\n            updatePrjService(this.state.service)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ result, flags, formProcess, formVisible });\r\n                        \r\n                    }\r\n                    else\r\n                    {\r\n                        let service = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ service, flags, result, formProcess, formVisible });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    let service = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n                    \r\n                    this.setState({ result: err, service, flags, formProcess, formVisible });\r\n                    \r\n                }); \r\n        }\r\n    };\r\n\r\n    handleAdd = () => {\r\n        let service = {...this.state.service};\r\n        let flags = {...this.state.flags};\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n\r\n        service.Description = \"\";\r\n        service.Manning = 0;\r\n        service.Value = 0;\r\n\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        buttonsOptions.showEdit = false;\r\n\r\n\r\n        this.setState({ service, flags, buttonsOptions });\r\n    };\r\n\r\n    handleEdit = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        flags.isEdit = true;\r\n        flags.isAdd = false;\r\n\r\n        this.setState({ flags });\r\n    };\r\n\r\n    handleCancel = () => {\r\n        let flags  = { isAdd: false, isEdit: false };\r\n        let errors = {};\r\n\r\n        this.setState({ flags, errors });\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        const { name, value } = e.currentTarget;\r\n\r\n        let service = {...this.state.service};\r\n        service[name] = value;\r\n        \r\n        this.setState({ service });\r\n    };\r\n\r\n    handleServiceClick = (c) => {\r\n        getPrjServicesDoc(c)\r\n            .then(result => {\r\n\r\n                if(result.Success === 'Ok')\r\n                {\r\n                    let service = {...result.Result};\r\n\r\n                    console.log(service);\r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.editButton.showEdit = true;\r\n\r\n                    this.setState({ result });\r\n                    this.setState({ service, buttonsOptions });\r\n                    \r\n                }\r\n                else\r\n                {\r\n                    let service = {};\r\n                    this.setState({ service });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                let service = {};\r\n                this.setState({ result: err });\r\n                this.setState({ service });\r\n            }); \r\n    };\r\n\r\n    handleRefresh = () => {\r\n        let result = getPrjServices();\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                this.setState({ services: returnedresult.Result });\r\n                let service = {...this.state.service};\r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                \r\n                service.Description = '';\r\n                service.Manning = 0;\r\n                service.Value = 0;\r\n\r\n                buttonsOptions.addButton.showAdd = true;\r\n                buttonsOptions.editButton.showEdit = false;\r\n                buttonsOptions.refreshButton.showRefresh = true;\r\n                buttonsOptions.deleteButton.showDelete = false;\r\n                \r\n                this.setState({ listProcess: false, listVisible: true, service, buttonsOptions });\r\n                this.setState({ result: returnedresult });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                let service = {...this.state.service};\r\n                service.Description = '';\r\n                service.Manning = 0;\r\n                service.Value = 0;\r\n\r\n                this.setState({ listProcess: false, \r\n                                listVisible: true, \r\n                                service, \r\n                                services: [],\r\n                                result: err,\r\n                                showmodal: true });\r\n                \r\n                return err \r\n            });\r\n        \r\n    };\r\n\r\n    validateFields = () => {\r\n        let errors = {};\r\n\r\n        let result = Joi.validate(this.state.service, this.schema, { abortEarly: false });\r\n        \r\n        if(!result.error) return null;\r\n\r\n        for(let item of result.error.details)\r\n            errors[item.path[0]] = item.message;\r\n\r\n        if(Object.keys(errors).length === 0) return null;\r\n        return errors;\r\n    };\r\n\r\n    \r\n    async componentDidMount() {\r\n        let result = getPrjServices();\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                this.setState({ services: returnedresult.Result });\r\n            \r\n                this.setState({ result: returnedresult });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                this.setState({ services: [] });\r\n                this.setState({ result: err });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                this.setState({ showmodal: true });\r\n                \r\n                return err \r\n            });\r\n\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n\r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Contracts Services Master Setting\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"col-md-3 leftCol\" >\r\n                    <ToolsBar \r\n                        buttonsOptions={this.state.buttonsOptions} />\r\n                    <ItemsList \r\n                        data={this.state.services} \r\n                        name=\"Description\" \r\n                        label=\"Description\" \r\n                        value=\"Description\" \r\n                        showProcess={this.state.listProcess}\r\n                        showList={this.state.listVisible}\r\n                        onClick={this.handleServiceClick}\r\n                        />\r\n                </div>\r\n                <div className=\"col-md-9 rightCol\">\r\n                    <MastPrjServForm \r\n                        onChange={this.handleChange}\r\n                        onSubmit={this.handleSubmit}\r\n                        onCancel={this.handleCancel} \r\n                        data={this.state.service} \r\n                        flags={this.state.flags}\r\n                        errors={this.state.errors}\r\n                        showProcess={this.state.formProcess}\r\n                        showButtons={this.state.formVisible} />\r\n                </div>\r\n                {/* <Modal show={this.state.showmodal} onHide={this.handleCloseModal}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Modal heading</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <pre>\r\n                            {this.state.result.Error}\r\n                        </pre>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button onClick={this.handleCloseModal}>Close</Button>\r\n                    </Modal.Footer>\r\n                </Modal> */}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MastPrjServices;","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\n// *************************************************************************\r\n// Define the nodemailer...\r\n// *************************************************************************\r\n\r\n// const nodemailer = require('nodemailer');\r\n\r\n// const sendNewJCEmail = (jcn, jcd, jct, jce) => {\r\n//   var db = firebase.firestore();\r\n//   var dependDb = db.collection('Dependencies');\r\n\r\n//   let transporter = null;\r\n//   let mailOptions = {};\r\n\r\n//   // get the transporter definition from dependencies...\r\n//   return dependDb.doc('transporter').get()\r\n//     .then(snapshot => {\r\n//       if(snapshot.exists)\r\n//       {\r\n//         transporter = nodemailer.createTransport(snapshot.data());\r\n//         console.log('transporter: ', transporter);\r\n\r\n//         return dependDb.doc('mailOptions').get();\r\n//       }\r\n//       else {\r\n//         console.log('Transporter Records are not found. Email Sending Aborted.');\r\n//         return false;\r\n//       }\r\n//     })\r\n//     .then(snapshot => {\r\n//       if(snapshot.exists)\r\n//       {\r\n//         mailOptions = snapshot.data();\r\n//         mailOptions.to = jce;\r\n\r\n//         return dependDb.doc('newJCMailComposer').get()\r\n//       }\r\n//       else {\r\n//         console.log('Mail Options are not found. Email Sending Aborted.');\r\n//         return false;\r\n//       }\r\n//     })\r\n//     .then (snapshot => {\r\n//       if(snapshot.exists)\r\n//       {\r\n//         let t = snapshot.data().text;\r\n//         t = t.replace('{jcn}', jcn);\r\n//         t = t.replace('{jcd}', jcd);\r\n//         t = t.replace('{jct}', jct);\r\n\r\n//         let h = snapshot.data().html;\r\n//         h = h.replace('{jcn}', jcn);\r\n//         h = h.replace('{jcd}', jcd);\r\n//         h = h.replace('{jct}', jct);\r\n\r\n//         mailOptions.text = t;\r\n//         mailOptions.html = h;\r\n\r\n//         return true;\r\n//       }\r\n//       else {\r\n//         console.log('Mail Templates are not found. Email Sending Aborted.');\r\n//         return false;\r\n//       }\r\n\r\n//     })\r\n//     .then (result => {\r\n//       console.log('transporter: ', transporter);\r\n//       // send mail with defined transport object\r\n//       transporter.sendMail(mailOptions)\r\n//         .then(() => {\r\n//           console.log('Message Sent');\r\n//           // res.send('Message Sent');\r\n//           return true;\r\n//         })\r\n//         .catch(err => {\r\n//           console.log('Error Sending Message: ', err);\r\n//           // res.send('Error Sending Message: ', err);\r\n//           return false;\r\n//         });\r\n//     })\r\n//     .catch(err => {\r\n//       console.log('Error Occured. Email Sending Aborted. ' + err);\r\n//       return false;\r\n//     });\r\n\r\n// };\r\n\r\n// *************************************************************************\r\n\r\nexport const addJobCard = (jc) => {\r\n    // This function creates a new Job Card Document and uses the JobNumber\r\n    // field to create the Job Card number and update the Job Card Number\r\n    // field accordingly.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    // the jc parameter is an object containing the JC details...\r\n    //\r\n\r\n    var newJCNum = '';\r\n    var jcNum = 0;\r\n    var jcd = jc.jcDate;\r\n    var jct = jc.jcTime;\r\n    var jctkt = jc.jcTicketNum;\r\n    var jcPName = jc.jcPrjName;\r\n    var jcCName = jc.jcContName;\r\n    var jcdetails = jc.jcDetails;\r\n    var jcstate = jc.jcStatus;\r\n\r\n    var newjobcard = {};\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    var maintenanceDb = db.collection('Maintenance');\r\n\r\n    // Get the last Job Card number used to create a new Job Card Number...\r\n    return maintenanceDb.doc('Jobs').get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The Jobs Document fetch successfully...\r\n          // Get the last Job Card Number...\r\n\r\n          jcNum = snapshot.data().JobNumber;\r\n\r\n          // Create new Job Card Number...\r\n          newJCNum = 'JC' + jcNum.pad(6, '0');\r\n\r\n          var d = new Date(jcd);\r\n          var m = d.getMonth() + 1;\r\n          var y = d.getFullYear();\r\n          newjobcard = {\r\n            jcNumber: newJCNum,\r\n            jcDate: jcd,\r\n            jcMonth: m,\r\n            jcYear: y,\r\n            jcTime: jct,\r\n            jcTicketNum: jctkt,\r\n            jcPrjName: jcPName,\r\n            jcContName: jcCName,\r\n            jcDetails: jcdetails,\r\n            jcStatus: jcstate\r\n          };\r\n\r\n          // New JC Number create successfully. Add the new JC to the JobCards Table...\r\n          return maintenanceDb.doc('Jobs').collection('JobCards').doc(newJCNum).set(newjobcard);\r\n        }\r\n        else {\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Could not create new Job Card Number. Action aborted.';\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n      })\r\n      .then((setResult) => {\r\n\r\n          return maintenanceDb.doc('Jobs').set({ JobNumber: jcNum + 1 });\r\n\r\n      })\r\n      .then(result => {\r\n        // send the email to concerned contract contact person...\r\n        // start by getting the contract document...\r\n        return db.collection('Projects').doc(jcPName)\r\n                 .collection('Contracts').doc(jcCName).get();\r\n      })\r\n      .then(snapshot => {\r\n        if(snapshot.exists)\r\n        {\r\n          // get the contact details of the contract contact...\r\n          // var contEmails = snapshot.data().contactEmails;\r\n          // return sendNewJCEmail(newJCNum, jcd, jct, contEmails);\r\n\r\n          return true;\r\n        }\r\n        else {\r\n          // failed to get the contract details\r\n          // and therefore email sending is aborted...\r\n\r\n        }\r\n      })\r\n      .then((result) => {\r\n        // On successful writing of new Job Card document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = newjobcard;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n          \r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n          console.log(funcReturn);\r\n        \r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const updateJobCard = (jc) => {\r\n    // This function updates the details of an existing Job Card Document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. Job Card Number\r\n    // 2. Job Description and Details\r\n    //\r\n\r\n    var jcNumber = jc.jcNumber;\r\n    var jcDetails = jc.jcDetails;\r\n    var jcstate = jc.jcStatus;\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    var maintenanceDb = db.collection('Maintenance').doc('Jobs').collection('JobCards');\r\n\r\n    // Get the last Job Card number used to create a new Job Card Number...\r\n    return maintenanceDb.doc(jcNumber).get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The Jobs Card fetched successfully...\r\n          // Update the JC Details...\r\n\r\n          // New JC Number create successfully. Add the new JC to the JobCards Table...\r\n          return maintenanceDb.doc(jcNumber).update({jcDetails: jcDetails, jcStatus: jcstate});\r\n        }\r\n        else {\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Job Card Not Found. Action aborted.';\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n      })\r\n      .then((result) => {\r\n        // On successful writing of new Job Card document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = jcNumber;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n          \r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n          console.log(funcReturn);\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const getJobCardList = () => {\r\n    // This function gets the list all existing Job Cards documents.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params:\r\n    //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var result = [];\r\n\r\n    var db = firebase.firestore();\r\n    var maintenanceDb = db.collection('Maintenance').doc('Jobs').collection('JobCards');\r\n\r\n    // Get the documents in this collection...\r\n    return maintenanceDb.get()\r\n      .then((snapshot) => {\r\n        // go through the snapshot docs and get the JC Numbers and push\r\n        // them into a JSON string...\r\n\r\n        if(snapshot.docs.length == 0)\r\n        { // There are no docs in the snapshot...\r\n          funcSuccess = 'No';\r\n          funcResult = [];\r\n          funcFailReason = 'There are no Job Cards found. Returning Empty List.';\r\n\r\n        }\r\n        else {\r\n          \r\n            snapshot.forEach((docJobCard) => {\r\n                let jc = { \r\n                    jcNumber: docJobCard.id, \r\n                    jcStatus: docJobCard.data().jcStatus    \r\n                };\r\n                \r\n                result.push(jc);\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = result;\r\n        }\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const getJobCardListOfProject = (projectName) => {\r\n  // This function gets the list all existing Job Cards documents.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts no params:\r\n  //\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var result = [];\r\n\r\n  var db = firebase.firestore();\r\n  var maintenanceDb = db.collection('Maintenance').doc('Jobs').collection('JobCards');\r\n\r\n  // Get the documents in this collection...\r\n  return maintenanceDb.where('jcPrjName', '==', projectName).get()\r\n    .then((snapshot) => {\r\n      // go through the snapshot docs and get the JC Numbers and push\r\n      // them into a JSON string...\r\n\r\n      if(snapshot.docs.length == 0)\r\n      { // There are no docs in the snapshot...\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'There are no Job Cards found. Returning Empty List.';\r\n\r\n      }\r\n      else {\r\n        \r\n          snapshot.forEach((docJobCard) => {\r\n              let jc = { \r\n                  jcNumber: docJobCard.id, \r\n                  jcDate: docJobCard.data().jcDate,\r\n                  jcPrjName: docJobCard.data().jcPrjName,\r\n                  jcContName: docJobCard.data().jcContName,\r\n                  jcStatus: docJobCard.data().jcStatus    \r\n              };\r\n              \r\n              result.push(jc);\r\n          });\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = result;\r\n      }\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getJobCardDoc = (jcn) => {\r\n    // This function gets an existsing Job Card document by its number.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts the following params:\r\n    // 1. Job Card Number\r\n    //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    var maintenanceDb = db.collection('Maintenance').doc('Jobs').collection('JobCards');\r\n\r\n    // check if a document exists for the mentioned Job Card Number...\r\n    return maintenanceDb.doc(jcn).get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The document exists. Return the document...\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = snapshot.data();\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n        else {\r\n          // No document exists for this job card... Return result...\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Job Card do not exist.'\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport const getProjectsList = async () => {\r\n  // This function gets the list of all existing Projects for the given Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts no params.\r\n  //\r\n  \r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  \r\n  const settings = { timestampsInSnapshots: true };\r\n  db.settings(settings);\r\n\r\n  var projectsDb = db.collection('Projects');\r\n\r\n  var projects = [];\r\n\r\n  // get the document containing the complain categories as fields name\r\n  // from the Dependencies/HDeskComplCat document...\r\n  return projectsDb.get()\r\n  .then((snapshot) => {\r\n\r\n      if (snapshot.docs.length > 0)\r\n      {\r\n          snapshot.forEach((docProject) => {\r\n              let project = {\r\n                  name: docProject.data().prjName,\r\n                  code: docProject.data().prjCode\r\n              }\r\n\r\n              projects.push(project);\r\n\r\n          });\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = projects;\r\n          \r\n      }\r\n      else\r\n      {\r\n          funcSuccess = 'No';\r\n          funcResult = [];\r\n          funcFailReason = 'No Projects were found. Returning empty list.';\r\n      }\r\n\r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning\r\n      };\r\n\r\n      // res.send(JSON.stringify(funcReturn));\r\n      return funcReturn;\r\n  })\r\n  .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning\r\n      };\r\n\r\n      // res.send(JSON.stringify(funcReturn));\r\n      return funcReturn;\r\n  });\r\n};\r\n\r\nexport const getContractsForProject = async (projectName) => {\r\n  // This function gets the list of all existing Contracts for the given Project.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  \r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  \r\n  const settings = { timestampsInSnapshots: true };\r\n  db.settings(settings);\r\n\r\n  var projectsDb = db.collection('Projects').doc(projectName).collection('Contracts');\r\n\r\n  var contracts = [];\r\n\r\n  // get the document containing the complain categories as fields name\r\n  // from the Dependencies/HDeskComplCat document...\r\n  return projectsDb.get()\r\n  .then((snapshot) => {\r\n\r\n      if (snapshot.docs.length > 0)\r\n      {\r\n          snapshot.forEach((docContract) => {\r\n              let contract = {\r\n                  name: docContract.data().contName,\r\n                  code: docContract.data().contCode\r\n              }\r\n\r\n              contracts.push(contract);\r\n\r\n          });\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = contracts;\r\n          \r\n      }\r\n      else\r\n      {\r\n          funcSuccess = 'No';\r\n          funcResult = [];\r\n          funcFailReason = 'No Contracts were found. Returning empty list.';\r\n      }\r\n\r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning\r\n      };\r\n\r\n      // res.send(JSON.stringify(funcReturn));\r\n      return funcReturn;\r\n  })\r\n  .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = '{}';\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning\r\n      };\r\n\r\n      // res.send(JSON.stringify(funcReturn));\r\n      return funcReturn;\r\n  });\r\n};\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport const getTicketsList = () => {\r\n  // This function gets the list all existing Tickets documents.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts no params:\r\n  //\r\n\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var result = [];\r\n\r\n  var db = firebase.firestore();\r\n  var maintenanceDb = db.collection('HelpDesk');\r\n\r\n  // Get the documents in this collection...\r\n  return maintenanceDb.get()\r\n    .then((snapshot) => {\r\n      // go through the snapshot docs and get the Ticket Numbers and push\r\n      // them into a JSON string...\r\n\r\n      if(snapshot.docs.length == 0)\r\n      { // There are no docs in the snapshot...\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'There are no Tickets found. Returning Empty List.';\r\n\r\n      }\r\n      else {\r\n        \r\n          snapshot.forEach((docTicket) => {\r\n            if(docTicket.TicketStatus !== 'Closed')\r\n            {\r\n              let tkt = { \r\n                  ticketNumber: docTicket.id\r\n              };\r\n              result.push(tkt);\r\n            }\r\n          });\r\n\r\n          funcSuccess = 'Ok';\r\n          funcResult = result;\r\n      }\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n","import React, {Component} from 'react';\r\nimport Input, { DropDownList, TextArea } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n// import '../../css/mastcc-inqcat.css';\r\nimport processing from '../../images/processing.gif';\r\nimport { getContractsForProject } from '../../appcode/mainjobcards';\r\n\r\n\r\n\r\nclass MainJCForm extends Component {\r\n    state = {\r\n        fields: {\r\n            jcNumber: '',\r\n            jcDate: '',\r\n            jcDetails: '',\r\n            jcMonth: 0,\r\n            jcYear: 0,\r\n            jcTime: '',\r\n            jcTicketNum: '',\r\n            jcStatus: 'Pending',\r\n            jcPrjName: '',\r\n            jcContName: ''\r\n        },\r\n        timeValues: [\r\n            \"00:00\",\r\n            \"00:30\",\r\n            \"01:00\",\r\n            \"01:30\",\r\n            \"02:00\",\r\n            \"02:30\",\r\n            \"03:00\",\r\n            \"03:30\",\r\n            \"04:00\",\r\n            \"04:30\",\r\n            \"05:00\",\r\n            \"05:30\",\r\n            \"06:00\",\r\n            \"06:30\",\r\n            \"07:00\",\r\n            \"07:30\",\r\n            \"08:00\",\r\n            \"08:30\",\r\n            \"09:00\",\r\n            \"09:30\",\r\n            \"10:00\",\r\n            \"10:30\",\r\n            \"11:00\",\r\n            \"11:30\",\r\n            \"12:00\",\r\n            \"12:30\",\r\n            \"13:00\",\r\n            \"13:30\",\r\n            \"14:00\",\r\n            \"14:30\",\r\n            \"15:00\",\r\n            \"15:30\",\r\n            \"16:00\",\r\n            \"16:30\",\r\n            \"17:00\",\r\n            \"17:30\",\r\n            \"18:00\",\r\n            \"18:30\",\r\n            \"19:00\",\r\n            \"19:30\",\r\n            \"20:00\",\r\n            \"20:30\",\r\n            \"21:00\",\r\n            \"21:30\",\r\n            \"22:00\",\r\n            \"22:30\",\r\n            \"23:00\",\r\n            \"23:30\"\r\n        ],\r\n        time: [],\r\n        contracts: [],\r\n        status: [{ Name: 'Pending' }, \r\n            { Name: 'Completed' }]\r\n        \r\n    };\r\n\r\n    componentDidMount() {\r\n        let time = [...this.state.time];\r\n        this.state.timeValues.map(t => {\r\n            time.push({Name: t});\r\n        });\r\n        this.setState({ time });\r\n\r\n    }\r\n\r\n    handleOnProjectChange = (e) => {\r\n        const { value } = e.currentTarget;\r\n        if(value === '') \r\n        {\r\n            this.setState({ contracts: [] });\r\n            return;\r\n        }\r\n\r\n        getContractsForProject(e.currentTarget.value)\r\n            .then(result => {\r\n                let contracts = [];\r\n                result.Result.map(r => {\r\n                    contracts.push({Name: r.name});\r\n                });\r\n                console.log(contracts);\r\n                this.setState({ contracts });\r\n            })\r\n        this.props.onChange(e);\r\n    }\r\n\r\n    render() {\r\n        const { onChange, onSubmit, onCancel, data, flags, errors, showProcess, showButtons } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <form style={{marginTop: \"10px\"}} >\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                            <Input \r\n                                name=\"jcNumber\" \r\n                                label=\"JC Number:\" \r\n                                type=\"text\" \r\n                                onChange={onChange} \r\n                                value={data.jcNumber}\r\n                                flgDisabled={true}\r\n                                error={errors.jcNumber ? errors.jcNumber : \"\"} \r\n                                />\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <DropDownList\r\n                                name=\"jcStatus\" \r\n                                label=\"JC Status:\" \r\n                                type=\"text\" \r\n                                onChange={onChange} \r\n                                values={this.state.status}\r\n                                flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                                error={errors.jcStatus ? errors.jcStatus : \"\"} \r\n                                defValue={data.jcStatus}\r\n                                />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                            <Input \r\n                                name=\"jcDate\" \r\n                                label=\"JC Date:\" \r\n                                type=\"date\" \r\n                                onChange={onChange} \r\n                                value={data.jcDate}\r\n                                flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                                error={errors.jcDate ? errors.jcDate : \"\"} \r\n                                />\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <DropDownList \r\n                                name=\"jcTime\" \r\n                                label=\"JC Time:\"  \r\n                                onChange={onChange} \r\n                                values={this.state.time}\r\n                                flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                                error={errors.jcTime ? errors.jcTime : \"\"} \r\n                                defValue={data.jcTime}\r\n                                />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                            <DropDownList \r\n                                name=\"jcPrjName\"\r\n                                label=\"Project Name\"\r\n                                values={this.props.projects}\r\n                                defValue={data.jcPrjName}\r\n                                onChange={this.handleOnProjectChange}\r\n                                flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                                error={errors.jcPrjName ? errors.jcPrjName : \"\"} \r\n                            />\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <DropDownList \r\n                                name=\"jcContName\"\r\n                                label=\"Contract Name\"\r\n                                values={this.state.contracts}\r\n                                defValue={data.jcContName}\r\n                                onChange={onChange}\r\n                                flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                                error={errors.jcContName ? errors.jcContName : \"\"} \r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DropDownList \r\n                        name=\"jcTicketNum\"\r\n                        label=\"Related Ticket #:\"\r\n                        values={this.props.tickets}\r\n                        defValue={data.jcTicketNum}\r\n                        onChange={onChange}\r\n                        flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                        error={errors.jcTicketNum ? errors.jcTicketNum : \"\"} \r\n                    />\r\n\r\n                    {/* <Input \r\n                        name=\"jcTicketNum\" \r\n                        label=\"Related Ticket #:\" \r\n                        type=\"text\" \r\n                        onChange={onChange} \r\n                        value={data.jcTicketNum}\r\n                        flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                        error={errors.jcTicketNum ? errors.jcTicketNum : \"\"} \r\n                        /> */}\r\n\r\n                    <TextArea \r\n                        name=\"jcDetails\" \r\n                        label=\"JC Details:\" \r\n                        rows=\"10\" \r\n                        onChange={onChange} \r\n                        value={data.jcDetails}\r\n                        flgDisabled={flags.isAdd || flags.isEdit ? \"\" : \"disabled\"}\r\n                        error={errors.jcDetails ? errors.jcDetails : \"\"} \r\n                        />\r\n\r\n\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"2vh\"}} />\r\n\r\n                    <div className={\"btn-toolbar btnToobar\" + ((flags.isAdd || flags.isEdit) && showButtons ? \"\" : \" hidden\")} >\r\n                        <div className=\"btn-group btn-group-justified\">\r\n                            <button type=\"button\"\r\n                                className=\"btn btn-primary\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onSubmit()} >\r\n                                <FontAwesomeIcon icon=\"save\" />\r\n                            </button>\r\n                            <button type=\"button\" \r\n                                className=\"btn btn-danger\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={() => onCancel()}>\r\n                                <FontAwesomeIcon icon=\"ban\" />\r\n                            </button>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n};\r\n\r\nexport default MainJCForm;","import React, { Component } from 'react';\r\nimport ItemsList from '../../common/itemslist';\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport {ToastContainer, toast } from 'react-toastify';\r\nimport MainJCForm from './mainjcform';\r\n\r\nimport { getJobCardList, getJobCardDoc,\r\n         addJobCard, updateJobCard,\r\n         getProjectsList, getTicketsList } from '../../appcode/mainjobcards';\r\n\r\n\r\nimport Joi from 'joi-browser';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\n\r\nclass MainJobCards extends Component {\r\n\r\n    state = {\r\n        uprofile: {},\r\n        jobcards: [],\r\n        displayJC: [],\r\n        projects: [],\r\n        contracts: [],\r\n        tickets: [],\r\n        result: {},\r\n        searchValue: '',\r\n\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: () => this.handleEdit()\r\n            },\r\n            deleteButton: {\r\n                showDelete: false,\r\n                onDelete: null\r\n            },\r\n            refreshButton: {\r\n                showRefresh: true,\r\n                onRefresh: () => this.handleRefresh()\r\n            },\r\n            searchButton: {\r\n                showSearch: true,\r\n                onValueChange: () => this.handleSearchValueChange(),\r\n                onSearch: () => this.handleSearch()\r\n            }\r\n        },\r\n\r\n        listProcess: true,\r\n        listVisible: false,\r\n        \r\n        formProcess: false,\r\n        formVisible: true,\r\n\r\n        jobcard: {\r\n            jcNumber: '',\r\n            jcDate: '',\r\n            jcDetails: '',\r\n            jcMonth: 1,\r\n            jcYear: 2018,\r\n            jcTime: '',\r\n            jcTicketNum: '',\r\n            jcStatus: 'Pending',\r\n            jcPrjName: '',\r\n            jcContName: ''\r\n        },\r\n\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n\r\n        showmodal: false,\r\n\r\n        errors: {}\r\n    };\r\n\r\n    schema = {\r\n        jcNumber: Joi\r\n                    .string()\r\n                    .optional()\r\n                    .allow(\"\")\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                    .label('JC Number'),\r\n        jcDate: Joi\r\n                    .string()\r\n                    .required()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                    .label('JC Date'),\r\n        jcDetails: Joi\r\n                    .string()\r\n                    .required()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-\\.\\,\\n\\&\\\"\"\\:]+$/, {name: \"No Special Chars\"})\r\n                    .label('JC Details'),\r\n        jcMonth: Joi.number().integer().min(1).max(12).optional(),\r\n        jcYear: Joi.number().integer().optional(),\r\n        jcTime: Joi\r\n                    .string()\r\n                    .required()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-\\:]+$/, {name: \"No Special Chars\"})\r\n                    .label('JC Time'),\r\n        jcTicketNum: Joi\r\n                    .string()\r\n                    .optional()\r\n                    .allow(\"\")\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                    .label('JC Ticket #'),\r\n        jcStatus: Joi\r\n                    .string()\r\n                    .required()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                    .label('JC Status'),\r\n        jcPrjName: Joi\r\n                    .string()\r\n                    .required()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                    .label('JC Project Name'),\r\n        jcContName: Joi\r\n                    .string()\r\n                    .required()\r\n                    .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                    .label('JC Contract Name')\r\n    };\r\n\r\n    handleSearch = () => {\r\n        let jobcards = [...this.state.jobcards];\r\n\r\n        let displayJC = jobcards.filter(jc => {\r\n            console.log(jc.jcNumber, this.state.searchValue,jc.jcNumber.indexOf(this.state.searchValue));\r\n            return jc.jcNumber.indexOf(this.state.searchValue) !== -1;\r\n        });\r\n\r\n        this.setState({ displayJC });\r\n    }\r\n\r\n    handleSearchValueChange = (e) => {\r\n        const { value } = e.currentTarget;\r\n        this.setState({ searchValue: value });\r\n    }\r\n\r\n    handleCloseModal = () => {\r\n        this.setState({ showmodal: false });\r\n    };\r\n\r\n    handleListUpdated = () => {\r\n        const listProcess = false;\r\n        const listVisible = true;\r\n\r\n        this.setState({ listProcess, listVisible });\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        let errors = this.validateFields();\r\n        this.setState({ errors: errors || {} });\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n\r\n        let formProcess = true;\r\n        let formVisible = false;\r\n\r\n        this.setState({ formProcess, formVisible });\r\n\r\n        if(errors) \r\n        {\r\n            let formProcess = false;\r\n            let formVisible = true;\r\n\r\n            this.setState({ formProcess, formVisible });\r\n\r\n            return;\r\n        }\r\n\r\n        if(this.state.flags.isAdd)\r\n        {\r\n            // Adding a new category...\r\n            addJobCard(this.state.jobcard)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let jobcard = {...result.Result};\r\n\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let jobcards = [...this.state.jobcards];\r\n                        \r\n                        jobcards.push(jobcard);\r\n                        let displayJC = [...jobcards];\r\n\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n                \r\n                        this.setState({ result, flags, jobcards, jobcard, \r\n                                        formProcess, formVisible, displayJC });\r\n                        \r\n                        toast.success('New Job Card Saved Successfully.', \r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                    }\r\n                    else\r\n                    {\r\n                        let jobcard = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ jobcard, flags, result, formProcess, formVisible });\r\n\r\n                        toast.error('New Job Card was not Saved Successfully!\\n'+result.FailReason, \r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                    }\r\n\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.refreshButton.showRefresh = true;\r\n                    this.setState({ buttonsOptions });\r\n                })\r\n                .catch(err => {\r\n                    let jobcard = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n            \r\n                    this.setState({ jobcard: err, jobcard, flags, formProcess, formVisible });\r\n                    toast.error('Error occured!\\n'+err, \r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.refreshButton.showRefresh = true;\r\n                    this.setState({ buttonsOptions });\r\n    \r\n                }); \r\n        }\r\n        else if(this.state.flags.isEdit)\r\n        {\r\n            console.log('Editing');\r\n            // Adding a new category...\r\n            updateJobCard(this.state.jobcard)\r\n                .then(result => {\r\n\r\n                    if(result.Success === 'Ok')\r\n                    {\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n                        \r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ result, flags, formProcess, formVisible });\r\n                        \r\n                        toast.success('Job Card Updated Successfully.', \r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                    }\r\n                    else\r\n                    {\r\n                        let jobcard = {};\r\n                        let flags = {...this.state.flags};\r\n                        flags.isAdd = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let formProcess = false;\r\n                        let formVisible = true;\r\n\r\n                        this.setState({ jobcard, flags, result, formProcess, formVisible });\r\n\r\n                        toast.error('Job Card was not Updated Successfully!\\n'+result.FailReason, \r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                    }\r\n\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.refreshButton.showRefresh = true;\r\n                    this.setState({ buttonsOptions });\r\n\r\n                })\r\n                .catch(err => {\r\n                    let jobcard = {};\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    let formProcess = false;\r\n                    let formVisible = true;\r\n                    \r\n                    this.setState({ result: err, jobcard, flags, formProcess, formVisible });\r\n                    toast.error('Error Occured!\\n'+err, \r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.refreshButton.showRefresh = true;\r\n                    this.setState({ buttonsOptions });\r\n    \r\n                }); \r\n        }\r\n    };\r\n\r\n    handleAdd = () => {\r\n        let jobcard = {...this.state.jobcard};\r\n        let flags = {...this.state.flags};\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n\r\n        jobcard = {\r\n            jcNumber: '',\r\n            jcDate: '',\r\n            jcDetails: '',\r\n            jcMonth: 1,\r\n            jcYear: 0,\r\n            jcTime: '',\r\n            jcTicketNum: '',\r\n            jcStatus: 'Pending',\r\n            jcPrjName: '',\r\n            jcContName: ''\r\n        }\r\n\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        buttonsOptions.showEdit = false;\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.refreshButton.showRefresh = false;\r\n\r\n\r\n        this.setState({ jobcard, flags, buttonsOptions });\r\n    };\r\n\r\n    handleEdit = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        flags.isEdit = true;\r\n        flags.isAdd = false;\r\n\r\n        this.setState({ flags });\r\n    };\r\n\r\n    handleCancel = () => {\r\n        let flags  = { isAdd: false, isEdit: false };\r\n        let errors = {};\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n\r\n        buttonsOptions.addButton.showAdd = true;\r\n        buttonsOptions.editButton.showEdit = false;\r\n        buttonsOptions.refreshButton.showRefresh = true;\r\n\r\n        this.setState({ flags, errors, buttonsOptions });\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        const { name, value } = e.currentTarget;\r\n\r\n        let jobcard = {...this.state.jobcard};\r\n        jobcard[name] = value;\r\n        \r\n        this.setState({ jobcard });\r\n    };\r\n\r\n    handleJCClick = (c) => {\r\n        getJobCardDoc(c)\r\n            .then(result => {\r\n\r\n                if(result.Success === 'Ok')\r\n                {\r\n                    let jobcard = {...result.Result};\r\n\r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.editButton.showEdit = true;\r\n\r\n                    this.setState({ result });\r\n                    this.setState({ jobcard, buttonsOptions });\r\n                    \r\n                }\r\n                else\r\n                {\r\n                    let jobcard = {};\r\n                    this.setState({ jobcard });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                let jobcard = {};\r\n                this.setState({ result: err });\r\n                this.setState({ jobcard });\r\n            }); \r\n    };\r\n\r\n    handleRefresh = () => {\r\n        let result = getJobCardList();\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                let jobcards = returnedresult.Result.filter(jc => jc.jcStatus === 'Pending');\r\n                let displayJC = [...jobcards];\r\n                this.setState({ jobcards, displayJC });\r\n                let jobcard = {...this.state.jobcard};\r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                \r\n                jobcard = {\r\n                    jcNumber: '',\r\n                    jcDate: '',\r\n                    jcDetails: '',\r\n                    jcMonth: 1,\r\n                    jcYear: 0,\r\n                    jcTime: '',\r\n                    jcTicketNum: '',\r\n                    jcStatus: 'Pending',\r\n                    jcPrjName: '',\r\n                    jcContName: ''\r\n                };\r\n        \r\n                buttonsOptions.addButton.showAdd = true;\r\n                buttonsOptions.editButton.showEdit = false;\r\n                buttonsOptions.refreshButton.showRefresh = true;\r\n                buttonsOptions.deleteButton.showDelete = false;\r\n                \r\n                this.setState({ listProcess: false, listVisible: true, jobcard, buttonsOptions, searchValue: '' });\r\n                this.setState({ result: returnedresult });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                let jobcard = {...this.state.jobcard};\r\n                \r\n                jobcard = {\r\n                    jcNumber: '',\r\n                    jcDate: '',\r\n                    jcDetails: '',\r\n                    jcMonth: 1,\r\n                    jcYear: 0,\r\n                    jcTime: '',\r\n                    jcTicketNum: '',\r\n                    jcStatus: 'Pending',\r\n                    jcPrjName: '',\r\n                    jcContName: ''\r\n                };\r\n        \r\n                this.setState({ listProcess: false, \r\n                                listVisible: true, \r\n                                jobcard, \r\n                                jobcards: [],\r\n                                result: err,\r\n                                showmodal: true });\r\n                \r\n                return err \r\n            });\r\n        \r\n    };\r\n\r\n    validateFields = () => {\r\n        let errors = {};\r\n\r\n        let result = Joi.validate(this.state.jobcard, this.schema, { abortEarly: false });\r\n        \r\n        if(!result.error) return null;\r\n\r\n        for(let item of result.error.details)\r\n            errors[item.path[0]] = item.message;\r\n\r\n        if(Object.keys(errors).length === 0) return null;\r\n        return errors;\r\n    };\r\n\r\n    async componentDidMount() {\r\n        let result = getJobCardList();\r\n        \r\n        getTicketsList()\r\n            .then(result => {\r\n                let tickets = [];\r\n                result.Result.map(r => {\r\n                    tickets.push({Name: r.ticketNumber});\r\n                });\r\n                this.setState({ tickets });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n\r\n            });\r\n\r\n        getProjectsList()\r\n            .then(result => {\r\n                let projects = [];\r\n                result.Result.map(r => {\r\n                    projects.push({Name: r.name});\r\n                })\r\n                this.setState({ projects });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n        this.setState({ listProcess: true });\r\n        this.setState({ listVisible: false });\r\n\r\n        result.then((returnedresult) => { \r\n                let jobcards = [...returnedresult.Result];\r\n                jobcards = jobcards.filter(jc => {\r\n                    return jc.jcStatus === 'Pending';\r\n                });\r\n                let displayJC = [...jobcards];\r\n\r\n                this.setState({ jobcards, displayJC });\r\n            \r\n                this.setState({ result: returnedresult });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                \r\n                return returnedresult;\r\n             })\r\n            .catch((err) => {\r\n                this.setState({ jobcards: [] });\r\n                this.setState({ result: err });\r\n                this.setState({ listProcess: false });\r\n                this.setState({ listVisible: true });\r\n                this.setState({ showmodal: true });\r\n                \r\n                return err \r\n            });\r\n\r\n    };\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Maintenance Job Cards\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"col-md-3 leftCol\" >\r\n                    <ToolsBar \r\n                        buttonsOptions={this.state.buttonsOptions} onSearchValueChange={this.handleSearchValueChange} />\r\n                    <ItemsList \r\n                        data={this.state.displayJC} \r\n                        name=\"jcNumber\" \r\n                        label=\"jcNumber\" \r\n                        value=\"jcNumber\" \r\n                        showProcess={this.state.listProcess}\r\n                        showList={this.state.listVisible}\r\n                        onClick={this.handleJCClick}\r\n                        />\r\n                </div>\r\n                <div className=\"col-md-9 rightCol\">\r\n                    <MainJCForm \r\n                        onChange={this.handleChange}\r\n                        onSubmit={this.handleSubmit}\r\n                        onCancel={this.handleCancel} \r\n                        data={this.state.jobcard} \r\n                        flags={this.state.flags}\r\n                        errors={this.state.errors}\r\n                        showProcess={this.state.formProcess}\r\n                        showButtons={this.state.formVisible}\r\n                        projects={this.state.projects}\r\n                        contracts={this.state.contracts}\r\n                        tickets={this.state.tickets} />\r\n                </div>\r\n                {/* <Modal show={this.state.showmodal} onHide={this.handleCloseModal}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Modal heading</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <pre>\r\n                            {this.state.result.Error}\r\n                        </pre>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button onClick={this.handleCloseModal}>Close</Button>\r\n                    </Modal.Footer>\r\n                </Modal> */}\r\n                <ToastContainer\r\n                    position=\"top-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnVisibilityChange\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainJobCards;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst transDescStyle = {\r\n    textAlign: \"center\"\r\n};\r\n\r\nconst transDateStyle = {\r\n    textAlign: \"left\"\r\n};\r\n\r\nconst currColStyle = {\r\n    textAlign: \"right\"\r\n};\r\n\r\nfunction formatCurrency(n) {\r\n    return (n).toLocaleString(undefined, {minimumFractionDigits: 3});\r\n};\r\n\r\n\r\nconst ServiceChargeRow = (props) => {\r\n    const { reading, transClick, id } = props;\r\n    \r\n    console.log('Reading: ', reading);\r\n    return ( \r\n        <tr>\r\n            <td style={transDateStyle}>{new Date(reading.transDate).toLocaleDateString()}</td>\r\n            <td style={transDateStyle}>{reading.transTime ? reading.transTime : \"\"}</td>\r\n            <td style={transDescStyle}>{reading.pHReading}</td>\r\n            <td style={transDescStyle}>{reading.clReading}</td>\r\n            <td style={transDescStyle}>{reading.tempReading}</td>\r\n            <td >\r\n                <button onClick={() => transClick(id)}><FontAwesomeIcon icon=\"edit\"></FontAwesomeIcon></button>\r\n            </td>\r\n        </tr>\r\n        \r\n    );\r\n    \r\n};\r\n\r\nexport default ServiceChargeRow;","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\n\r\nexport const addPoolReading = (prjName, contName, poolName, reading) => {\r\n    // This function logs a pool reading for a pool in a contract in a project.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The parameter reading is an object containing the reading's details... \r\n    // \r\n  \r\n    var pn = prjName;\r\n    var cn = contName;\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n  \r\n    console.log(\"Code: \", {pn, cn, poolName, reading});\r\n    \r\n    var db = firebase.firestore();\r\n    var poolsDb = db.collection('Projects').doc(pn)\r\n                      .collection('Contracts').doc(cn)\r\n                      .collection('Assets').doc(poolName);\r\n  \r\n    var newReading = {...reading};\r\n  \r\n    // check if a document exists for the mentioned client name...\r\n    return poolsDb.get()\r\n      .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The Pool document exists...\r\n          // You can add the reading...\r\n          let docName = reading.transDate + ' ' + reading.transTime;\r\n\r\n          return poolsDb.collection('Readings').doc(docName).set(reading);  \r\n        }\r\n        else {\r\n          // No document exists for this pool... Cannot create a new reading...\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Pool Do Not exists. Cannot log a reading.';\r\n  \r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n        }\r\n      })\r\n      .then((result) => {\r\n        // On successful writing of client document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = {};\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n        return funcReturn;\r\n  \r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n        return funcReturn;\r\n      });\r\n  };\r\n\r\nexport const updatePoolReading = (prjName, contName, poolName, reading) => {\r\n    // This function logs a pool reading for a pool in a contract in a project.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The parameter reading is an object containing the reading's details... \r\n    // \r\n  \r\n    var pn = prjName;\r\n    var cn = contName;\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n  \r\n    console.log(\"Code: \", {pn, cn, poolName, reading});\r\n    \r\n    var db = firebase.firestore();\r\n    var poolsDb = db.collection('Projects').doc(pn)\r\n                      .collection('Contracts').doc(cn)\r\n                      .collection('Assets').doc(poolName);\r\n  \r\n    var newReading = {...reading};\r\n  \r\n    // check if a document exists for the mentioned client name...\r\n    return poolsDb.collection('Readings').doc(reading.transDate).get()\r\n    .then((snapshot) => {\r\n        if(snapshot.exists) {\r\n          // The Pool document exists...\r\n          // You can add the reading...\r\n          \r\n          return poolsDb.collection('Readings').doc(reading.transDate).update(reading);  \r\n        }\r\n        else {\r\n          // No document exists for this pool... Cannot create a new reading...\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Reading Do Not exists. Cannot update the log a reading.';\r\n  \r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n            return funcReturn;\r\n        }\r\n    })\r\n    .then((result) => {\r\n        // On successful writing of client document to database...\r\n        funcSuccess = 'Ok';\r\n        funcResult = {};\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n        return funcReturn;\r\n  \r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n        return funcReturn;\r\n    });\r\n};\r\n\r\n  \r\nexport const getReadingsList = (prjName, contName, poolName) => {\r\n    // This function gets all existing readings of a pool under Contract\r\n    // under project of a Client.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n  \r\n    var pn = prjName;\r\n    var cn = contName;\r\n  \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n  \r\n    var db = firebase.firestore();\r\n    var poolsDb = db.collection('Projects').doc(pn)\r\n                      .collection('Contracts').doc(cn)\r\n                      .collection('Assets').doc(poolName);\r\n  \r\n    // check if a document exists for the mentioned client name...\r\n    return poolsDb.collection('Readings').get()\r\n    .then((snapshot) => {\r\n        let readings = [];\r\n  \r\n        if(snapshot.docs.length > 0) {\r\n         \r\n          snapshot.forEach(docReading => {\r\n            readings.push(docReading.data());\r\n          });\r\n  \r\n          funcSuccess = 'Ok';\r\n          funcResult = readings;\r\n        }\r\n        else {\r\n          // The client document exists...\r\n          // Do not overwrite... Return the results...\r\n          funcSuccess = 'No';\r\n          funcResult = readings;\r\n          funcFailReason = 'No readings found. Returning empty list.';\r\n        }\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n        return funcReturn;\r\n    });\r\n};\r\n  \r\n","import React, { Component } from 'react';\r\nimport Input, { TextArea, DropDownList } from '../../common/input';\r\nimport ItemsList from '../../common/itemslist';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport processing from '../../images/processing.gif';\r\nimport ServiceChargeRow from './servicechargerow';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport { getAssetsList } from '../../appcode/invclientassets';\r\nimport { addPoolReading, getReadingsList, updatePoolReading } from '../../appcode/mainpoolreadings';\r\n\r\nimport { getClientsNames, \r\n         getProjectsOfClient,\r\n         getContractsForProject, getContractSOA,\r\n         addSOATransaction, updateSOATransaction } from '../../appcode/fincsoa';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport _ from 'lodash';\r\n\r\nclass MaintPoolReadingForm extends Component {\r\n\r\n    state = {\r\n        dateSorted: false,\r\n        transNumSorted: true,\r\n        uprofile: {},\r\n        clientsList: [],\r\n        projectsList: [],\r\n        contractsList: [],\r\n        poolsList: [],\r\n        readingData: {\r\n            transDate: '',\r\n            transTime: '',\r\n            clientName: '',\r\n            projectName: '',\r\n            contractName: '',\r\n            poolName: '',\r\n            pHReading: 0,\r\n            clReading: 0,\r\n            tempReading: 0\r\n        },\r\n        showProcess: true,\r\n        error: '',\r\n        selectedClient: '',\r\n        selectedProject: '',\r\n        selectedContract: '',\r\n        selectedPool: '',\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n        poolReadings: [],\r\n        selectedReadingIndex: -1,\r\n\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: () => this.handleEdit()\r\n            },\r\n            saveButton: {\r\n                showSave: false,\r\n                onSave: () => this.handleOnSubmit()\r\n            },\r\n            cancelButton: {\r\n                showCancel: false,\r\n                onCancel: () => this.handleCancel()\r\n            },\r\n            searchButton: {\r\n                showSearch: false,\r\n                onSearch: null\r\n            }\r\n        }\r\n    }\r\n\r\n    handleAdd = () => {\r\n        if(this.state.selectedClient === '' \r\n        || this.state.selectedProject === ''\r\n        || this.state.selectedContract === ''\r\n        || this.state.selectedPool === '')\r\n        {\r\n            toast.warn('You must select the Client, Project, and Contract before your Add or Edit...',\r\n                {\r\n                    position: toast.POSITION.TOP_RIGHT,\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true\r\n                });\r\n            return;\r\n        }\r\n\r\n        let readingData = {\r\n            transDate: '',\r\n            transTime: '',\r\n            clientName: '',\r\n            projectName: '',\r\n            contractName: '',\r\n            poolName: '',\r\n            pHReading: 0,\r\n            clReading: 0\r\n        }\r\n\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.editButton.showEdit = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n\r\n        this.setState({ readingData, flags, buttonsOptions });\r\n    }\r\n\r\n    handleEdit = () => {\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.editButton.showEdit = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n\r\n        this.setState({ flags, buttonsOptions });\r\n    }\r\n\r\n    handleCancel = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        if(flags.isAdd)\r\n        {\r\n            let readingData = {\r\n                transDate: '',\r\n                clientName: '',\r\n                projectName: '',\r\n                contractName: '',\r\n                poolName: '',\r\n                pHReading: 0,\r\n                clReading: 0\r\n            }\r\n    \r\n            let flags = {...this.state.flags};\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n    \r\n            let buttonsOptions = {...this.state.buttonsOptions};\r\n            buttonsOptions.addButton.showAdd = true;\r\n            buttonsOptions.editButton.showEdit = false;\r\n            buttonsOptions.saveButton.showSave = false;\r\n            buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n            this.setState({ readingData, flags, buttonsOptions });\r\n        }\r\n        else {                      // isEdit = true \r\n            let readingData = {...this.state.poolReadings[this.state.selectedReadingIndex]};\r\n\r\n            let flags = {...this.state.flags};\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n    \r\n            let buttonsOptions = {...this.state.buttonsOptions};\r\n            buttonsOptions.addButton.showAdd = true;\r\n            buttonsOptions.editButton.showEdit = true;\r\n            buttonsOptions.saveButton.showSave = false;\r\n            buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n            this.setState({ readingData, flags, buttonsOptions });\r\n        }\r\n    }\r\n\r\n    handleTransDescOnChange = (event) => {\r\n        let transData = {...this.state.transData};\r\n        transData.transDesc = event.currentTarget.value;\r\n        \r\n        this.setState({ transData });\r\n    }\r\n\r\n    handleClientsOnChange = (event) => {\r\n        this.setState({ showProcess: true });\r\n        let selectedClient = event.currentTarget.value;\r\n\r\n        getProjectsOfClient(event.currentTarget.value)\r\n            .then(result => {\r\n                let projectsList = [];\r\n\r\n                result.Result.map( c => { \r\n                    let project = {Name: c.name };\r\n                    projectsList.push(project) });\r\n                \r\n                this.setState({ projectsList, selectedClient });\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleProjectsOnChange = (event) => {\r\n        this.setState({ showProcess: true });\r\n        let selectedProject = event.currentTarget.value;\r\n\r\n        getContractsForProject(event.currentTarget.value)\r\n            .then(result => {\r\n                let contractsList = [];\r\n\r\n                result.Result.map( c => { \r\n                    let contract = { Name: c.name };\r\n                    contractsList.push(contract) });\r\n                \r\n                this.setState({ contractsList, selectedProject });\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleContractsOnChange = (event) => {\r\n        const { selectedClient, selectedProject } = this.state;\r\n\r\n        let selectedContract = event.currentTarget.value; \r\n        this.setState({ selectedContract });\r\n\r\n        getAssetsList(selectedProject, selectedContract)\r\n            .then(result => {\r\n                let poolsList = [];\r\n                result.Result.map( c => {\r\n                    if(c.Title.toUpperCase().includes(\"pool\".toUpperCase()))\r\n                    {\r\n                        let pool = { Name: c.Title };\r\n                        poolsList.push(pool);\r\n                    } \r\n                });\r\n\r\n                this.setState({ poolsList });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });        \r\n    }\r\n\r\n    handlePoolsOnChange = (event) => {\r\n        const { selectedProject, selectedContract } = this.state;\r\n\r\n        let selectedPool = event.currentTarget.value; \r\n        this.setState({ selectedPool });\r\n\r\n        getReadingsList(selectedProject, selectedContract, selectedPool)\r\n            .then(result => {\r\n                console.log('getReadings: ', result);\r\n                let poolReadings = [];\r\n                result.Result.map( c => {\r\n                    poolReadings.push(c);\r\n                });\r\n\r\n                console.log('poolReadings: ', poolReadings);\r\n                this.setState({ poolReadings }); \r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });        \r\n    }\r\n\r\n    handleTransDateOnChange = (event) => {\r\n        let readingData = {...this.state.readingData};\r\n\r\n        readingData.transDate = event.currentTarget.value;\r\n        this.setState({ readingData });\r\n\r\n        // Get the pool reading for the given date...\r\n        let readingByDate;\r\n\r\n        getReadingsList(this.state.selectedProject, \r\n                        this.state.selectedContract, \r\n                        this.state.selectedPool)\r\n            .then(result => {\r\n                readingByDate = {...result};        \r\n                console.log(\"ReadingByDate: \", readingByDate);\r\n            });\r\n    }\r\n\r\n    handleTransTimeOnChange = (event) => {\r\n        let readingData = {...this.state.readingData};\r\n\r\n        readingData.transTime = event.currentTarget.value;\r\n        this.setState({ readingData });\r\n\r\n        // Get the pool reading for the given date...\r\n        let readingByDate;\r\n\r\n        getReadingsList(this.state.selectedProject, \r\n                        this.state.selectedContract, \r\n                        this.state.selectedPool)\r\n            .then(result => {\r\n                readingByDate = {...result};        \r\n                console.log(\"ReadingByDate: \", readingByDate);\r\n            });\r\n    }\r\n\r\n    handleReadingValueOnChange = (event) => {\r\n        let readingData = {...this.state.readingData};\r\n\r\n        readingData[event.currentTarget.name] = event.currentTarget.value;\r\n        console.log(event.currentTarget.name, event.currentTarget.value);\r\n        this.setState({ readingData });\r\n    }\r\n\r\n    handleOnSubmit = () => {\r\n        let missingField = '';\r\n\r\n        if(this.state.readingData.transDate === '')\r\n        {\r\n            toast.warn('Reading Date cannot be left empty...',\r\n                {\r\n                    position: toast.POSITION.TOP_RIGHT,\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true\r\n                });\r\n            return;\r\n        }\r\n\r\n        if(this.state.readingData.transTime === '')\r\n        {\r\n            toast.warn('Reading Time cannot be left empty...',\r\n                {\r\n                    position: toast.POSITION.TOP_RIGHT,\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true\r\n                });\r\n            return;\r\n        }\r\n\r\n        this.setState({ showProcess: true });\r\n\r\n        const { flags, selectedClient, selectedContract, selectedProject, selectedPool } =this.state;\r\n\r\n        if(flags.isAdd)\r\n        {\r\n            let readingData = { ...this.state.readingData, \r\n                                clientName: selectedClient,\r\n                                projectName: selectedProject,\r\n                                contractName: selectedContract,\r\n                                poolName: selectedPool\r\n                            }; \r\n            \r\n            console.log(readingData);\r\n\r\n            let returnedResult = addPoolReading(selectedProject, selectedContract, \r\n                                                selectedPool, readingData)\r\n            .then(result => {\r\n                    \r\n                let poolReadings = [...this.state.poolReadings];\r\n                console.log(result);\r\n                poolReadings.push(readingData);\r\n\r\n                let flags = {...this.state.flags};\r\n                flags.isAdd = false;\r\n                flags.isEdit = false;\r\n        \r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                buttonsOptions.addButton.showAdd = true;\r\n                buttonsOptions.editButton.showEdit = false;\r\n                buttonsOptions.saveButton.showSave = false;\r\n                buttonsOptions.cancelButton.showCancel = false;\r\n        \r\n                this.setState({  flags, buttonsOptions, poolReadings });\r\n                //soaTransactions,\r\n\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                toast.error(error.message,\r\n                    {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                    });\r\n\r\n                let flags = {...this.state.flags};\r\n                flags.isAdd = false;\r\n                flags.isEdit = false;\r\n        \r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                buttonsOptions.addButton.showAdd = true;\r\n                buttonsOptions.editButton.showEdit = false;\r\n                buttonsOptions.saveButton.showSave = false;\r\n                buttonsOptions.cancelButton.showCancel = false;\r\n        \r\n                this.setState({ flags, buttonsOptions });\r\n\r\n                this.setState({ showProcess: false });\r\n            });\r\n\r\n            \r\n        }\r\n        else            // isEdit = true\r\n        {\r\n            this.setState({ showProcess: true });\r\n            \r\n            // update the transaction in the soaTransactions list based on selected index...\r\n            let poolReadings = [...this.state.poolReadings];\r\n            poolReadings[this.state.selectedTransIndex] = {...this.state.readingData};\r\n\r\n            // console.log(this.state.selectedTransIndex, poolReadings);\r\n            this.setState({ poolReadings });\r\n\r\n            // update the reading in database based on reading id in readings object... \r\n            updatePoolReading(selectedProject, selectedContract, selectedPool, this.state.readingData)\r\n                .then(result => {\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n            \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n            \r\n                    this.setState({ flags, buttonsOptions });\r\n\r\n                    this.setState({ showProcess: false });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n\r\n                    let flags = {...this.state.flags};\r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n            \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n            \r\n                    this.setState({ flags, buttonsOptions });\r\n\r\n                    this.setState({ showProcess: false });\r\n\r\n                })\r\n        }\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible) \r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n\r\n        getClientsNames()\r\n            .then(result => {\r\n                let clientsList = [];\r\n                \r\n                result.Result.map( c => { \r\n                    let client = {Name: c };\r\n                    clientsList.push(client) });\r\n                \r\n                this.setState({ clientsList });\r\n                this.setState({ showProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n        \r\n    }\r\n\r\n    handleReadingClick = (index) => {\r\n        let readingData = {...this.state.poolReadings[index]};\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.editButton.showEdit = true;\r\n\r\n        this.setState({ readingData, buttonsOptions, selectedTransIndex: index });\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Pools Readings Log\" bgColor=\"white\" color=\"gray\" />\r\n                <form style={{marginTop: \"10px\", paddingLeft: \"25px\", paddingRight: \"25px\"}} >\r\n                    <ToolsBar buttonsOptions={this.state.buttonsOptions} />\r\n                    <div style={{width: \"100%\", margin: \"10px\"}}></div>\r\n                    <DropDownList name='ddlClients' \r\n                        label='Clients'  \r\n                        values={this.state.clientsList} \r\n                        onChange={this.handleClientsOnChange} \r\n                        flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} \r\n                        error={this.state.error} \r\n                    />\r\n\r\n                    <DropDownList name='ddlProjects' \r\n                        label='Projects'  \r\n                        values={this.state.projectsList} \r\n                        onChange={this.handleProjectsOnChange} \r\n                        flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} \r\n                        error={this.state.error} \r\n                    />\r\n\r\n                    <DropDownList name='ddlContracts' \r\n                        label='Contracts'  \r\n                        values={this.state.contractsList} \r\n                        onChange={this.handleContractsOnChange}\r\n                        flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} \r\n                        error={this.state.error} \r\n                    />\r\n\r\n                    <DropDownList name='ddlPools' \r\n                        label='Pools'  \r\n                        values={this.state.poolsList} \r\n                        onChange={this.handlePoolsOnChange}\r\n                        flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} \r\n                        error={this.state.error} \r\n                    />\r\n\r\n                    <div className='col-md-12'>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='date'\r\n                                name='txtTransDate'\r\n                                label='Reading Date'\r\n                                value={this.state.readingData.transDate}\r\n                                onChange={this.handleTransDateOnChange}\r\n                                flgDisabled={false}\r\n                                //{!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='time'\r\n                                name='txtTransTime'\r\n                                label='Reading Time'\r\n                                value={this.state.readingData.transTime}\r\n                                onChange={this.handleTransTimeOnChange}\r\n                                flgDisabled={false}\r\n                                //{!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='col-md-12'>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='number'\r\n                                name='pHReading'\r\n                                label='pH Value'\r\n                                value={this.state.readingData.pHReading}\r\n                                onChange={this.handleReadingValueOnChange}\r\n                                flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='text'\r\n                                name='clReading'\r\n                                label='Chlorine Value'\r\n                                value={this.state.readingData.clReading}\r\n                                onChange={this.handleReadingValueOnChange}\r\n                                flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className='col-md-12'>\r\n                        <div className='col-md-6'>\r\n                            <Input \r\n                                type='number'\r\n                                name='tempReading'\r\n                                label='Temperature Value'\r\n                                value={this.state.readingData.tempReading}\r\n                                onChange={this.handleReadingValueOnChange}\r\n                                flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit}\r\n                                error={this.state.error}\r\n                            />\r\n                        </div>\r\n                        <div className='col-md-6'>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    \r\n                    \r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\" \r\n                        className={this.state.showProcess ? \"\" : \"hidden\"} \r\n                        style={{marginTop: \"2vh\"}} />\r\n\r\n                    <div className={\"btn-toolbar btnToobar\" + ((this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \" hidden\")} >\r\n                        <div className=\"btn-group btn-group-justified\">\r\n                            {/* <button type=\"button\" \r\n                                className=\"btn btn-danger\" \r\n                                style={{width: \"50%\"}}\r\n                                onClick={this.handleOnCancel}>\r\n                                <FontAwesomeIcon icon=\"ban\" />\r\n                            </button> */}\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <table className=\"table table-striped table-hover\" \r\n                    >\r\n                    <thead>\r\n                        <tr className=\"bg-info\">\r\n                            <th style={{width: \"10%\"}}>\r\n                                <div onClick={this.sortByDate}\r\n                                    style={this.state.dateSorted ? {color: 'blue'} : {color: 'black'}}>\r\n                                    Date\r\n                                </div>\r\n                            </th>\r\n                            <th style={{width: \"10%\"}}>\r\n                                <div onClick={this.sortByDate}\r\n                                    style={this.state.dateSorted ? {color: 'blue'} : {color: 'black'}}>\r\n                                    Time\r\n                                </div>\r\n                            </th>\r\n                            <th style={{width: \"20%\", textAlign: \"center\"}}>pH Reading</th>\r\n                            <th style={{width: \"20%\", textAlign: \"center\"}}>Chlorine Reading</th>\r\n                            <th style={{width: \"20%\", textAlign: \"center\"}}>Temp. Reading</th>\r\n                            <th style={{textAlign: \"center\"}}>Edit</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.poolReadings ? \r\n                            this.state.poolReadings.map((reading, index) => {\r\n                            return <ServiceChargeRow key={index} id={index}\r\n                                reading={reading}\r\n                                transClick={this.handleReadingClick} />\r\n                            }) : null\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                <hr  />\r\n                <ToastContainer />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    sumCr = () => {\r\n        let sumcr = 0;\r\n        let soaTrans = this.state.soaTransactions;\r\n        soaTrans.map(s => {\r\n            if(s.transType === 'Credit') sumcr += parseFloat(s.transAmount);\r\n        });\r\n\r\n        return sumcr.toFixed(3);\r\n    }\r\n\r\n    // sumDr = () => {\r\n    //     let sumdr = 0;\r\n    //     let soaTrans = this.state.soaTransactions;\r\n    //     soaTrans.map(s => {\r\n    //         if(s.transType === 'Debit') sumdr += parseFloat(s.transAmount);\r\n    //     });\r\n\r\n    //     return sumdr.toFixed(3);\r\n    // }\r\n\r\n    // calcBalance = () => {\r\n    //     let sumcr = 0;\r\n    //     let soaTrans = this.state.soaTransactions;\r\n    //     soaTrans.map(s => {\r\n    //         if(s.transType === 'Credit') sumcr += parseFloat(s.transAmount);\r\n    //     });\r\n\r\n    //     let sumdr = 0;\r\n    //     soaTrans.map(s => {\r\n    //         if(s.transType === 'Debit') sumdr += parseFloat(s.transAmount);\r\n    //     });\r\n\r\n    //     return (sumcr - sumdr).toFixed(3);\r\n    // }\r\n\r\n    sortByDate = () => {\r\n        // let soaTransactions = [...this.state.soaTransactions];\r\n\r\n        // soaTransactions = _.orderBy(soaTransactions, 'transDate');\r\n        // let dateSorted = true;\r\n        // let transNumSorted = false;\r\n\r\n        // this.setState({ soaTransactions, dateSorted, transNumSorted });\r\n    } \r\n\r\n    sortByTransNum = () => {\r\n        // let soaTransactions = [...this.state.soaTransactions];\r\n\r\n        // soaTransactions = _.orderBy(soaTransactions, 'transId');\r\n\r\n        // let dateSorted = false;\r\n        // let transNumSorted = true;\r\n\r\n        // this.setState({ soaTransactions, dateSorted, transNumSorted });\r\n    } \r\n\r\n}\r\n\r\nexport default MaintPoolReadingForm;\r\n\r\nconst currColStyle = {\r\n    textAlign: \"right\",\r\n    width: \"40%\"\r\n};\r\n","import React, { Component } from 'react';\r\nimport Input, { DropDownList } from '../../common/input';\r\n\r\nclass ServiceRow extends Component {\r\n    state={\r\n        servicesList: []\r\n    }\r\n\r\n    constructor() \r\n    {\r\n        super();\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { service, id, onChange, servList, flags } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className='row'>\r\n                    <div className='col-md-2'>\r\n                        <select className=\"form-control\" \r\n                            disabled={!flags.isEdit && !flags.isAdd}\r\n                            onChange={(e) => {\r\n                                onChange(\"serviceName\", e.currentTarget.value, id); }} >\r\n                            <option value=''></option>\r\n                            {servList.map(s => {\r\n                                return (\r\n                                    <option key={id+s} value={s} \r\n                                        selected={(s === service.serviceName) ? \"selected\" : \"\"}>\r\n                                        {s}\r\n                                    </option>);\r\n                            })}\r\n                        </select>\r\n                    </div>\r\n                    <div className='col-md-1'>\r\n                        <input type='checkbox' \r\n                            className=\"form-control\"\r\n                            value={service.subcontracted}\r\n                            defaultChecked={service.subcontracted} \r\n                            disabled={!flags.isEdit && !flags.isAdd}\r\n                            onChange={(e) => {\r\n                                onChange(\"subcontracted\", e.currentTarget.checked, id); }} \r\n                        />\r\n                    </div>\r\n                    <div className='col-md-2'>\r\n                        <input type=\"number\" style={{width: \"100%\", textAlign: 'right'}} \r\n                            className=\"form-control\"\r\n                            value={service.subcontValue}\r\n                            disabled={!flags.isEdit && !flags.isAdd}\r\n                            onChange={(e) => {\r\n                                onChange(\"subcontValue\", e.currentTarget.value, id); }} />\r\n                    </div>\r\n                    <div className='col-md-1'>\r\n                        <select style={{width: \"100%\"}} className=\"form-control\"\r\n                            disabled={!flags.isEdit && !flags.isAdd}\r\n                            onChange={(e) => {\r\n                                onChange(\"manfeestype\", e.currentTarget.value, id); }}>\r\n                            <option value=\"\"></option>\r\n                            <option selected={(service.manfeestype === '%') ? \"selected\" : \"\"}>%</option>\r\n                            <option selected={(service.manfeestype === 'Value') ? \"selected\" : \"\"}>Value</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className='col-md-2'>\r\n                        <input type=\"number\" style={{width: \"100%\", textAlign: 'right'}}\r\n                            className=\"form-control\"\r\n                            value={service.manfeesvalue}\r\n                            disabled={!flags.isEdit && !flags.isAdd}\r\n                            onChange={(e) => {\r\n                                onChange(\"manfeesvalue\", e.currentTarget.value, id); }} \r\n                        />\r\n                    </div>\r\n                    <div className='col-md-2'>\r\n                        <input type=\"number\" style={{width: \"100%\", textAlign: 'center'}}\r\n                            className=\"form-control\"\r\n                            value={service.manPower}\r\n                            disabled={!flags.isEdit && !flags.isAdd}\r\n                            onChange={(e) => {\r\n                                onChange(\"manPower\", e.currentTarget.value, id); }}\r\n                        />\r\n                    </div>\r\n                    <div className='col-md-2'>\r\n                        <input type=\"number\" style={{width: \"100%\", textAlign: 'right'}}\r\n                            className=\"form-control\"\r\n                            value={service.quotedValue}\r\n                            disabled={!flags.isEdit && !flags.isAdd}\r\n                            onChange={(e) => {\r\n                                onChange(\"quotedValue\", e.currentTarget.value, id); }} \r\n                        />\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ServiceRow;\r\n\r\nconst currencyStyle = {\r\n    textAlign: \"right\"\r\n}","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getServicesList = () => {\r\n    // This function gets an existing asset documen under Contract\r\n    // under project of a Client.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n  \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n  \r\n    var db = firebase.firestore();\r\n    var servicesDb = db.collection('Accounts')\r\n                       .doc('Project Services')\r\n                       .collection('Services');\r\n  \r\n    return servicesDb.get()\r\n      .then((snapshot) => {\r\n        let services = [];\r\n  \r\n        if(snapshot.docs.length > 0) {\r\n         \r\n          snapshot.forEach(docService => {\r\n            services.push(docService.data().Description);\r\n          });\r\n  \r\n          funcSuccess = 'Ok';\r\n          funcResult = services;\r\n        }\r\n        else {\r\n          funcSuccess = 'No';\r\n          funcResult = services;\r\n          funcFailReason = 'No services found. Returning empty list.';\r\n        }\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n        return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n        return funcReturn;\r\n      });\r\n};\r\n  \r\nexport const getProjectsList = () => {\r\n// This function gets an existing asset documen under Contract\r\n// under project of a Client.\r\n//\r\n// A document exists if it has fields. Collections within the document\r\n// do not mean it exist if it has no fields.\r\n//\r\n\r\nvar funcSuccess = \"\";\r\nvar funcResult = \"\";\r\nvar funcError = \"\";\r\nvar funcWarning = \"\";\r\nvar funcFailReason = \"\";\r\n\r\nvar db = firebase.firestore();\r\nvar servicesDb = db.collection('Projects');\r\n\r\nreturn servicesDb.get()\r\n    .then((snapshot) => {\r\n    let projects = [];\r\n\r\n    if(snapshot.docs.length > 0) {\r\n        \r\n        snapshot.forEach(docService => {\r\n        projects.push(docService.data().prjName);\r\n        });\r\n\r\n        funcSuccess = 'Ok';\r\n        funcResult = projects;\r\n    }\r\n    else {\r\n        funcSuccess = 'No';\r\n        funcResult = projects;\r\n        funcFailReason = 'No Projects found. Returning empty list.';\r\n    }\r\n\r\n    var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n    return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n    funcSuccess = 'No';\r\n    funcResult = [];\r\n    funcFailReason = 'Error';\r\n    funcError = err.message;\r\n\r\n    var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n    return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getClientsList = () => {\r\n  // This function gets an existing asset documen under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  \r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n  \r\n  var db = firebase.firestore();\r\n  var servicesDb = db.collection('Projects');\r\n  \r\n  return servicesDb.get()\r\n      .then((snapshot) => {\r\n      let clients = [];\r\n  \r\n      if(snapshot.docs.length > 0) {\r\n          \r\n          snapshot.forEach(docService => {\r\n            if(!clients.find(c => c == docService.data().clientName)) {\r\n              clients.push(docService.data().clientName);\r\n            }\r\n          });\r\n          console.log(clients);\r\n  \r\n          funcSuccess = 'Ok';\r\n          funcResult = clients;\r\n      }\r\n      else {\r\n          funcSuccess = 'No';\r\n          funcResult = clients;\r\n          funcFailReason = 'No Projects found. Returning empty list.';\r\n      }\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      });\r\n  };\r\n\r\nexport const getProjectsContractsList = (prjName, contName) => {\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n  \r\n  var db = firebase.firestore();\r\n  var servicesDb = db.collection('Projects').doc(prjName).collection('Contracts');\r\n  \r\n  return servicesDb.get()\r\n      .then((snapshot) => {\r\n      let contracts = [];\r\n  \r\n      if(snapshot.docs.length > 0) {\r\n          \r\n          snapshot.forEach(docService => {\r\n          contracts.push(docService.data().contName);\r\n          });\r\n  \r\n          funcSuccess = 'Ok';\r\n          funcResult = contracts;\r\n      }\r\n      else {\r\n          funcSuccess = 'No';\r\n          funcResult = contracts;\r\n          funcFailReason = 'No Contracts found. Returning empty list.';\r\n      }\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      });\r\n};\r\n\r\nexport const getProjectsContractDoc = (prjName, contName) => {\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n  \r\n  var db = firebase.firestore();\r\n  var servicesDb = db.collection('Projects').doc(prjName).collection('Contracts').doc(contName);\r\n  \r\n  return servicesDb.get()\r\n      .then((snapshot) => {\r\n      let contract = {};\r\n\r\n      if(snapshot.exists) {\r\n          contract = snapshot.data();\r\n          \r\n          funcSuccess = 'Ok';\r\n          funcResult = contract;\r\n      }\r\n      else {\r\n          funcSuccess = 'No';\r\n          funcResult = contract;\r\n          funcFailReason = 'Contract was not found.';\r\n      }\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      });\r\n};\r\n\r\nexport const addContract = (prjName, contract) => {\r\n  // This function Creates a new Contract Under Given Project document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // Parameter contract is an object containing the contract detals and services...\r\n  //\r\n\r\n  var contDef = contract;  // decodeURIComponent(\r\n  \r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  // var arNumber = parseInt(getARCounter());\r\n  // console.log(arNumber);\r\n  // var arNumPadded = arNumber.pad(6,0);\r\n\r\n  var db = firebase.firestore();\r\n  var prjDb = db.collection('Projects');\r\n\r\n  // Need to extract the services total values and sum them up...\r\n  var totalContVal = 0;\r\n  contDef.Services.forEach((serv) => {\r\n    totalContVal += serv.quotedValue;\r\n  });\r\n\r\n  // check if a document exists for the mentioned project name...\r\n  return prjDb.doc(prjName).collection('Contracts').doc(contDef.contName).get()\r\n    .then((snapshot) => {\r\n      // if snapshot exists, check if overwrite...\r\n      if(snapshot.exists)\r\n      {\r\n        // if(ow == \"Y\")\r\n        // {\r\n        //   // Create a batch...\r\n        //   var batch = db.batch();\r\n\r\n        //   // Create Contract Document transaction...\r\n        //   var prjContDoc = prjDb.doc(prjName).collection('Contracts').doc(jsonContDef.contName);\r\n        //   batch.set(prjContDoc, jsonContDef);\r\n\r\n        //   // Create Contract AR Account Transaction...\r\n        //   var arContDoc = db.collection('Accounts').doc('Contracts').collection('AR').doc('ar'+arNumPadded);\r\n        //   var arDoc = {\r\n        //     arCode: 'ar'+jsonContDef.contName,\r\n        //     value: totalContVal,\r\n        //     prjName: jsonContDef.ProjectName,\r\n        //     contCode: jsonContDef.contCode\r\n        //   }\r\n        //   batch.set(arContDoc, arDoc);\r\n\r\n        //   // Make sure of the the AR Doc field...\r\n        //   var arDocFields = db.collection('Accounts').doc('Contracts').collection('AR');\r\n        //   var arDocF = {\r\n        //     AR: 'Accounts Receivable'\r\n        //   }\r\n        //   batch.set(arDocFields, arDocF);\r\n\r\n        //   // Add Accounts Transaction of initial value...\r\n        //   var td = new Date();\r\n        //   var transNum = 'ar' +td.getDay().toString() + td.getMonth().toString() + td.getYear().toString()\r\n        //                 +td.getHours().toString() + td.getMinutes().toString() + td.getSeconds().toString()\r\n        //                 +td.getMilliseconds();\r\n\r\n        //   var accTrans = db.collection('Accounts').doc('Transactions').collection('Transaction').doc(transNum);\r\n        //   var accTransDoc = {\r\n        //     accCode: 'ar'+jsonContDef.contName,\r\n        //     value: totalContVal,\r\n        //     dateTime: td.toISOString(),\r\n        //     Details: 'Initial Opening Figure'\r\n\r\n        //   }\r\n        //   batch.set(accTrans, accTransDoc);\r\n\r\n        //   return batch.commit();\r\n\r\n        //   // return prjDb.doc(prjName).collection('Contracts').doc(jsonContDef.contName).set(jsonContDef);\r\n        // }\r\n        // else {\r\n        //   // Do not overwrite and return failreason...\r\n        //   funcSuccess = 'No';\r\n        //   funcResult = \"{}\";\r\n\r\n        //   var funcReturn = {\r\n        //     Success: funcSuccess,\r\n        //     Result: funcResult,\r\n        //     FailReason: \"Contract Exists and cannot overwrite. Adding aborted.\",\r\n        //     Error: funcError,\r\n        //     Warning: funcWarning };\r\n\r\n        //     console.log(funcReturn);\r\n\r\n        //   res.send(JSON.stringify(funcReturn));\r\n\r\n        // }\r\n      }\r\n      else {\r\n          // Create Contract Document transaction...\r\n          return prjDb.doc(prjName).collection('Contracts').doc(contDef.contName).set(contDef);\r\n      }\r\n    })\r\n    .then((result) => {\r\n      \r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};\r\n\r\nexport const updateContract = (prjName, contract) => {\r\n  var contDef = contract;  // decodeURIComponent(\r\n  \r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  \r\n  var db = firebase.firestore();\r\n  var prjDb = db.collection('Projects');\r\n\r\n  // Need to extract the services total values and sum them up...\r\n  var totalContVal = 0;\r\n  contDef.Services.forEach((serv) => {\r\n    totalContVal += serv.quotedValue;\r\n  });\r\n\r\n  // check if a document exists for the mentioned project name...\r\n  return prjDb.doc(prjName).collection('Contracts').doc(contDef.contName).get()\r\n    .then((snapshot) => {\r\n      // if snapshot exists, check if overwrite...\r\n      if(snapshot.exists)\r\n      {\r\n        return prjDb.doc(prjName).collection('Contracts').doc(contDef.contName).update(contDef);\r\n      }\r\n      else {\r\n        funcSuccess = 'No';\r\n        funcResult = 'Contract was not found! Update aborted.';\r\n  \r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n        \r\n        return funcReturn;\r\n      }\r\n    })\r\n    .then((result) => {\r\n      \r\n      funcSuccess = 'Ok';\r\n      funcResult = {};\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n}\r\n","import React, { Component } from 'react';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport Input, { DropDownList, TextArea } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport ServiceRow from './servicerow';\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport {ToastContainer, toast } from 'react-toastify';\r\nimport Joi from 'joi-browser';\r\n\r\nimport processing from '../../images/processing.gif';\r\n\r\nimport { getServicesList, getProjectsList, \r\n         getProjectsContractsList, getProjectsContractDoc,\r\n         addContract, updateContract } from '../../appcode/contractdefinition';\r\n\r\nclass ContractDef extends Component {\r\n   state={\r\n      projectsList: [],\r\n      selectedProject: '',\r\n      selectedContract: '',\r\n      contractsList: [],\r\n      servicesList: [],\r\n      contract: {\r\n         Description: '',\r\n         ProjectName: '',\r\n         Services: [],\r\n         contCode: '',\r\n         contName: '',\r\n         contactEmails: '',\r\n         contactPerson: '',\r\n         effectDate: '',\r\n         expiryDate: '',\r\n         prjCode: ''\r\n      },\r\n      service: {\r\n         serviceName: '',\r\n         subcontracted: false,\r\n         subcontValue: 0,\r\n         manfeestype: '',\r\n         manfeesvalue: 0,\r\n         manPower: 0,\r\n         quotedValue: 0,\r\n         remarks: ''\r\n      },\r\n      errors: {},\r\n      formProcess: false,\r\n      formVisible: true,\r\n      flags: {\r\n         isAdd: false,\r\n         isEdit: false\r\n      },\r\n\r\n      buttonsOptions: {\r\n         addButton: {\r\n             showAdd: false,\r\n             onAdd: null\r\n         },\r\n         editButton: {\r\n             showEdit: false,\r\n             onEdit: null\r\n         },\r\n         deleteButton: {\r\n             showDelete: false,\r\n             onDelete: null\r\n         },\r\n         refreshButton: {\r\n             showRefresh: false,\r\n             onRefresh: null\r\n         },\r\n         searchButton: {\r\n             showSearch: false,\r\n             onSearch: null\r\n         },\r\n         saveButton: {\r\n            showSave: false,\r\n            onSave: () => this.handleOnSubmit()\r\n         },\r\n         cancelButton: {\r\n            showCancel: false,\r\n            onCancel: () => this.handleOnCancel()\r\n         }\r\n\r\n      },\r\n      TopButtonsOptions: {\r\n         addButton: {\r\n             showAdd: true,\r\n             onAdd: () => this.handleAdd()\r\n         },\r\n         editButton: {\r\n             showEdit: false,\r\n             onEdit: () => this.handleEdit()\r\n         },\r\n         deleteButton: {\r\n             showDelete: false,\r\n             onDelete: null\r\n         },\r\n         refreshButton: {\r\n             showRefresh: false,\r\n             onRefresh: () => this.handleRefresh()\r\n         },\r\n         searchButton: {\r\n             showSearch: false,\r\n             onSearch: null\r\n         }\r\n      },\r\n      uprofile: {}\r\n   }\r\n\r\n   schema = {\r\n      Description: Joi\r\n                  .string()\r\n                  .optional()\r\n                  .allow(\"\")\r\n                  .regex(/^[a-zA-Z0-9\\s\\_\\-\\.\\&\\:\\,]+$/, {name: \"No Special Chars\"})\r\n                  .label('Contract Description'),\r\n      ProjectName: Joi\r\n                  .string().required()\r\n                  .label('Project Name'),\r\n      Services: Joi.any().label('Contract Services List'),\r\n      contCode: Joi\r\n               .string()\r\n               .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n               .label('Contract Code'),\r\n      contName: Joi\r\n               .string()\r\n               .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n               .label('Contract Name'),\r\n      contactEmails: Joi\r\n                  .string()\r\n                  .regex(/^[a-zA-Z0-9\\s\\_\\-\\@\\.]+$/, {name: \"No Special Chars\"})\r\n                  .label(\"Contact Person's Email Address\"),\r\n      contactPerson: Joi\r\n                  .string()\r\n                  .regex(/^[a-zA-Z0-9\\s\\_\\-]+$/, {name: \"No Special Chars\"})\r\n                  .label(\"Contact Person's Name\"),\r\n      effectDate: Joi\r\n                  .string()\r\n                  .label('Contract Effective Date'),\r\n      expiryDate: Joi\r\n                  .string()\r\n                  .label('Contract Effective Date'),\r\n      prjCode:    Joi.string().optional().allow('').label('Project Code')\r\n      // serviceName: Joi\r\n      //             .string()\r\n      //             .required()\r\n      //             .label('Service Name'),\r\n      // subcontracted: Joi.boolean().allow(false),\r\n      // subcontValue: Joi.number().positive().optional().allow(0).label('Subcontract Value'),\r\n      // manfeestype: Joi.string().label('Subcontract Type'),\r\n      // manfeesvalue: Joi.number().positive().label('Management Fees Value'),\r\n      // manPower: Joi.number().integer().positive().label('Manpower Value'),\r\n      // quotedValue: Joi.number().positive().label('Quoted Service Value'),\r\n      // remarks: Joi\r\n      //          .string()\r\n      //          .optional().allow(\"\")\r\n      //          .label('Remarks'),\r\n      // Services: Joi.any()\r\n   };\r\n\r\n   validateFields = () => {\r\n      let errors = {};\r\n\r\n      let result = Joi.validate(this.state.contract, this.schema, { abortEarly: false });\r\n      \r\n      if(!result.error) return null;\r\n\r\n      for(let item of result.error.details)\r\n          errors[item.path[0]] = item.message;\r\n\r\n      if(Object.keys(errors).length === 0) return null;\r\n      return errors;\r\n  };\r\n\r\n   handleAdd = () => {\r\n      let contract = {\r\n         Description: '',\r\n         ProjectName: this.state.selectedProject,\r\n         Services: [],\r\n         contCode: '',\r\n         contName: '',\r\n         contactEmails: '',\r\n         contactPerson: '',\r\n         effectDate: '',\r\n         expiryDate: '',\r\n         prjCode: ''\r\n      };\r\n\r\n      // hide the top buttons...\r\n      let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n      TopButtonsOptions.addButton.showAdd = false;\r\n      TopButtonsOptions.editButton.showEdit = false;\r\n\r\n      // show the bottom buttons...\r\n      let buttonsOptions = {...this.state.buttonsOptions};\r\n      buttonsOptions.saveButton.showSave = true;\r\n      buttonsOptions.cancelButton.showCancel = true;\r\n\r\n      let flags = {...this.state.flags};\r\n      flags.isAdd = true;\r\n      flags.isEdit = false;\r\n\r\n      this.setState({ contract, flags, TopButtonsOptions, buttonsOptions });\r\n   }\r\n\r\n   handleOnSubmit = () => {\r\n      let errors = this.validateFields();\r\n      this.setState({ errors: errors || {} });\r\n\r\n      let formProcess = true;\r\n      let formVisible = false;\r\n\r\n      this.setState({ formProcess, formVisible });\r\n\r\n      if(errors) \r\n      {\r\n         console.log(errors);\r\n         let formProcess = false;\r\n         let formVisible = true;\r\n\r\n         this.setState({ formProcess, formVisible });\r\n\r\n         toast.error(errors, \r\n            {\r\n               position: toast.POSITION.TOP_RIGHT,\r\n               autoClose: 10000,\r\n               hideProgressBar: false,\r\n               closeOnClick: true,\r\n               pauseOnHover: true,\r\n               draggable: true\r\n            });\r\n\r\n   \r\n         return;\r\n      }\r\n\r\n      if(this.state.flags.isAdd)\r\n      {\r\n          // Adding a new contract...\r\n          addContract(this.state.contract.ProjectName, this.state.contract)\r\n              .then(result => {\r\n\r\n                  if(result.Success === 'Ok')\r\n                  {\r\n                      let flags = {...this.state.flags};\r\n                      flags.isAdd = false;\r\n                      flags.isEdit = false;\r\n                         \r\n                      let formProcess = false;\r\n                      let formVisible = true;\r\n              \r\n                      this.setState({ result, flags, formProcess, formVisible });\r\n                      \r\n                      toast.success('New Contract Saved Successfully.', \r\n                      {\r\n                          position: toast.POSITION.TOP_RIGHT,\r\n                          autoClose: 5000,\r\n                          hideProgressBar: false,\r\n                          closeOnClick: true,\r\n                          pauseOnHover: true,\r\n                          draggable: true\r\n                      });\r\n\r\n                      // hide the top buttons\r\n                      let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n                      TopButtonsOptions.addButton.showAdd = true;\r\n                      TopButtonsOptions.editButton.showEdit = true;\r\n\r\n                      // show the bottom buttons\r\n                      let buttonsOptions = {...this.state.buttonsOptions};\r\n                      buttonsOptions.saveButton.showSave = false;\r\n                      buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                      this.setState({ TopButtonsOptions, buttonsOptions });\r\n                  }\r\n                  else\r\n                  {\r\n                      let contract = {};\r\n                      let flags = {...this.state.flags};\r\n                      flags.isAdd = false;\r\n                      flags.isEdit = false;\r\n\r\n                      let formProcess = false;\r\n                      let formVisible = true;\r\n\r\n                      this.setState({ contract, flags, result, formProcess, formVisible });\r\n\r\n                      toast.error('New Job Card was not Saved Successfully!\\n'+result.FailReason, \r\n                      {\r\n                          position: toast.POSITION.TOP_RIGHT,\r\n                          autoClose: 5000,\r\n                          hideProgressBar: false,\r\n                          closeOnClick: true,\r\n                          pauseOnHover: true,\r\n                          draggable: true\r\n                      });\r\n\r\n                      // hide the top buttons\r\n                      let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n                      TopButtonsOptions.addButton.showAdd = true;\r\n                      TopButtonsOptions.editButton.showEdit = true;\r\n\r\n                      // show the bottom buttons\r\n                      let buttonsOptions = {...this.state.buttonsOptions};\r\n                      buttonsOptions.saveButton.showSave = false;\r\n                      buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                      this.setState({ TopButtonsOptions, buttonsOptions });\r\n                  }\r\n              })\r\n              .catch(err => {\r\n                  let contract = {};\r\n                  let flags = {...this.state.flags};\r\n                  flags.isAdd = false;\r\n                  flags.isEdit = false;\r\n\r\n                  let formProcess = false;\r\n                  let formVisible = true;\r\n          \r\n                  this.setState({ errors: err, contract, flags, formProcess, formVisible });\r\n                  toast.error('Error occured!\\n'+err, \r\n                      {\r\n                          position: toast.POSITION.TOP_RIGHT,\r\n                          autoClose: 5000,\r\n                          hideProgressBar: false,\r\n                          closeOnClick: true,\r\n                          pauseOnHover: true,\r\n                          draggable: true\r\n                      });\r\n\r\n                  // hide the top buttons\r\n                  let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n                  TopButtonsOptions.addButton.showAdd = true;\r\n                  TopButtonsOptions.editButton.showEdit = true;\r\n\r\n                  // show the bottom buttons\r\n                  let buttonsOptions = {...this.state.buttonsOptions};\r\n                  buttonsOptions.saveButton.showSave = false;\r\n                  buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                  this.setState({ TopButtonsOptions, buttonsOptions });\r\n              }); \r\n      }\r\n      else if(this.state.flags.isEdit)\r\n      {\r\n         // Updating existing contract...\r\n         updateContract(this.state.contract.ProjectName, this.state.contract)\r\n            .then(result => {\r\n\r\n               console.log(result);\r\n               \r\n               if(result.Success === 'Ok')\r\n               {\r\n                  let flags = {...this.state.flags};\r\n                  flags.isAdd = false;\r\n                  flags.isEdit = false;\r\n                     \r\n                  let formProcess = false;\r\n                  let formVisible = true;\r\n            \r\n                  this.setState({ result, flags, formProcess, formVisible });\r\n                  \r\n                  toast.success('New Contract Saved Successfully.', \r\n                  {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                  });\r\n\r\n                  // hide the top buttons\r\n                  let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n                  TopButtonsOptions.addButton.showAdd = true;\r\n                  TopButtonsOptions.editButton.showEdit = true;\r\n\r\n                  // show the bottom buttons\r\n                  let buttonsOptions = {...this.state.buttonsOptions};\r\n                  buttonsOptions.saveButton.showSave = false;\r\n                  buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                  this.setState({ TopButtonsOptions, buttonsOptions });\r\n               }\r\n               else\r\n               {\r\n                  let contract = {};\r\n                  let flags = {...this.state.flags};\r\n                  flags.isAdd = false;\r\n                  flags.isEdit = false;\r\n\r\n                  let formProcess = false;\r\n                  let formVisible = true;\r\n\r\n                  this.setState({ contract, flags, result, formProcess, formVisible });\r\n\r\n                  toast.error('New Job Card was not Saved Successfully!\\n'+result.FailReason, \r\n                  {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                  });\r\n\r\n                  // hide the top buttons\r\n                  let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n                  TopButtonsOptions.addButton.showAdd = true;\r\n                  TopButtonsOptions.editButton.showEdit = true;\r\n\r\n                  // show the bottom buttons\r\n                  let buttonsOptions = {...this.state.buttonsOptions};\r\n                  buttonsOptions.saveButton.showSave = false;\r\n                  buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                  this.setState({ TopButtonsOptions, buttonsOptions });\r\n               }\r\n            })\r\n            .catch(err => {\r\n               let contract = {};\r\n               let flags = {...this.state.flags};\r\n               flags.isAdd = false;\r\n               flags.isEdit = false;\r\n\r\n               let formProcess = false;\r\n               let formVisible = true;\r\n      \r\n               this.setState({ errors: err, contract, flags, formProcess, formVisible });\r\n               toast.error('Error occured!\\n'+err, \r\n                  {\r\n                        position: toast.POSITION.TOP_RIGHT,\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true\r\n                  });\r\n\r\n               // hide the top buttons\r\n               let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n               TopButtonsOptions.addButton.showAdd = true;\r\n               TopButtonsOptions.editButton.showEdit = true;\r\n\r\n               // show the bottom buttons\r\n               let buttonsOptions = {...this.state.buttonsOptions};\r\n               buttonsOptions.saveButton.showSave = false;\r\n               buttonsOptions.cancelButton.showCancel = false;\r\n\r\n               this.setState({ TopButtonsOptions, buttonsOptions });\r\n            }); \r\n      }\r\n   }\r\n\r\n   handleOnCancel = () => {\r\n      let contract = {\r\n         Description: '',\r\n         ProjectName: '',\r\n         Services: [],\r\n         contCode: '',\r\n         contName: '',\r\n         contactEmails: '',\r\n         contactPerson: '',\r\n         effectDate: '',\r\n         expiryDate: '',\r\n         prjCode: ''\r\n      };\r\n\r\n      this.setState({ contract });\r\n\r\n      let flags = {...this.state.flags};\r\n      flags.isAdd = false;\r\n      flags.isEdit = false;\r\n\r\n      let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n      TopButtonsOptions.addButton.showAdd = true;\r\n      TopButtonsOptions.editButton.showEdit = false;\r\n\r\n      let buttonsOptions = {...this.state.buttonsOptions};\r\n      buttonsOptions.saveButton.showSave = false;\r\n      buttonsOptions.cancelButton.showCancel= false;\r\n\r\n      // check if Selected Prj and Selected Contract exists...\r\n      if(this.state.selectedProject !== '' && this.state.selectedContract !== '')\r\n      {\r\n         this.setState({ formProcess: true });\r\n         getProjectsContractDoc(this.state.selectedProject, this.state.selectedContract)\r\n            .then(result => {\r\n               contract = {...result.Result};\r\n               this.setState({ contract, formProcess: false });\r\n            })\r\n            .catch(error => {\r\n               console.log(error);\r\n               this.setState({ formProcess: false });\r\n            });\r\n         \r\n         TopButtonsOptions.editButton.showEdit = true;\r\n \r\n      }\r\n\r\n      this.setState({ contract, flags, TopButtonsOptions, buttonsOptions });\r\n   }\r\n\r\n   handleEdit = () => {\r\n      // hide the top buttons...\r\n      let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n      TopButtonsOptions.addButton.showAdd = false;\r\n      TopButtonsOptions.editButton.showEdit = false;\r\n\r\n      // show the bottom buttons...\r\n      let buttonsOptions = {...this.state.buttonsOptions};\r\n      buttonsOptions.saveButton.showSave = true;\r\n      buttonsOptions.cancelButton.showCancel = true;\r\n\r\n      let flags = {...this.state.flags};\r\n      flags.isAdd = false;\r\n      flags.isEdit = true;\r\n\r\n      this.setState({ flags, TopButtonsOptions, buttonsOptions });\r\n      \r\n   }\r\n\r\n   handleOnDetailsChange = (event) => {\r\n      const {name, value} = event.currentTarget;\r\n   \r\n      let contract = {...this.state.contract};\r\n      contract[name] = value;\r\n\r\n      this.setState({ contract });\r\n   }\r\n\r\n   handleOnProjectsChange = (event) => {\r\n      if(this.state.flags.isAdd === true)\r\n      {\r\n         const {value} = event.currentTarget;\r\n         let contract = this.state.contract;\r\n\r\n         contract.ProjectName = value;\r\n\r\n         this.setState({ contract });\r\n\r\n         return;\r\n      }\r\n\r\n      this.setState({ formProcess: true });\r\n      \r\n      const {value} = event.currentTarget;\r\n\r\n      \r\n\r\n      if(this.state.flags.isAdd)\r\n      {      \r\n         let contract = {...this.state.contract};\r\n         contract.ProjectName = value;\r\n   \r\n         this.setState({ contract });\r\n      }\r\n      else {\r\n         this.setState({ contract: {\r\n                         Description: '',\r\n                         ProjectName: '',\r\n                         Services: [],\r\n                         contCode: '',\r\n                         contName: '',\r\n                         contactEmails: '',\r\n                         contactPerson: '',\r\n                         effectDate: '',\r\n                         expiryDate: '',\r\n                         prjCode: ''\r\n                        } });\r\n         getProjectsContractsList(value)\r\n            .then(result => {\r\n               console.log(result.Result);\r\n               let contractsList = [];\r\n               result.Result.map(r => {\r\n                  contractsList.push({Name: r});\r\n               });\r\n\r\n               this.setState({ contractsList, selectedProject: value, \r\n                               formProcess: false });\r\n            })\r\n            .catch(error => {\r\n               console.log(error);\r\n               this.setState({ formProcess: false });\r\n            })\r\n      }\r\n   }\r\n\r\n   handleOnContractChange = (event) => {\r\n      this.setState({ formProcess: true });\r\n      const { value } = event.currentTarget;\r\n      const { selectedProject } = this.state;\r\n      \r\n      getProjectsContractDoc(selectedProject, value)\r\n         .then(result => {\r\n            let contract = result.Result;\r\n            let TopButtonsOptions = {...this.state.TopButtonsOptions};\r\n            TopButtonsOptions.editButton.showEdit = true;\r\n\r\n            let ed = new Date(contract.effectDate);\r\n            let xd = new Date(contract.expiryDate);\r\n            console.log(ed - xd);\r\n\r\n            this.setState({ contract, formProcess: false, TopButtonsOptions, selectedContract: value });\r\n         })\r\n         .catch(error => {\r\n            console.log(error);\r\n            this.setState({ formProcess: false });\r\n         })\r\n   }\r\n\r\n   handleOnChange = (name, value, index) => {\r\n      let contract = {...this.state.contract};\r\n      contract.Services[index][name] = value;\r\n\r\n      if(name === 'manfeestype')\r\n      {\r\n         const { subcontracted, subcontValue, manfeestype } = contract.Services[index];\r\n         if(subcontracted)\r\n         {\r\n            if(manfeestype === '%')\r\n            {\r\n               contract.Services[index].manfeesvalue = (subcontValue * 10) / 100;\r\n               contract.Services[index].quotedValue = parseFloat(contract.Services[index].manfeesvalue) +\r\n                  parseFloat(contract.Services[index].subcontValue);\r\n            }\r\n         }   \r\n      }\r\n      else if(name === 'manfeesvalue')\r\n      {\r\n         const { subcontracted, subcontValue, manfeestype } = contract.Services[index];\r\n         if(subcontracted)\r\n         {\r\n            contract.Services[index].quotedValue = parseFloat(contract.Services[index].manfeesvalue) +\r\n                  parseFloat(contract.Services[index].subcontValue);\r\n         } \r\n         else {\r\n            contract.Services[index].quotedValue = parseFloat(contract.Services[index].manfeesvalue);\r\n         }\r\n         \r\n      }\r\n\r\n      this.setState({ contract });\r\n   }\r\n\r\n   // handleOnSubContValueChange = (e) => {\r\n   //    const { subcontracted, subcontValue, manfeestype } = this.props.service;\r\n   //    if(subcontracted)\r\n   //    {\r\n   //       if(manfeestype === '%')\r\n   //       {\r\n   //          let manfeesvalue = (subcontValue * e.currentTarget.value) / 100;\r\n   //          console.log(manfeesvalue);\r\n   //       }\r\n   //    }\r\n   // }\r\n\r\n   handleOnServiceAdded = () => {\r\n      let contract = {...this.state.contract};\r\n      let service = {...this.state.service};\r\n      contract.Services.push(service);\r\n\r\n      this.setState({ contract });\r\n   }\r\n\r\n   componentDidMount = () => {\r\n      this.setState({ formProcess: true });\r\n      getServicesList()\r\n         .then(result => {\r\n               let servicesList = [...result.Result];\r\n               this.setState({ servicesList });\r\n         });\r\n         \r\n      getProjectsList()\r\n         .then(result => {\r\n               let projectsList = [];\r\n               result.Result.map(r => {\r\n                  projectsList.push({Name: r});\r\n               });\r\n\r\n               this.setState({ projectsList });\r\n               this.setState({ formProcess: false });\r\n         });\r\n   }\r\n\r\n   constructor(props) {\r\n      super(props);\r\n\r\n      const token = sessionStorage['token'];\r\n      const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n\r\n      if(!token || !this.props.menuVisible)\r\n      {\r\n          props.history.push('/');\r\n          return ;\r\n      }\r\n      else\r\n      {\r\n          this.state.uprofile = uprofile;\r\n      }\r\n   };\r\n\r\n   render() {\r\n      const { errors } = this.state;\r\n\r\n      return (\r\n         <React.Fragment>\r\n            <div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n               <TitlePageHeader title=\"Contract Definition\" \r\n                  bgColor=\"white\" color=\"gray\" />\r\n\r\n            <ToolsBar buttonsOptions={this.state.TopButtonsOptions} />\r\n            <div style={{height:\"2vh\"}} ></div>\r\n            <img src={processing} \r\n                  width=\"30vw\" \r\n                  alt=\"processing\" \r\n                  className={this.state.formProcess ? \"\" : \"hidden\"} \r\n                  style={{marginTop: \"2vh\"}} />\r\n   \r\n               <div className='row'>\r\n                  <div className='col-md-6'>\r\n                     <DropDownList name='ProjectName' \r\n                        label='Projects'  \r\n                        values={this.state.projectsList} \r\n                        onChange={this.handleOnProjectsChange} \r\n                        flgDisabled={this.state.flags.isEdit} \r\n                        defValue={this.state.contract.ProjectName}\r\n                        error={errors.ProjectName ? errors.ProjectName : \"\"} \r\n                     />\r\n                  </div>\r\n                  <div className='col-md-6'>\r\n                     <DropDownList name='ContractsList' \r\n                        label='Contracts'  \r\n                        values={this.state.contractsList} \r\n                        onChange={this.handleOnContractChange} \r\n                        flgDisabled={this.state.flags.isEdit || this.state.flags.isAdd}\r\n                        error={errors.ContractList ? errors.ContractList : \"\"} \r\n                     />\r\n                  </div>\r\n               </div>\r\n               <div className='row'>\r\n                  <div className='col-md-6'>\r\n                     <Input \r\n                        name='contName'\r\n                        label='Contract Name'\r\n                        type=\"text\"\r\n                        onChange={this.handleOnDetailsChange} \r\n                        flgDisabled={!this.state.flags.isEdit && !this.state.flags.isAdd}\r\n                        value={this.state.contract.contName}\r\n                        error={errors.contName ? errors.contName : \"\"}\r\n                     />\r\n                  </div>\r\n                  <div className='col-md-6'>\r\n                     <Input \r\n                        name=\"contCode\"\r\n                        label=\"Contract Code\"\r\n                        type=\"text\"\r\n                        onChange={this.handleOnDetailsChange} \r\n                        value={this.state.contract.contCode}\r\n                        flgDisabled={!this.state.flags.isEdit && !this.state.flags.isAdd}\r\n                        error={errors.contCode ? errors.contCode : \"\"}\r\n                     />\r\n                  </div>\r\n               </div>\r\n               <div className='row'>\r\n                  <div className='col-md-6'>\r\n                     <Input \r\n                        name='contactPerson'\r\n                        label='Contact Person'\r\n                        type=\"text\"\r\n                        onChange={this.handleOnDetailsChange} \r\n                        value={this.state.contract.contactPerson}\r\n                        flgDisabled={!this.state.flags.isEdit && !this.state.flags.isAdd}\r\n                        error={errors.contactPerson ? errors.contactPerson : \"\"}\r\n                     />\r\n                  </div>\r\n                  <div className='col-md-6'>\r\n                     <Input \r\n                        name=\"contactEmails\"\r\n                        label=\"Contact Email\"\r\n                        type=\"text\"\r\n                        onChange={this.handleOnDetailsChange} \r\n                        value={this.state.contract.contactEmails}\r\n                        flgDisabled={!this.state.flags.isEdit && !this.state.flags.isAdd}\r\n                        error={errors.contactEmails ? errors.contactEmails : \"\"}\r\n                     />\r\n                  </div>\r\n               </div>\r\n               <div className='row'>\r\n                  <div className='col-md-6'>\r\n                     <Input \r\n                        name='effectDate'\r\n                        label='Effective Date'\r\n                        type=\"date\"\r\n                        onChange={this.handleOnDetailsChange} \r\n                        value={this.state.contract.effectDate}\r\n                        flgDisabled={!this.state.flags.isEdit && !this.state.flags.isAdd}\r\n                        error={errors.effectDate ? errors.effectDate : \"\"}\r\n                     />\r\n                  </div>\r\n                  <div className='col-md-6'>\r\n                     <Input \r\n                        name=\"expiryDate\"\r\n                        label=\"Expiry Date\"\r\n                        type=\"date\"\r\n                        onChange={this.handleOnDetailsChange} \r\n                        value={this.state.contract.expiryDate}\r\n                        flgDisabled={!this.state.flags.isEdit && !this.state.flags.isAdd}\r\n                        error={errors.expiryDate ? errors.expiryDate : \"\"}\r\n                     />\r\n                  </div>\r\n               </div>\r\n               <TextArea \r\n                  name=\"Description\"\r\n                  label=\"Contract Details\"\r\n                  rows=\"7\"\r\n                  onChange={this.handleOnDetailsChange} \r\n                  value={this.state.contract.Description}\r\n                  flgDisabled={!this.state.flags.isEdit && !this.state.flags.isAdd}\r\n                  error={errors.Description ? errors.Description : \"\"}\r\n               />\r\n\r\n               <hr style={{borderColor: \"gray\", boxShadow: \"2px 1px 2px gray\"}} />\r\n\r\n               <div >\r\n                  <div className='row' >\r\n                     <div className=\"col-md-1\">\r\n                        <div className='row'>\r\n                           <div className='col-md-12' style={{height: \"45px\"}}></div>\r\n                        </div>\r\n                        {this.state.contract.Services.map((s, index) => {\r\n                           return (\r\n                              <div key={index} className='row'>\r\n                                 <div className='col-md-12' style={{height: \"35px\"}}></div>\r\n                              </div>\r\n                           )\r\n                        })}\r\n                        <div className='row'>\r\n                           <div className=\"col-md-12\">\r\n                              <button onClick={this.handleOnServiceAdded} \r\n                                 className={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"hidden\"}>\r\n                                 <FontAwesomeIcon icon=\"plus\"></FontAwesomeIcon>\r\n                              </button>\r\n                           </div>\r\n                        </div>\r\n                     </div>\r\n                     <div className=\"col-md-11\">\r\n                        <div className='row' style={servicesStyle}>\r\n                           <div className='row'>\r\n                              <div className='col-md-2' style={{fontWeight: 'bold'}}>\r\n                                 {\"Service\"}\r\n                              </div>\r\n                              <div className='col-md-1'  style={{fontWeight: 'bold'}}>\r\n                                 {\"Subcontracted?\"}   \r\n                              </div>\r\n                              <div className='col-md-2'  style={{fontWeight: 'bold'}}>\r\n                                 {\"SC Value\"}\r\n                              </div>\r\n                              <div className='col-md-1'  style={{fontWeight: 'bold'}}>\r\n                                 {\"Fees Type\"}\r\n                              </div>\r\n                              <div className='col-md-2'  style={{fontWeight: 'bold'}}>\r\n                                 {\"Fees Value\"}\r\n                              </div>\r\n                              <div className='col-md-2'  style={{fontWeight: 'bold'}}>\r\n                                 {\"Manpower\"}\r\n                              </div>\r\n                              <div className='col-md-2'  style={{fontWeight: 'bold'}}>\r\n                                 {\"Total Value\"}\r\n                              </div>\r\n                           </div>\r\n                           {\r\n                              this.state.contract.Services.map((s, index) => {\r\n                                 return <ServiceRow key={s} id={index} \r\n                                          service={s} onChange={this.handleOnChange}\r\n                                          servList={this.state.servicesList}\r\n                                          flags={this.state.flags}\r\n                                          />\r\n                              })\r\n                           }\r\n                           <div style={{height: \"3vh\"}}>\r\n                              <hr />\r\n                           </div>\r\n                           \r\n                           <div className='row'>\r\n                              <div className='col-md-8'>\r\n                              </div>\r\n                              <div className='col-md-2'  style={{fontWeight: 'bold', textAlign: \"right\"}}>\r\n                                 {\"Subtotal\"}\r\n                              </div>\r\n                              <div className='col-md-2'  style={{fontWeight: 'bold', textAlign: \"right\"}}>\r\n                                 {this.caclSubtotal()}\r\n                              </div>\r\n                           </div>\r\n                           \r\n                           <div style={{height: \"3vh\"}}>\r\n                              <hr />\r\n                           </div>\r\n                           \r\n                           <div className='row'>\r\n                              <div className='col-md-8'>\r\n                              </div>\r\n                              <div className='col-md-2'  style={{fontWeight: 'bold', textAlign: \"right\"}}>\r\n                                 {\"Total Contract Value\"}\r\n                              </div>\r\n                              <div className='col-md-2'  style={{fontWeight: 'bold', textAlign: \"right\"}}>\r\n                                 {this.calcContractValue()}\r\n                              </div>\r\n                           </div>\r\n                        </div>\r\n                     </div>\r\n                  </div>  \r\n               </div>\r\n\r\n               <img src={processing} \r\n                     width=\"60vw\" \r\n                     alt=\"processing\" \r\n                     className={this.state.formProcess ? \"\" : \"hidden\"} \r\n                     style={{marginTop: \"2vh\"}} />\r\n\r\n               <ToolsBar buttonsOptions={this.state.buttonsOptions} />\r\n               <ToastContainer />\r\n            </div>\r\n         </React.Fragment>\r\n      );\r\n   }\r\n\r\n   caclSubtotal = () => {\r\n      let subtotal = 0;\r\n      this.state.contract.Services.map(s => {\r\n         subtotal += parseFloat(s.quotedValue);\r\n      });\r\n      return subtotal.toFixed(3);\r\n   }\r\n\r\n   calcContractValue = () => {\r\n      const { effectDate, expiryDate } = this.state.contract;\r\n      let subtotal = 0;\r\n      this.state.contract.Services.map(s => {\r\n         subtotal += parseFloat(s.quotedValue);\r\n      });\r\n\r\n      let time = new Date(expiryDate) - new Date(effectDate);\r\n      let months = Math.round(time / 1000/60/60/24/30);\r\n      \r\n      console.log(months)\r\n      return (subtotal * months).toFixed(3);\r\n   }\r\n   \r\n}\r\n\r\n\r\nexport default ContractDef;\r\n\r\nconst servicesStyle = {\r\n   backgroundColor: 'lightgray', \r\n   borderRadius: \"25px\", \r\n   paddingTop: \"5px\", \r\n   paddingLeft: \"10px\",\r\n   paddingRight: \"10px\",\r\n   paddingBottom: \"5px\",\r\n   margin: \"0\"\r\n}\r\n","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getPrjContPlan = (pName, cName) => {\r\n    // This function returns the maintenance plan of Contract Under a\r\n    // Given Project document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params:\r\n    // 1. Contract's Name\r\n    // 2. Project's Name\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    var prjDb = db.collection('Projects').doc(pName).collection('Contracts').doc(cName);\r\n    \r\n    // check if a document exists for the mentioned project/Contract...\r\n    return prjDb.collection('Plans').doc(pName+'.'+cName+'.Plan').get()\r\n      .then((snapshot) => {\r\n        // if snapshot exists, return the plan...\r\n        if(snapshot.exists)\r\n        {\r\n          // Couldn't find document for the mentioned contract...\r\n          // Return FailReason...\r\n          funcSuccess = 'Ok';\r\n          funcResult = snapshot.data().Plans;\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: \"\",\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n        else {\r\n\r\n          // Couldn't find document for the mentioned contract...\r\n          // Return FailReason...\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n\r\n          var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: \"No Maintenance Plans were found. Returning empty list.\",\r\n            Error: funcError,\r\n            Warning: funcWarning };\r\n\r\n          return funcReturn;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      });\r\n};\r\n\r\nexport const getProjectsList = () => {\r\n  // This function gets an existing asset documen under Contract\r\n  // under project of a Client.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  \r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n  \r\n  var db = firebase.firestore();\r\n  var servicesDb = db.collection('Projects');\r\n  \r\n  return servicesDb.get()\r\n      .then((snapshot) => {\r\n      let projects = [];\r\n  \r\n      if(snapshot.docs.length > 0) {\r\n          \r\n          snapshot.forEach(docService => {\r\n          projects.push(docService.data().prjName);\r\n          });\r\n  \r\n          funcSuccess = 'Ok';\r\n          funcResult = projects;\r\n      }\r\n      else {\r\n          funcSuccess = 'No';\r\n          funcResult = projects;\r\n          funcFailReason = 'No Projects found. Returning empty list.';\r\n      }\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      });\r\n};\r\n\r\nexport const getProjectsContractsList = (prjName, contName) => {\r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n  \r\n  var db = firebase.firestore();\r\n  var servicesDb = db.collection('Projects').doc(prjName).collection('Contracts');\r\n  \r\n  return servicesDb.get()\r\n      .then((snapshot) => {\r\n      let contracts = [];\r\n  \r\n      if(snapshot.docs.length > 0) {\r\n          \r\n          snapshot.forEach(docService => {\r\n          contracts.push(docService.data().contName);\r\n          });\r\n  \r\n          funcSuccess = 'Ok';\r\n          funcResult = contracts;\r\n      }\r\n      else {\r\n          funcSuccess = 'No';\r\n          funcResult = contracts;\r\n          funcFailReason = 'No Contracts found. Returning empty list.';\r\n      }\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      })\r\n      .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = [];\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n  \r\n      var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: funcFailReason,\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n  \r\n      return funcReturn;\r\n      });\r\n};\r\n\r\nexport const updatePrjContPlans = (pName, cName, plans) => {\r\n  // This function adds or updates a maintenance plan of Contract Under a\r\n  // Given Project document.\r\n  //\r\n  // A document exists if it has fields. Collections within the document\r\n  // do not mean it exist if it has no fields.\r\n  //\r\n  // The function accepts no params:\r\n  // 1. Contract's Name\r\n  // 2. Project's Name\r\n  // 3. Mainetance Plan JSON stringified object\r\n  //\r\n  \r\n  var funcSuccess = \"\";\r\n  var funcResult = \"\";\r\n  var funcError = \"\";\r\n  var funcWarning = \"\";\r\n  var funcFailReason = \"\";\r\n\r\n  var db = firebase.firestore();\r\n  var prjDb = db.collection('Projects').doc(pName).collection('Contracts').doc(cName);\r\n\r\n  // check if a document exists for the mentioned project/Contract...\r\n  return prjDb.get()\r\n    .then((snapshot) => {\r\n      // if snapshot exists, add/update the plan...\r\n      if(snapshot.exists)\r\n      {\r\n        var dataPlan = {\r\n          Plans: plans\r\n        }\r\n        return prjDb.collection('Plans').doc(pName+'.'+cName+'.'+'Plan').set(dataPlan);\r\n      }\r\n      else {\r\n\r\n        // Couldn't find document for the mentioned contract...\r\n        // Return FailReason...\r\n        funcSuccess = 'No';\r\n        funcResult = {};\r\n\r\n        var funcReturn = {\r\n          Success: funcSuccess,\r\n          Result: funcResult,\r\n          FailReason: \"Contract was not found. Adding Maintenance Plans Aborted.\",\r\n          Error: funcError,\r\n          Warning: funcWarning };\r\n\r\n        return funcReturn;\r\n      }\r\n    })\r\n    .then((result) => {\r\n      funcSuccess = 'Ok';\r\n      funcResult = result;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n      funcSuccess = 'No';\r\n      funcResult = {};\r\n      funcFailReason = 'Error';\r\n      funcError = err.message;\r\n\r\n      var funcReturn = {\r\n        Success: funcSuccess,\r\n        Result: funcResult,\r\n        FailReason: funcFailReason,\r\n        Error: funcError,\r\n        Warning: funcWarning };\r\n\r\n      return funcReturn;\r\n    });\r\n};","import React, { Component } from 'react';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport Input, { DropDownList } from '../../common/input';\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport Chart from \"react-google-charts\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport Joi from 'joi-browser';\r\n\r\nimport processing from '../../images/processing.gif';\r\n\r\nimport { getPrjContPlan, getProjectsList, \r\n         getProjectsContractsList, updatePrjContPlans } from '../../appcode/jobplanner';\r\nimport { getPrjServices } from '../../appcode/mastprjserv';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass JobPlanner extends Component {\r\n    state = {\r\n        uprofile: {},\r\n        plans: [],\r\n        columns: [],\r\n        rows: [],\r\n        servicesList: [{Name: \"MEP\"} , {Name:\"Landscaping\"}],\r\n        projectsList: [],\r\n        contractsList: [],\r\n        selectedPrj: '',\r\n        selectedCont: '',\r\n        selectedPlan: -1,\r\n        selectedPPlan: -1,\r\n        servicePlans: {\r\n            Plans: [],\r\n            ServiceName: '',\r\n            periodsPanelID: null\r\n        },\r\n        plan: {\r\n            fromDate: \"\",\r\n            toDate: \"\",\r\n            title: \"\"\r\n        },\r\n\r\n        formProcess: false,\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: false,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            editButton: {\r\n                showEdit: false,\r\n                onEdit: () => this.handleEdit()\r\n            },\r\n            saveButton: {\r\n                showSave: false,\r\n                onSave: () => this.handleOnSave()\r\n            },\r\n            cancelButton: {\r\n                showCancel: false,\r\n                onCancel: () => this.handleCnacel()\r\n            },\r\n            searchButton: {\r\n                showSearch: false\r\n            }\r\n        },\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n\r\n        propsPanel: {\r\n            chartPnaleClass: 'col-md-8',\r\n            propPanelVisible: true\r\n        },\r\n        errors: {}\r\n    }\r\n\r\n    schema = {\r\n        fromDate: Joi\r\n                    .date()\r\n                    .required()\r\n                    .label('Plan Starting Date'),\r\n        toDate: Joi\r\n                    .date().label('Plan Ending Date'),\r\n        title: Joi\r\n                    .string()\r\n                    .label('Service Title')\r\n    };\r\n    \r\n    columns = [\r\n        { type: \"string\", id: \"Service\" },\r\n        { type: \"string\", id: \"Title\"},\r\n        { type: \"date\", id: \"Start\" },\r\n        { type: \"date\", id: \"End\" }\r\n      ];\r\n    \r\n    rows = [\r\n            [\"Washington\", new Date(1789, 3, 30), new Date(1795, 2, 4)],\r\n            [\"Washington\", new Date(1797, 2, 15), new Date(1798, 2, 4)],\r\n            [\"Badih\", new Date(1791, 3, 30), new Date(1794, 1, 4)],\r\n            [\"Badih\", new Date(1794, 8, 15), new Date(1798, 2, 4)]\r\n    \r\n    ];\r\n\r\n    componentDidMount = () => {\r\n        this.setState({ formProcess: true });\r\n\r\n        getProjectsList()\r\n            .then(result => {\r\n                let projectsList = [];\r\n\r\n                result.Result.map(r => {\r\n                    projectsList.push({Name: r});\r\n                });\r\n\r\n                this.setState({ projectsList });\r\n                this.setState({ formProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.setState({ formProcess: false });\r\n            });\r\n\r\n        getPrjServices()\r\n            .then(result => {\r\n                let servicesList = [];\r\n\r\n                if(result.Success)\r\n                {\r\n                    result.Result.map(r => {\r\n                        servicesList.push({Name: r.Description});\r\n                    });\r\n                }\r\n                else\r\n                {\r\n\r\n                }\r\n\r\n                this.setState({ servicesList });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                // let servicesList = [];\r\n            });\r\n\r\n        // getPrjContPlan(\"Barr Al Jissah Residence\", \"Common area\")\r\n        //     .then(result => {\r\n        //         let plans = [...result.Result];\r\n        //         let rows = [];\r\n        //         plans.map(p => {\r\n        //             p.Plans.map(pp => {\r\n        //                 rows.push([p.ServiceName, pp.title, new Date(pp.fromDate), new Date(pp.toDate)]);\r\n        //             })\r\n        //         });\r\n\r\n        //         this.setState({plans, rows});\r\n        //     })\r\n        //     .catch(error => {\r\n        //         console.log(error);\r\n        //     })\r\n    }\r\n\r\n    handleProjectsClick = (event) => {\r\n        let { value } = event.currentTarget;\r\n        if(value === '') \r\n        {\r\n            let plans = [];\r\n            let rows = [];\r\n            let selectedPrj = '';\r\n            let selectedCont = '';\r\n\r\n            this.setState({ plans, rows, selectedPrj, selectedCont });\r\n            \r\n            return;\r\n        }\r\n\r\n        this.setState({ formProcess: true });\r\n                \r\n        getProjectsContractsList(value)\r\n            .then(result => {\r\n                let contractsList = [];\r\n\r\n                result.Result.map(r => {\r\n                    contractsList.push({Name: r});\r\n                });\r\n\r\n                this.setState({ contractsList, selectedPrj: value, selectedCont: '' });\r\n                this.setState({ formProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.setState({ formProcess: false, selectedPrj: '', selectedCont: '' });\r\n            })\r\n    } \r\n\r\n    handleContractsClick = (event) => {\r\n        let { value } = event.currentTarget;\r\n        if(value === '') \r\n        {\r\n            let plans = [];\r\n            let rows = [];\r\n\r\n            this.setState({ plans, rows });\r\n\r\n            return;\r\n        }\r\n        this.setState({ formProcess: true });\r\n        \r\n        getPrjContPlan(this.state.selectedPrj, value)\r\n            .then(result => {\r\n                let plans = [];\r\n                if(result.Result.length > 0)\r\n                {\r\n                    plans = [...result.Result];\r\n                }\r\n\r\n                let rows = [];\r\n                if(plans.length > 0)\r\n                {\r\n                    plans.map(p => {\r\n                        p.Plans.map(pp => {\r\n                            console.log(new Date(pp.fromDate));\r\n                            rows.push([p.ServiceName, pp.title, new Date(pp.fromDate), new Date(pp.toDate)]);\r\n                        })\r\n                    });\r\n                }\r\n\r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                buttonsOptions.addButton.showAdd = true;\r\n\r\n                this.setState({ plans, rows, selectedCont: value, buttonsOptions });\r\n                this.setState({ formProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.setState({ formProcess: false, selectedCont: '' });\r\n            })\r\n\r\n    } \r\n\r\n    handleAdd = () => {\r\n        let servicePlans = {\r\n            Plans: [],\r\n            ServiceName: '',\r\n            periodsPanelID: null\r\n                \r\n        }\r\n\r\n        let plan = {\r\n            fromDate: '',\r\n            toDate: '',\r\n            title: ''\r\n        }\r\n\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.editButton.showEdit = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n        \r\n        this.setState({ servicePlans, plan, flags, buttonsOptions });\r\n    }\r\n\r\n    handleCnacel = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        // if Add, clear all plan flieds and disable them...\r\n        if(flags.isAdd)\r\n        {\r\n            let servicePlans = {...this.state.servicePlans};\r\n            let plan = {...this.state.plan};\r\n            \r\n            servicePlans.ServiceName = '';\r\n            servicePlans.Plans = [];\r\n            plan = {\r\n                fromDate: '',\r\n                toDate: '',\r\n                title: ''\r\n            }\r\n\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n\r\n            let buttonsOptions = {...this.state.buttonsOptions};\r\n            buttonsOptions.addButton.showAdd = true;\r\n            buttonsOptions.editButton.showEdit = false;\r\n            buttonsOptions.saveButton.showSave = false;\r\n            buttonsOptions.cancelButton.showCancel = false;\r\n\r\n            this.setState({ servicePlans, plan, flags, buttonsOptions });\r\n        }\r\n        else\r\n        {\r\n            let servicePlans = {...this.state.servicePlans};\r\n            let plan = {...this.state.plan};\r\n            \r\n            servicePlans.ServiceName = '';\r\n            servicePlans.Plans = [];\r\n            plan = {\r\n                fromDate: '',\r\n                toDate: '',\r\n                title: ''\r\n            }\r\n\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n\r\n            let buttonsOptions = {...this.state.buttonsOptions};\r\n            buttonsOptions.addButton.showAdd = true;\r\n            buttonsOptions.editButton.showEdit = false;\r\n            buttonsOptions.saveButton.showSave = false;\r\n            buttonsOptions.cancelButton.showCancel = false;\r\n\r\n            this.setState({ servicePlans, plan, flags, buttonsOptions });\r\n        }\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        let { name, value } = event.currentTarget;\r\n\r\n        if(name === 'ServiceName')\r\n        {\r\n            let servicePlans = {...this.state.servicePlans};\r\n\r\n            let service = this.state.plans.find(p => {\r\n                return p.ServiceName === value;\r\n            });\r\n\r\n            if(service)\r\n            {\r\n                if(service.Plans.find(p => {\r\n                    return (p.fromDate === this.state.plan.fromDate && p.title.localeCompare(this.state.plan.title) === 0)\r\n                }))\r\n                {\r\n                    toast.warn('Similar service plan already exists!',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                }\r\n            }\r\n\r\n            servicePlans.ServiceName = value;\r\n\r\n            this.setState({ servicePlans });\r\n        }\r\n        else\r\n        {\r\n            let plan = {...this.state.plan};\r\n\r\n            let service = this.state.plans.find(p => {\r\n                return p.ServiceName === this.state.servicePlans.ServiceName;\r\n            });\r\n\r\n            if(service)\r\n            {\r\n                if(service.Plans.find(p => {\r\n                    return (p.fromDate === value && p.title.localeCompare(plan.title) === 0)\r\n                }))\r\n                {\r\n                    toast.warn('Similar service plan already exists!',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                }\r\n            }\r\n\r\n            plan[name] = value;\r\n\r\n            this.setState({ plan });\r\n        }\r\n    }\r\n\r\n    validateFields = () => {\r\n        let errors = {};\r\n\r\n        if(this.state.servicePlans.ServiceName === '')\r\n        {\r\n            errors['ServiceName'] = 'Service Name is required';\r\n        }\r\n\r\n        let result = Joi.validate(this.state.plan, this.schema, { abortEarly: false });\r\n        \r\n        if(!result.error && this.state.servicePlans.ServiceName !== '') return null;\r\n\r\n        for(let item of result.error.details)\r\n            errors[item.path[0]] = item.message;\r\n\r\n        if(Object.keys(errors).length === 0) return null;\r\n        return errors;\r\n    };\r\n\r\n    handleOnSave = () => {\r\n        let errors = this.validateFields();\r\n        this.setState({ errors: errors || {} });\r\n\r\n        let formProcess = true;\r\n        let formVisible = false;\r\n\r\n        this.setState({ formProcess, formVisible });\r\n\r\n        if(errors) \r\n        {\r\n            let formProcess = false;\r\n            let formVisible = true;\r\n\r\n            this.setState({ formProcess, formVisible });\r\n            return;\r\n        }\r\n\r\n        let flags = {...this.state.flags};\r\n        const { servicePlans, plan, selectedCont, selectedPrj } = this.state;\r\n\r\n        this.setState({ formProcess: true });\r\n\r\n        if(flags.isAdd)\r\n        {\r\n\r\n            // locate the service in the plans array \r\n            // and push it into the Plans array...\r\n            let plans = [...this.state.plans];\r\n            let index = plans.findIndex(p => {\r\n                return p.ServiceName === servicePlans.ServiceName;\r\n            });\r\n            \r\n            if(index !== -1)\r\n            {\r\n                plans[index].Plans.push(plan);\r\n                console.log(index, plan);\r\n\r\n            }\r\n            else\r\n            {\r\n                // Service is not added to this Plans array...\r\n                // Create service object and push it into plans...\r\n                servicePlans.Plans.push(plan);\r\n                plans.push(servicePlans);\r\n                console.log('Added new service: ', plan);\r\n            }\r\n\r\n            console.log(\"Plans: \", plans);\r\n            // update the database...\r\n            updatePrjContPlans(selectedPrj, selectedCont, plans)\r\n                .then(result => {\r\n                    console.log(result);\r\n\r\n                    let rows = [];\r\n                    if(plans.length > 0)\r\n                    {\r\n                        plans.map(p => {\r\n                            p.Plans.map(pp => {\r\n                                rows.push([p.ServiceName, pp.title, Date(pp.fromDate), Date(pp.toDate)]);\r\n                            })\r\n                        });\r\n                    }\r\n    \r\n                    // adjust flags... \r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    // adjust buttons... \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                    this.setState({ formProcess: false, flags, buttonsOptions, rows, plans });\r\n                })\r\n                .then(result => {\r\n                    getPrjContPlan(this.state.selectedPrj, this.state.selectedCont)\r\n                        .then(result => {\r\n                            let plans = [];\r\n                            if(result.Result.length > 0)\r\n                            {\r\n                                plans = [...result.Result];\r\n                            }\r\n\r\n                            let rows = [];\r\n                            if(plans.length > 0)\r\n                            {\r\n                                plans.map(p => {\r\n                                    p.Plans.map(pp => {\r\n                                        rows.push([p.ServiceName, pp.title, new Date(pp.fromDate), new Date(pp.toDate)]);\r\n                                    })\r\n                                });\r\n                            }\r\n\r\n                            let buttonsOptions = {...this.state.buttonsOptions};\r\n                            buttonsOptions.addButton.showAdd = true;\r\n\r\n                            this.setState({ plans, rows, buttonsOptions });\r\n                            this.setState({ formProcess: false });\r\n                        })\r\n                        .catch(error => {\r\n                            console.log(error);\r\n                            this.setState({ formProcess: false, selectedCont: '' });\r\n                        })\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n\r\n                    let rows = [];\r\n                    if(plans.length > 0)\r\n                    {\r\n                        plans.map(p => {\r\n                            p.Plans.map(pp => {\r\n                                let fd = new Date(pp.fromDate).getDate(), \r\n                                    fm = new Date(pp.fromDate).getMonth() + 1,\r\n                                    fy = new Date(pp.fromDate).getFullYear(),\r\n                                    td = new Date(pp.toDate).getDate(),\r\n                                    tm = new Date(pp.toDate).getMonth() + 1,\r\n                                    ty = new Date(pp.toDate).getFullYear();\r\n\r\n                                rows.push([p.ServiceName, pp.title, new Date(fy, fm, fd), new Date(ty, tm, td)]);\r\n                            })\r\n                        });\r\n                    }\r\n    \r\n                    // adjust flags... \r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    // adjust buttons... \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                    this.setState({ formProcess: false, flags, buttonsOptions, rows });\r\n                });\r\n        }\r\n        else\r\n        {\r\n            // isEdit === true\r\n            // locate the service in the plans array \r\n            // and push it into the Plans array...\r\n            let plans = [...this.state.plans];\r\n            const { selectedPlan, selectedPPlan } = this.state;\r\n\r\n            plans[selectedPlan].Plans[selectedPPlan] = {...plan};\r\n            \r\n            // update the database...\r\n            updatePrjContPlans(selectedPrj, selectedCont, plans)\r\n                .then(result => {\r\n                    console.log(result);\r\n\r\n                    let rows = [];\r\n                    if(plans.length > 0)\r\n                    {\r\n                        plans.map(p => {\r\n                            p.Plans.map(pp => {\r\n                                let fd = new Date(pp.fromDate).getDate(), \r\n                                    fm = new Date(pp.fromDate).getMonth() + 1,\r\n                                    fy = new Date(pp.fromDate).getFullYear(),\r\n                                    td = new Date(pp.toDate).getDate(),\r\n                                    tm = new Date(pp.toDate).getMonth() + 1,\r\n                                    ty = new Date(pp.toDate).getFullYear();\r\n\r\n                                rows.push([p.ServiceName, pp.title, new Date(fy, fm, fd), new Date(ty, tm, td)]);\r\n                            })\r\n                        });\r\n                    }\r\n    \r\n                    // adjust flags... \r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    // adjust buttons... \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                    this.setState({ formProcess: false, flags, buttonsOptions, rows });\r\n                })\r\n                .then(result => {\r\n                    getPrjContPlan(this.state.selectedPrj, this.state.selectedCont)\r\n                        .then(result => {\r\n                            let plans = [];\r\n                            if(result.Result.length > 0)\r\n                            {\r\n                                plans = [...result.Result];\r\n                            }\r\n\r\n                            let rows = [];\r\n                            if(plans.length > 0)\r\n                            {\r\n                                plans.map(p => {\r\n                                    p.Plans.map(pp => {\r\n                                        rows.push([p.ServiceName, pp.title, new Date(pp.fromDate), new Date(pp.toDate)]);\r\n                                    })\r\n                                });\r\n                            }\r\n\r\n                            let buttonsOptions = {...this.state.buttonsOptions};\r\n                            buttonsOptions.addButton.showAdd = true;\r\n\r\n                            this.setState({ plans, rows, buttonsOptions });\r\n                            this.setState({ formProcess: false });\r\n                        })\r\n                        .catch(error => {\r\n                            console.log(error);\r\n                            this.setState({ formProcess: false, selectedCont: '' });\r\n                        })\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n\r\n                    let rows = [];\r\n                    if(plans.length > 0)\r\n                    {\r\n                        plans.map(p => {\r\n                            p.Plans.map(pp => {\r\n                                rows.push([p.ServiceName, pp.title, new Date(pp.fromDate), new Date(pp.toDate)]);\r\n                            })\r\n                        });\r\n                    }\r\n    \r\n                    // adjust flags... \r\n                    flags.isAdd = false;\r\n                    flags.isEdit = false;\r\n\r\n                    // adjust buttons... \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.editButton.showEdit = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n\r\n                    this.setState({ formProcess: false, flags, buttonsOptions, rows });\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n    handleEdit = () => {\r\n        // set the flags... \r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n\r\n        // set the buttons... \r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.editButton.showEdit = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n\r\n        this.setState({ flags, buttonsOptions });\r\n    }\r\n\r\n    handleOnPlanClick = (key) => {\r\n        let ServiceName = key.split('_')[0]; \r\n        let index = key.split('_')[1];\r\n\r\n        let plans = [...this.state.plans];\r\n\r\n        let planIndex = plans.findIndex(p => {\r\n            return p.ServiceName.localeCompare(ServiceName) === 0; \r\n        });\r\n        if(planIndex !== -1)\r\n        {\r\n            let servicePlans = {...plans[planIndex]};\r\n            let plan = {...plans[planIndex].Plans[index]};\r\n            let buttonsOptions = {...this.state.buttonsOptions};\r\n            buttonsOptions.editButton.showEdit = true;\r\n\r\n            this.setState({ servicePlans, plan, selectedPlan: planIndex, selectedPPlan: index });\r\n\r\n            \r\n        }\r\n    }\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title='Job Planner' bgColor='white' color='gray' />\r\n\r\n                <div className='row' style={rowStyle}>\r\n                    <div className={this.state.propsPanel.chartPnaleClass} style={columnStyle}>\r\n                    <Chart\r\n                        chartType=\"Timeline\"\r\n                        data={[this.columns, ...this.state.rows]}\r\n                        width=\"300%\"\r\n                        height=\"300px\"\r\n                        loader={<div>Loading Chart</div>}\r\n                        chartPackage={['controls']}\r\n                        chartEvents={this.state.chart_events}\r\n                        graph_id=\"plansTimeline\"\r\n                        options={{\r\n                            showRowNumber: true,\r\n                            hAxis: {\r\n                                minValue: new Date(2019, 1, 1),\r\n                                maxValue: new Date(2019, 12, 31),\r\n                                format: \"dd/MM/yyyy\"\r\n                            }\r\n                        }} />\r\n                    <hr style={hrStyle} />\r\n                    <div >\r\n                        <table className=\"table table-striped table-hover\" style={{width: \"100%\"}}>\r\n                            <thead>\r\n                                <tr class=\"success\">\r\n                                    <th>Service Name</th>\r\n                                    <th>Service Title</th>\r\n                                    <th>From Date</th>\r\n                                    <th>To Date</th>\r\n                                    <th></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.state.plans.map(p => {\r\n                                    return p.Plans.map((pp, index) => {\r\n                                        return <tr key={p.ServiceName+index} >\r\n                                            <td>{p.ServiceName}</td>\r\n                                            <td>{pp.title}</td>\r\n                                            <td>{pp.fromDate}</td>\r\n                                            <td>{pp.toDate}</td>\r\n                                            <td>\r\n                                                <button \r\n                                                    onClick={() => this.handleOnPlanClick(p.ServiceName+'_'+index)}>\r\n                                                    <FontAwesomeIcon icon=\"edit\"></FontAwesomeIcon>\r\n                                                </button></td>\r\n                                        </tr>\r\n                                    });\r\n                                })}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    </div>\r\n                    <div className={'col-md-1 ' + (!this.state.propsPanel.propPanelVisible ? \"\" : \"hidden\")}\r\n                         style={propColumnStyle}>\r\n                        <div style={{width: \"100%\", marginBottom: \"15px\"}}>\r\n                            <div className='row'>\r\n                                <div className='col-md-1'>\r\n                                    <div onClick={() => { this.handleToggleProperties(); }}>\r\n                                        <FontAwesomeIcon icon='angle-double-left'></FontAwesomeIcon>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='col-md-11'>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={'col-md-4 ' + (this.state.propsPanel.propPanelVisible ? \"\" : \"hidden\")} \r\n                         style={propColumnStyle}>\r\n                        <div style={{width: \"100%\", marginBottom: \"15px\"}}>\r\n                            <div className='row'>\r\n                                <div className='col-md-1'>\r\n                                    <div onClick={() => { this.handleToggleProperties(); }}>\r\n                                        <FontAwesomeIcon icon='angle-double-right'></FontAwesomeIcon>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='col-md-10'>\r\n                                    <ToolsBar buttonsOptions={this.state.buttonsOptions} />\r\n                                </div>\r\n                                <div className='col-md-1'>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <img src={processing} \r\n                            width=\"40vw\" \r\n                            alt=\"processing\" \r\n                            className={this.state.formProcess ? \"\" : \"hidden\"} \r\n                            style={{marginTop: \"2vh\"}} />\r\n\r\n                        <DropDownList name=\"Projects\" label=\"Project\" \r\n                            values={this.state.projectsList}\r\n                            onChange={this.handleProjectsClick} \r\n                            defValue={this.state.selectedPrj}\r\n                            flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} />\r\n                        <DropDownList name=\"Contracts\" label=\"Contract\" \r\n                            values={this.state.contractsList}\r\n                            onChange={this.handleContractsClick}\r\n                            defValue={this.state.selectedCont}\r\n                            flgDisabled={this.state.flags.isAdd || this.state.flags.isEdit} />\r\n                        <DropDownList name=\"ServiceName\" label=\"Service\" \r\n                            values={this.state.servicesList}\r\n                            onChange={this.handleOnChange}\r\n                            defValue={this.state.servicePlans.ServiceName}\r\n                            flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit} \r\n                            error={errors.ServiceName ? errors.ServiceName : \"\"} />\r\n                        <Input name=\"title\" label=\"Service Title\"\r\n                            value={this.state.plan.title}\r\n                            onChange={this.handleOnChange}\r\n                            error={errors.title ? errors.title : \"\"}\r\n                            flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit} />\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <Input type=\"date\" label=\"From Date\" \r\n                                    name=\"fromDate\"\r\n                                    value={this.state.plan.fromDate}\r\n                                    onChange={this.handleOnChange}\r\n                                    error={errors.fromDate ? errors.fromDate : \"\"}\r\n                                    flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit} />\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <Input type=\"date\" label=\"to Date\" \r\n                                    name=\"toDate\" \r\n                                    value={this.state.plan.toDate}\r\n                                    onChange={this.handleOnChange}\r\n                                    error={errors.toDate ? errors.toDate : \"\"}\r\n                                    flgDisabled={!this.state.flags.isAdd && !this.state.flags.isEdit} />\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n                <ToastContainer />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    handleToggleProperties = () => {\r\n        const { propsPanel } = this.state;\r\n\r\n        if(propsPanel.propPanelVisible)\r\n        {\r\n            propsPanel.propPanelVisible = false;\r\n            propsPanel.chartPnaleClass = 'col-md-11';\r\n        }\r\n        else\r\n        {\r\n            propsPanel.propPanelVisible = true;\r\n            propsPanel.chartPnaleClass = 'col-md-8';\r\n        }\r\n\r\n        this.setState({ propsPanel });\r\n    }\r\n}\r\n\r\nexport default JobPlanner;\r\n\r\nconst columnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"68vh\",\r\n    overflow: 'auto'\r\n}\r\n\r\nconst propColumnStyle = {\r\n    paddingTop: \"15px\",\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"68vh\",\r\n    backgroundColor: 'lightgray',\r\n    overflow: 'auto'\r\n}\r\n\r\nconst rowStyle = {\r\n    marginLeft: \"1vw\",\r\n    marginRight: \"1vw\"\r\n}\r\n\r\nconst hrStyle = {\r\n    borderColor: 'gray',\r\n    boxShadow: \"2px 1px lightgray\"\r\n}","import React, { Component } from 'react';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport Input from '../../common/input';\r\nimport processing from '../../images/processing.gif';\r\n\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth'; \r\nimport 'firebase/firestore';\r\n\r\nconst auth = firebase.auth();\r\nconst db = firebase.firestore();\r\n\r\nclass Login extends Component {\r\n    state = {\r\n        credentials: {\r\n            useremail: '',\r\n            password: ''\r\n        },\r\n        user: {},\r\n        formProcess: false,\r\n        errorMessage: ''\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        const credentials = {...this.state.credentials};\r\n        credentials[e.currentTarget.name] = e.currentTarget.value;\r\n        this.setState({ credentials });\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        const {useremail, password} = this.state.credentials;\r\n        const { history } = this.props;\r\n\r\n        this.setState({ formProcess: true });\r\n\r\n        this.props.updateToken(\"\");\r\n        auth.signInWithEmailAndPassword(useremail, password)\r\n            .then(result => {\r\n                // localStorage['token'] = result.user.refreshToken;\r\n                sessionStorage['token'] = result.user.refreshToken;\r\n                this.setState({ user: result.user }); \r\n                this.props.updateToken(result.user.refreshToken);\r\n                const usersDb = db.collection('Users').doc('docUsers').collection('colUsers');\r\n                return usersDb.where(\"UID\", \"==\", result.user.uid).get();\r\n            })\r\n            .then(snapshot => {\r\n                if(snapshot.docs.length > 0)\r\n                {\r\n                    this.props.onSuccessfulSignin(snapshot.docs[0].data());\r\n                    const uprof = {uid: this.state.user.uid, ...snapshot.docs[0].data()};\r\n                    sessionStorage.setItem('uprofile', JSON.stringify(uprof));\r\n                    this.setState({ formProcess: false });\r\n                    history.push('/fms/dashboard');\r\n                }\r\n                else {\r\n                    console.log(snapshot);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log('Unsucessful', error);\r\n                this.setState({ errorMessage: error.message, formProcess: false });\r\n                sessionStorage.clear();\r\n                \r\n            });                    \r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.props.onSignOut();\r\n    }\r\n    \r\n    render() {\r\n      return (\r\n        <React.Fragment>\r\n            <TitlePageHeader title=\"Log-in to the system\" bgColor=\"white\" color=\"gray\" />\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4\"></div>\r\n                <div className=\"col-md-4\" style={formStyle}>\r\n                    <Input  name=\"useremail\" \r\n                            label=\"User Email\"\r\n                            onChange={this.handleChange} />\r\n                    <Input  name=\"password\" \r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            onChange={this.handleChange} />\r\n                    <hr />\r\n                    <button className=\"btn btn-primary btn-sm\" \r\n                            style={{width: \"100%\"}}\r\n                            onClick={this.handleSubmit} >Log-in</button>                    \r\n\r\n                    <img src={processing} \r\n                            width=\"40vw\" \r\n                            alt=\"processing\" \r\n                            className={this.state.formProcess ? \"\" : \"hidden\"} \r\n                            style={{marginTop: \"2vh\"}} />\r\n                    <div className={\"row \" + (this.state.errorMessage !== '' ? \"\" : \"hidden\")}> \r\n                        <div className=\"col-md-12\">\r\n                            <hr />\r\n                            <label style={errorMsgStyle}>{this.state.errorMessage}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-4\"></div>\r\n            </div>\r\n        </React.Fragment>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Login;\r\n\r\nconst formStyle = {\r\n    borderWidth: \"1\",\r\n    borderStyle: \"solid\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    padding: \"15px\"\r\n}\r\n\r\nconst errorMsgStyle = {\r\n    color: \"red\",\r\n    fontStyle: \"italic\"\r\n}","import React, { Component } from 'react';\r\n\r\nString.prototype.formatDate = function (format, separator) {\r\n    let sDt = this;\r\n    let aDt = (sDt.split('-').length > 1) ? sDt.split('-') : sDt.split('/');\r\n    let fOpt = (sDt.split('-').length > 1) ? 1 : 2;\r\n    let f = format.split(separator);\r\n\r\n    let nDD=(fOpt === 1) ? (aDt[2].split(' '))[0] : aDt[1], \r\n        nMM=(fOpt === 1) ? aDt[1] : aDt[0], \r\n        nYYYY=(fOpt === 1) ? aDt[0] : (aDt[2].split(' '))[0],\r\n        nDt = \"\";\r\n\r\n    switch(f[0])\r\n    {\r\n        case 'dd':\r\n            nDt = nDD + separator;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt = nMM + separator;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt = nMM + separator;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt = nYYYY + separator;\r\n            break;\r\n\r\n    }\r\n\r\n    switch(f[1])\r\n    {\r\n        case 'dd':\r\n            nDt += nDD + separator;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt += nMM + separator;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt += nMM + separator;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt += nYYYY + separator;\r\n            break;\r\n\r\n    }\r\n\r\n    switch(f[2])\r\n    {\r\n        case 'dd':\r\n            nDt += nDD;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt += nMM;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt += nMM;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt += nYYYY;\r\n            break;\r\n\r\n    }\r\n      \r\n    return nDt;\r\n}\r\n\r\n\r\nclass TicketsList extends Component {\r\n   render() {\r\n       const { tickets, onTicketClick } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <table className=\"table table-striped table-hover\" \r\n                    style={{fontSize: \"0.75vw\"}}>\r\n                    <thead>\r\n                        <tr className=\"info\">\r\n                            <th style={{width: \"10%\"}}>Ticket #</th>\r\n                            <th style={{width: \"10%\"}}>Date</th>\r\n                            <th style={{textAlign: \"center\"}}>Client</th>\r\n                            <th style={{textAlign: \"center\"}}>Project</th>\r\n                            <th>Subject</th>\r\n                            <th style={{width: \"10%\", textAlign: \"center\"}}>Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {tickets.map((t, index) => {\r\n                            return <tr key={index} onClick={() => onTicketClick(index)}>\r\n                                <td style={{textAlign: \"center\"}}>{t.TicketNum}</td>\r\n                                <td style={{textAlign: \"center\"}}>{t.OpeningDT.formatDate('dd-mm-yyyy', '-')}</td>\r\n                                <td style={{textAlign: \"left\"}}>{t.ClientName}</td>\r\n                                <td style={{textAlign: \"left\"}}>{t.ProjectName}</td>\r\n                                <td style={{textAlign: \"left\"}}>{t.Subject}</td>\r\n                                <td style={{textAlign: \"center\"}}>{t.TicketStatus}</td>\r\n                            </tr>\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </React.Fragment>\r\n        );\r\n   }\r\n}\r\n\r\nexport default TicketsList;","import React, { Component, useState, useEffect } from 'react';\r\nimport Input, { DropDownList, TextArea, TextAreaEnh } from '../../common/input';\r\nimport { getJobCardListOfProject, getJobCardDoc } from '../../appcode/mainjobcards';\r\n\r\nclass TicketForm extends Component {\r\n    state = {\r\n        status: [\r\n            {Name: \"Open\"},\r\n            {Name: \"In Progress\"},\r\n            {Name: \"Closed\"}\r\n        ]\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const {  AttendedBy, ClientName, ClosedBy, \r\n                ClosingDT, ComplCat, ContractName, \r\n                Details, Duration, FileAttach, OpeningDT, \r\n                ProjectName, ReportedBy, ReportedOn, Subject, \r\n                TicketStatus, tsOpeningDT, TicketNum \r\n            } = this.props.ticket;\r\n\r\n        const { clientsList, projectsList, \r\n                contractsList, compleCatList, \r\n                flags, openedBy } = this.props;\r\n\r\n      return (\r\n        <React.Fragment>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\" style={{padding: \"0\"}}>\r\n                    <div className=\"col-md-4\">\r\n                        <Input name=\"TicketNumber\" \r\n                            label=\"Ticket Number\" \r\n                            value={TicketNum}\r\n                            flgDisabled={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                        <Input name=\"OpeningDT\" \r\n                            label=\"Opening Date\" \r\n                            value={OpeningDT}\r\n                            flgDisabled={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                        <DropDownList name=\"TicketStatus\" \r\n                            label=\"Ticket Status\" \r\n                            values={this.state.status}\r\n                            defValue={TicketStatus}\r\n                            flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                    <DropDownList name=\"ClientName\"\r\n                        label=\"Client Name\"\r\n                        flgDisabled={false}\r\n                        values={clientsList}\r\n                        onChange={this.props.onClientChange}\r\n                        defValue={ClientName}\r\n                        // flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                    />\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                    <DropDownList name=\"ProjectName\"\r\n                        label=\"Project Name\"\r\n                        flgDisabled={false}\r\n                        values={projectsList}\r\n                        onChange={this.props.onProjectChange}\r\n                        defValue={ProjectName}\r\n                        // flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                    />\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                    <DropDownList name=\"ContractName\"\r\n                        label=\"Contract Name\"\r\n                        flgDisabled={false}\r\n                        values={contractsList}\r\n                        onChange={this.props.onChange}\r\n                        defValue={ContractName}\r\n                        // flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                    />\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                    <DropDownList \r\n                        name=\"ComplCat\"\r\n                        label=\"Subject Category\"\r\n                        flgDisabled={false}\r\n                        defValue={ComplCat}\r\n                        values={compleCatList}\r\n                        onChange={this.props.onChange}\r\n                        // flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                    />\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                    <Input name=\"Subject\" label=\"Subject\"\r\n                        value={Subject} \r\n                        onChange={this.props.onChange}\r\n                        flgDisabled={!flags.isAdd && !flags.isEdit} />\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                    <TextArea name=\"Details\" label=\"Details\" rows=\"5\"\r\n                        value={Details} \r\n                        onChange={this.props.onChange}\r\n                        flgDisabled={!flags.isAdd && !flags.isEdit} />\r\n                </div>\r\n                <div className=\"col-md-12\">\r\n                    <Input name=\"userName\" label=\"Opened By\" rows=\"5\"\r\n                        value={openedBy} \r\n                        flgDisabled={true} />\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n      );\r\n   }\r\n}\r\n\r\nexport const ReplyForm = (props) => {\r\n    const { Details, FileAttachement, RepliedBy, tsReplyDT } = props.reply;\r\n    const { ProjectName } = props.ticket;\r\n    const { onChange, onFileSelect } = props;\r\n    const [ jcListVisible, setjcListVisible ] = useState(false);\r\n    const [ jcList, setjcList ] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getJobCardListOfProject(ProjectName)\r\n        .then(returnedResult => {\r\n            setjcList([...returnedResult.Result]);\r\n        });\r\n    }, []);\r\n\r\n    const handleOnClick = (jcNum) => {\r\n        getJobCardDoc(jcNum)\r\n            .then(returnedResult => {\r\n                const { jcDate, jcTime, jcDetails, jcStatus,  } = returnedResult.Result;\r\n                let newText = `<b>Job Card Details:</b><br /><b>JC Number:</b> ${jcNum}<br /><b>JC Date/Time:</b> ${jcDate} ${jcTime}<br /><b>Details:</b><br />${jcDetails}<br /><b>JC Status:</b> ${jcStatus}`;\r\n\r\n                onChange(\"Details\", newText);\r\n                setjcListVisible(false);\r\n\r\n            })\r\n    }\r\n\r\n    const handleCloseList = () => {\r\n        setjcListVisible(false);\r\n    }\r\n\r\n    const onReplyChange = (event) => {\r\n        const { name, value } = event.currentTarget;\r\n\r\n        let words = value.split(' ');\r\n        let lastWord = words[words.length - 1];\r\n        let newText = value;\r\n\r\n        if(lastWord == '#')\r\n        {\r\n            newText = value; //String.fromCodePoint(Ux1F501);\r\n            setjcListVisible(true);\r\n        }\r\n\r\n        onChange(name, newText);\r\n    }\r\n\r\n    const onReplyChangeCED = (name, value) => {\r\n        // const { name, value } = event.currentTarget;\r\n\r\n        // let words = value.split(' ');\r\n        // let lastWord = words[words.length - 1];\r\n        let newText = value;\r\n\r\n        // if(lastWord == '#')\r\n        // {\r\n        //     newText = value; //String.fromCodePoint(Ux1F501);\r\n        //     setjcListVisible(true);\r\n        // }\r\n\r\n        onChange(\"Details\", newText);\r\n    }\r\n\r\n    const onInputCED = (value) => {\r\n        // const { name, value } = event.currentTarget;\r\n\r\n        let words = value.split(' ');\r\n        let lastWord = words[words.length - 1];\r\n        let newText = value;\r\n\r\n        if(lastWord == '#')\r\n        {\r\n            newText = value; //String.fromCodePoint(Ux1F501);\r\n            setjcListVisible(true);\r\n        }\r\n\r\n        // onChange(\"Details\", newText);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"row\" style={{paddingLeft: \"0.75vw\", paddingRight: \"0.75vw\"}}>\r\n                <div className=\"col-md-12\">\r\n                    <Input name=\"tsReplyDT\" \r\n                        label=\"Reply Timestamp\"\r\n                        value={tsReplyDT}\r\n                        flgDisabled={true}\r\n                    />\r\n                    <Input name=\"RepliedBy\" \r\n                        label=\"Replied By\"\r\n                        value={RepliedBy}\r\n                        flgDisabled={true}\r\n                    />\r\n                    {\r\n                        jcListVisible ? <JCList jcList={jcList} onClick={handleOnClick} onClose={handleCloseList} /> : null\r\n                    }\r\n                    {/* <TextArea name=\"Details\" \r\n                        label=\"Reply Details\"\r\n                        value={Details}\r\n                        flgDisabled={false}\r\n                        onChange={onReplyChange}\r\n                        rows=\"5\"\r\n                    /> */}\r\n                    <TextAreaEnh name=\"Details\"\r\n                        label=\"Reply Details\"\r\n                        value={Details}\r\n                        flgDisabled={true}\r\n                        onChange={onReplyChangeCED}\r\n                        onInput={onInputCED}\r\n                    />\r\n                    <Input name=\"FileSelect\" \r\n                        type=\"file\"\r\n                        label=\"Select File\" \r\n                        onChange={onFileSelect}\r\n                        flgDisabled={false}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nconst JCList = (props) => {\r\n    return (\r\n        <div style={{position: \"absolute\", \r\n                    width: \"150px\", height: \"125px\", \r\n                    // marginLeft: \"2px\", marginRight: \"2px\",\r\n                    border: \"solid 1px black\", \r\n                    backgroundColor: \"white\",\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    overflowY: \"scroll\"}}>\r\n            <div style={{width: \"100%\", backgroundColor: \"lightgray\", display: \"flex\", flexDirection: \"row\"}}>\r\n                <div style={{width: \"85%\"}}><strong>Job Cards</strong></div>\r\n                <div style={{cursor: \"pointer\"}} onClick={props.onClose}><strong>X</strong></div>\r\n            </div>\r\n            {props.jcList.map(jc => {\r\n                return (\r\n                    <div style={{width: \"100%\"}} \r\n                        onClick={() => props.onClick(jc.jcNumber)}>\r\n                        {jc.jcNumber + \" \" + jc.jcDate}</div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TicketForm;","import emailjs from '@emailjs/browser';\r\n\r\nexport const EmailType = {\r\n    NEW_TKT: 'new_ticket_001',\r\n    REPLY_TKT: 'ticket_action_001'\r\n}\r\n\r\nexport const sendEmail = (templateParams, emailType, emailServiceID, emailServiceUserID) => {    \r\n    return emailjs.send(emailServiceID, \r\n                        emailType, templateParams, \r\n                        emailServiceUserID);\r\n}","import { firebase } from '../constants/firebase';\r\nimport { EmailType, sendEmail } from './emailservice';\r\nimport { fromHtmlEntities, toHtmlEntities } from './general-use';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\n\r\nexport const getTicketsList = async () => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var ticketsDb = db.collection('HelpDesk');\r\n\r\n    var tickets = [];\r\n\r\n    return ticketsDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docTicket) => {\r\n                tickets.push({...docTicket.data(), TicketNum: docTicket.id});\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = tickets;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Tickets were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getComplCat = async () => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var ticketsDb = db.collection('Dependencies').doc('HelpDesk').collection('Categories');\r\n\r\n    var compleCatList = [];\r\n\r\n    return ticketsDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docTicket) => {\r\n                compleCatList.push(docTicket.data().categName);\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = compleCatList;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Ticket Categories were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getTicketReplies = async (ticketNum) => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var ticketsDb = db.collection('HelpDesk');\r\n\r\n    var replies = [];\r\n\r\n    return ticketsDb.doc(ticketNum).collection('Replies').get()\r\n    .then((snapshot) => {\r\n        \r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docReply) => {\r\n                let reply = {\r\n                    Details: fromHtmlEntities(docReply.data().Details),\r\n                    FileAttachment: docReply.data().FileAttachment,\r\n                    RepliedBy: docReply.data().RepliedBy,\r\n                    replyId: docReply.id\r\n                }\r\n\r\n                replies.push(reply);\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = replies;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Replies were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addTicketSupport = (ticket, uprofile) => {\r\n    // This function creates a new Ticket document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n\r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n    \r\n    var newticket = {...ticket};\r\n\r\n    var ticketcounter = 0;\r\n    let clContEmail = '';\r\n\r\n    let emailComponents = {\r\n        ticket_number: \"\",\r\n        subject: \"\",\r\n        date_time: \"\",\r\n        opened_by: \"\",\r\n        cl_prj_cont: \"\",\r\n        subj_cat: \"\",\r\n        subject: \"\",\r\n        details: \"\",\r\n        from_name: 'Experts Service Management',\r\n        email_to: '',\r\n        email_from: '',\r\n        reply_to: ''\r\n    }\r\n\r\n    // get the tickets counter from the Dependencies/HelpDesk document...\r\n    return db.collection('Dependencies').doc('HelpDesk').get()\r\n        .then(snapshot => {\r\n            ticketcounter = snapshot.data().TicketCounter;\r\n            newticket.TicketNum = 'AFMS' + ticketcounter.pad(6, '0');\r\n\r\n            return db.collection('HelpDesk').doc('AFMS' + ticketcounter.pad(6, '0')).set(newticket);\r\n        })\r\n        .then((setResult) => {\r\n\r\n            return db.collection('Dependencies').doc('HelpDesk').update({ TicketCounter: ticketcounter + 1 });\r\n\r\n        })\r\n        .then(retval => {\r\n            return db.collection('Inventory').doc('Assets').collection('Clients')\r\n                    .where('clName', '==', newticket.ClientName).get()\r\n        })\r\n        .then((snapshot) => {\r\n            clContEmail = snapshot.docs[0].data().clEmail;\r\n\r\n            // get the default email of the helpdesk\r\n            return db.collection('Dependencies').doc('HelpDesk').get();\r\n        })\r\n        .then(snapshot => {\r\n            let hdEmail = snapshot.data().email;\r\n            let emailServiceID = snapshot.data().emailServiceID;\r\n            let emailServiceUserID = snapshot.data().emailServiceUserID;\r\n            let obUserEmail = uprofile.email;\r\n\r\n            var newTNumber = {\r\n                TicketNumber: 'AFMS' + ticketcounter.pad(6, '0')\r\n            };\r\n\r\n            emailComponents.ticket_number = 'AFMS' + ticketcounter.pad(6, '0');\r\n            emailComponents.subject = newticket.Subject;\r\n            emailComponents.date_time = newticket.tsOpeningDT;\r\n            emailComponents.opened_by = newticket.ReportedBy;\r\n            emailComponents.cl_prj_cont = newticket.ClientName + \"\\\\\" + newticket.ProjectName + \"\\\\\" + newticket.ContractName;\r\n            emailComponents.subj_cat = newticket.ComplCat;\r\n            emailComponents.details = newticket.Details;\r\n            emailComponents.email_to = hdEmail + ', ' + obUserEmail + ', ' + clContEmail;\r\n            emailComponents.email_from = hdEmail;\r\n            emailComponents.reply_to = hdEmail;\r\n        \r\n            var funcReturn = {\r\n                Success: 'Ok',\r\n                Result: newTNumber.TicketNumber,\r\n                FailReason: '',\r\n                Error: '',\r\n                Warning: ''\r\n            };\r\n\r\n            return sendEmail(emailComponents, EmailType.NEW_TKT, emailServiceID, emailServiceUserID)\r\n                .then(result => {\r\n                    return funcReturn;\r\n                })\r\n                .catch(err => {\r\n                    funcResult.Warning = 'Email Sending Failure!';\r\n                    console.log('There was an error sending the email.', err);\r\n                    return funcReturn;\r\n                });\r\n\r\n        })\r\n        .catch((err) => {\r\n            funcSuccess = 'No';\r\n            funcResult = 'ERROR';\r\n            funcFailReason = 'Error';\r\n            funcError = err.message;\r\n            console.log('Error occured: ', err);\r\n            var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning\r\n            };\r\n\r\n            return funcReturn;\r\n        });\r\n};\r\n\r\nexport const postTicketReplySupport = (ticket, reply, status, uprofile) => {\r\n    // This function posts a new Ticket Reply document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n\r\n    console.log('postTicketReplySupport: ', reply);\r\n    var tn = ticket.TicketNum;\r\n    var rb = reply.RepliedBy;\r\n    var rdt = reply.tsReplyDT;\r\n    var rd = toHtmlEntities(reply.Details);\r\n    // var san = req.body.attachedfiles;\r\n\r\n\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n\r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n    \r\n    let clContEmail = '';\r\n\r\n    console.log('You passed FileAttachment as: ', reply.FileAttachment);\r\n\r\n    var newreply = {\r\n        RepliedBy: rb,\r\n        Details: rd,\r\n        FileAttachment: {...reply.FileAttachment},\r\n        tsReplyDT: new Date(rdt)\r\n    }\r\n\r\n    let emailComponents = {\r\n        ticket_number: \"\",\r\n        subject: \"\",\r\n        date_time: \"\",\r\n        opened_by: \"\",\r\n        cl_prj_cont: \"\",\r\n        subj_cat: \"\",\r\n        subject: \"\",\r\n        details: \"\",\r\n        from_name: 'Experts Service Management',\r\n        email_to: '',\r\n        email_from: '',\r\n        reply_to: ''\r\n    }\r\n\r\n    return db.collection('HelpDesk').doc(tn).collection('Replies').doc(reply.replyId).set(newreply)\r\n        .then (result => {\r\n            return db.collection('HelpDesk').doc(tn).update({ TicketStatus: status})\r\n        })\r\n        .then(retval => {\r\n            \r\n            return db.collection('HelpDesk').where('TicketNum', '==', tn).get()\r\n        })\r\n        .then(snapshot => {\r\n            // fetch the concerned client's record to get the client default email address\r\n            return db.collection('Inventory').doc('Assets').collection('Clients')\r\n                .where('clName', '==', snapshot.docs[0].data().ClientName).get()\r\n        })\r\n        .then((snapshot) => {\r\n            clContEmail = snapshot.docs[0].data().clEmail;\r\n\r\n            // get the default email of the helpdesk\r\n            return db.collection('Dependencies').doc('HelpDesk').get();\r\n        })\r\n        .then(snapshot => {\r\n            let hdEmail = snapshot.data().email;\r\n            let emailServiceID = snapshot.data().emailServiceID;\r\n            let emailServiceUserID = snapshot.data().emailServiceUserID;\r\n            let obUserEmail = uprofile.email;\r\n            \r\n            emailComponents.ticket_number = tn;\r\n            emailComponents.subject = ticket.Subject;\r\n            emailComponents.date_time = rdt;\r\n            emailComponents.opened_by = rb;\r\n            emailComponents.cl_prj_cont = ticket.ClientName + \"\\\\\" + ticket.ProjectName + \"\\\\\" + ticket.ContractName;\r\n            // emailComponents.subj_cat = newticket.ComplCat;\r\n            emailComponents.details = reply.Details;\r\n            emailComponents.email_to = hdEmail+ ', ' + obUserEmail + ', ' + clContEmail;\r\n            emailComponents.email_from = hdEmail;\r\n            emailComponents.reply_to = hdEmail;\r\n\r\n            var funcReturn = {\r\n                Success: 'Ok',\r\n                Result: {},\r\n                FailReason: '',\r\n                Error: '',\r\n                Warning: ''\r\n            };\r\n\r\n            return sendEmail(emailComponents, EmailType.REPLY_TKT, emailServiceID, emailServiceUserID)\r\n                .then(result => {\r\n                    return funcReturn;\r\n                })\r\n                .catch(err => {\r\n                    funcResult.Warning = 'Email Sending Failure!';\r\n                    console.log('There was an error sending the email.', err);\r\n                    return funcReturn;\r\n                });\r\n\r\n      })\r\n      .catch((err) => {\r\n          funcSuccess = 'No';\r\n          funcResult = {};\r\n          funcFailReason = 'Error';\r\n          funcError = err.message;\r\n\r\n          var funcReturn = {\r\n              Success: funcSuccess,\r\n              Result: funcResult,\r\n              FailReason: funcFailReason,\r\n              Error: funcError,\r\n              Warning: funcWarning\r\n          };\r\n\r\n          return funcReturn;\r\n      });\r\n\r\n};\r\n\r\nexport const getUserDisplayName = async (UID) => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var usersDb = db.collection('Users').doc('docUsers').collection('colUsers');\r\n\r\n    var users = [];\r\n\r\n    return usersDb.where('UID', '==', UID).get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docUser) => {\r\n                users.push(docUser.data().displayName);\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = users;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No matching UIDs were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\n","export const fromHtmlEntities = function(str) {\r\n    return (str+\"\").replace(/&#\\d+;/gm,function(s) {\r\n        return String.fromCharCode(s.match(/\\d+/gm)[0]);\r\n    })\r\n};\r\n\r\nexport const toHtmlEntities = function(str) {\r\n    return str.replace(/./gm, function(s) {\r\n        // return \"&#\" + s.charCodeAt(0) + \";\";\r\n        return (s.match(/[a-z0-9\\s]+/i)) ? s : \"&#\" + s.charCodeAt(0) + \";\";\r\n    });\r\n};\r\n\r\nexport const padNumWithChar = function (num, size, char) {\r\n    var s = String(num);\r\n    while (s.length < (size || 2)) { s = char + s; }\r\n    return s;\r\n}","import React, { Component } from 'react';\r\nimport { ReplyForm } from './ticketform';\r\nimport { getUserDisplayName } from '../../appcode/custcaretickets';\r\nimport { DropDownList } from '../../common/input';\r\nimport fileIcon from '../../images/fileIcon.png';\r\n\r\nclass TicketDetails extends Component {\r\n    \r\n    getUserName = (UID) => {\r\n        getUserDisplayName(UID)\r\n            .then(result => {\r\n                if(result.Success)\r\n                {\r\n                    return result.Result[0];\r\n                }\r\n                else\r\n                {\r\n                    return 'N/A'\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return 'N/A';\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const {  AttendedBy, ClientName, ClosedBy, \r\n            ClosingDT, ComplCat, ContractName, \r\n            Details, Duration, FileAttach, OpeningDT, \r\n            ProjectName, ReportedBy, ReportedOn, Subject, \r\n            TicketStatus, tsOpeningDT, userID,\r\n            TicketNum \r\n        } = this.props.ticket;\r\n\r\n        const { replies, reply, flags, onChange, onFileSelect } = this.props;\r\n    \r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\" style={{padding: \"0\", fontSize: '0.75vw'}}>\r\n                        <table className=\"table table-striped table-hover table-bordered\" >\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Ticket#:</td>\r\n                                    <td>{TicketNum}</td>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Opened On:</td>\r\n                                    <td>{OpeningDT}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Status:</td>\r\n                                    <td>\r\n                                        <select name='TicketStatus' \r\n                                                id='TicketStatus' \r\n                                                disabled={!flags.isReply}\r\n                                                onChange={(e) => {\r\n                                                    const name = 'TicketStatus';\r\n                                                    const value = e.currentTarget.value;\r\n                                                    onChange(name, value);\r\n                                                    }} \r\n                                                    style={{fontSize: '12px'}}\r\n                                                    value={TicketStatus}>\r\n                                            <option value=\"\"></option>\r\n                                            <option value='Open'>\r\n                                                Open\r\n                                            </option>\r\n                                            <option value='In Progress'>\r\n                                                In Progress\r\n                                            </option>\r\n                                            <option value='Closed'>\r\n                                                Closed\r\n                                            </option>\r\n                                        </select>\r\n\r\n                                    </td>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Reported By:</td>\r\n                                    <td>\r\n                                        {ReportedBy}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Client Name:</td>\r\n                                    <td >{ClientName}</td>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Project Name:</td>\r\n                                    <td >{ProjectName}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Contract Name:</td>\r\n                                    <td colSpan=\"3\">{ContractName}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Subject Category:</td>\r\n                                    <td colSpan=\"3\">{ComplCat}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Subject:</td>\r\n                                    <td colSpan=\"3\">{Subject}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>Details:</td>\r\n                                    <td colSpan=\"3\">{Details}</td>\r\n                                </tr>\r\n                                <tr className=\"info\">\r\n                                    <td colSpan=\"4\" >Replies</td>\r\n                                </tr>\r\n                                {(replies) ? replies.map((r, index) => {\r\n                                    return <tr key={index}>\r\n                                                <td style={{fontWeight: \"bold\", textAlign: \"left\"}}>{r.replyId}</td>\r\n                                                <td colSpan=\"3\" style={{textAlign: \"left\"}}>\r\n                                                    <div dangerouslySetInnerHTML={{__html: r.Details }} />\r\n                                                    <div>\r\n                                                        {/* display attached files here */}\r\n                                                        {\r\n                                                            r.FileAttachment != 'X' ? \r\n                                                            <AttachedFile file={r.FileAttachment} /> :\r\n                                                            ''\r\n                                                        }\r\n                                                    </div>\r\n                                                </td>\r\n                                            </tr>\r\n                                }): \"\"}\r\n                            </tbody>\r\n                        </table>\r\n                        <hr /> \r\n                        {flags.isReply ? <ReplyForm reply={reply} \r\n                                                    flags={flags} \r\n                                                    onChange={onChange} \r\n                                                    onFileSelect={onFileSelect}\r\n                                                    ticket={this.props.ticket} \r\n                                        /> : \"\"}\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst AttachedFile = (props) => {\r\n    return (\r\n        <div style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\"\r\n        }}>\r\n            <div style={{marginLeft: \"3px\", marginRight: \"3px\"}}>\r\n                <img src={fileIcon} height={\"30vw\"} />\r\n            </div>\r\n            <div style={{display: \"flex\", flexDirection: \"row\", \r\n                    alignContent: \"flex-end\", alignItems: \"flex-end\", \r\n                    justifyContent: \"center\"}}>\r\n                <a href={props.file.DownloadURL} target='_blank'>{props.file.FileName}</a>\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default TicketDetails;","import { firebase } from '../constants/firebase';\r\nimport 'firebase/storage';\r\nimport { resolve } from 'q';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getAttachmentsList = async () => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var storageDb = db.collection('StorageUploads').doc(\"Documents\").collection(\"Files\");\r\n\r\n    var attachments = [];\r\n\r\n    return storageDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docAttachment) => {\r\n                attachments.push({...docAttachment.data()});\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = attachments;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Attachments were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getClientAttachmentsList = async (client) => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    var storageDb = db.collection('StorageUploads').doc(\"Documents\").collection(\"Files\");\r\n\r\n    var attachments = [];\r\n\r\n    return storageDb.where(\"client\", \"==\", client).get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docAttachment) => {\r\n                attachments.push({...docAttachment.data()});\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = attachments;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Attachments were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const uploadAttachment = async (attachment, file) => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n    let client = attachment.client;\r\n\r\n    var db = firebase.firestore();\r\n    // var storage = firebase.storage();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n    let storageRef;\r\n    let task;\r\n\r\n    try{\r\n        storageRef = firebase.storage().ref('attachments/' + client + '/' + file.name);\r\n        \r\n        // Upload file\r\n        task = storageRef.put(file);\r\n\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n    }\r\n\r\n    \r\n    // update progress bar\r\n    return new Promise((resolve, reject) => {\r\n        task.on('state_changed',\r\n            function progress(snapshot) {\r\n                // const {bytesTransferred, totalBytes} = snapshot;\r\n\r\n                // var percentage = bytesTransferred * 100 / totalBytes ; \r\n                // uploader.value = percentage;\r\n                // console.log(percentage);\r\n            },\r\n\r\n            function error(err) {\r\n                funcSuccess = 'No';\r\n                funcResult = [];\r\n                funcFailReason = 'Error';\r\n                funcError = err.message;\r\n\r\n                var funcReturn = {\r\n                    Success: funcSuccess,\r\n                    Result: funcResult,\r\n                    FailReason: funcFailReason,\r\n                    Error: funcError,\r\n                    Warning: funcWarning\r\n                };\r\n\r\n                reject(funcReturn);\r\n            },\r\n\r\n            function complete() {\r\n                let DownloadURL = \"\";\r\n\r\n                task.snapshot.ref.getDownloadURL().then(function(dURL) {\r\n                    DownloadURL = dURL;\r\n\r\n                    attachment.DownloadURL = DownloadURL;\r\n                    attachment.UploadDate = new Date().toString();\r\n                    \r\n                    logUpload(attachment)\r\n                    .then(result => {\r\n                        funcSuccess = 'Ok';\r\n                        funcResult = result;\r\n\r\n                        var funcReturn = {\r\n                            Success: funcSuccess,\r\n                            Result: attachment,\r\n                            FailReason: funcFailReason,\r\n                            Error: funcError,\r\n                            Warning: funcWarning\r\n                        };\r\n                        \r\n                        resolve(funcReturn);\r\n                    });\r\n                    \r\n                    \r\n                });\r\n            }\r\n        );\r\n    })\r\n    .then(result => {\r\n        return result;\r\n    })\r\n    .catch(error => {\r\n        console.log(\"Error: \", error);\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const uploadReplyAttachment = async (attachment, file, ticket) => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n    let client = attachment.client;\r\n\r\n    var db = firebase.firestore();\r\n    // var storage = firebase.storage();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n    let storageRef;\r\n    let task;\r\n\r\n    try{\r\n        storageRef = firebase.storage().ref('attachments/' + ticket.ClientName + '/' + ticket.TicketNum + '/' + file.name);\r\n        \r\n        // Upload file\r\n        task = storageRef.put(file);\r\n\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n    }\r\n\r\n    \r\n    // update progress bar\r\n    return new Promise((resolve, reject) => {\r\n        task.on('state_changed',\r\n            function progress(snapshot) {\r\n                // const {bytesTransferred, totalBytes} = snapshot;\r\n\r\n                // var percentage = bytesTransferred * 100 / totalBytes ; \r\n                // uploader.value = percentage;\r\n                // console.log(percentage);\r\n            },\r\n\r\n            function error(err) {\r\n                funcSuccess = 'No';\r\n                funcResult = [];\r\n                funcFailReason = 'Error';\r\n                funcError = err.message;\r\n\r\n                var funcReturn = {\r\n                    Success: funcSuccess,\r\n                    Result: funcResult,\r\n                    FailReason: funcFailReason,\r\n                    Error: funcError,\r\n                    Warning: funcWarning\r\n                };\r\n\r\n                console.log('There was an error: ', err);\r\n                reject(funcReturn);\r\n            },\r\n\r\n            function complete() {\r\n                let DownloadURL = \"\";\r\n\r\n                console.log('Upload completed');\r\n                task.snapshot.ref.getDownloadURL().then(function(dURL) {\r\n                    DownloadURL = dURL;\r\n\r\n                    attachment.DownloadURL = DownloadURL;\r\n                    attachment.UploadDate = new Date().toString();\r\n                    console.log('Returning download URL');\r\n                    resolve(attachment);\r\n                });\r\n            }\r\n        );\r\n    })\r\n    .then(result => {\r\n        console.log('Successful upload.', result);\r\n        return result;\r\n    })\r\n    .catch(error => {\r\n        console.log(\"Error: \", error);\r\n        return error;\r\n    });\r\n};\r\n\r\nconst logUpload = (attachment) => {\r\n    const { TitleText, FileName, FileSize, DownloadURL, UploadDate, client } = attachment;\r\n\r\n    const db = firebase.firestore();\r\n    const storageDb = db.collection(\"StorageUploads\").doc(\"Documents\").collection(\"Files\");\r\n\r\n    const storageDoc = {\r\n        TitleText: TitleText,\r\n        FileSize: FileSize,\r\n        FileName: FileName,\r\n        DownloadURL: DownloadURL,\r\n        UploadDate: UploadDate,\r\n        client: client\r\n    }\r\n\r\n    return storageDb.doc(FileName).set(storageDoc)\r\n        .then(result => {\r\n            return attachment;\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            return false;\r\n        })\r\n    \r\n}\r\n\r\nexport const deleteAttachment = async (attachment) => {\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    // var storage = firebase.storage();\r\n    \r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n\r\n    let storageRef = firebase.storage().ref('attachments/' + attachment.client + '/' + attachment.FileName);\r\n\r\n    storageRef.delete()\r\n        .then(() => {\r\n            unLogUpload(attachment)\r\n                .then(result => {\r\n                    funcSuccess = 'Ok';\r\n                    funcResult = result;\r\n\r\n                    var funcReturn = {\r\n                        Success: funcSuccess,\r\n                        Result: attachment,\r\n                        FailReason: funcFailReason,\r\n                        Error: funcError,\r\n                        Warning: funcWarning\r\n                    };\r\n                    \r\n                    return funcReturn;\r\n                })\r\n        })\r\n        .catch(error => {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'Error';\r\n            funcError = error.message;\r\n\r\n            var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning\r\n            };\r\n\r\n            return funcReturn;\r\n        })\r\n            \r\n};\r\n\r\nconst unLogUpload = (attachment) => {\r\n    const { TitleText, FileName, FileSize, DownloadURL, UploadDate } = attachment;\r\n\r\n    const db = firebase.firestore();\r\n    const storageDb = db.collection(\"StorageUploads\").doc(\"Documents\").collection(\"Files\");\r\n\r\n    return storageDb.doc(FileName).delete()\r\n        .then(result => {\r\n            return attachment;\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            return false;\r\n        })\r\n    \r\n}\r\n","import React, { Component } from 'react';\r\nimport TicketsList from './ticketslist';\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport TicketForm from './ticketform';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport _ from 'lodash';\r\n\r\nimport {    getTicketsList, getComplCat, getTicketReplies,\r\n            addTicketSupport, postTicketReplySupport } from '../../appcode/custcaretickets';\r\nimport { getClientsNames, getProjectsOfClient, \r\n         getContractsForProject } from '../../appcode/fincsoa';\r\n\r\n         import processing from '../../images/processing.gif';\r\nimport TicketDetails from './ticketdetails';\r\n\r\nimport { getAttachmentsList, getClientAttachmentsList, uploadReplyAttachment, deleteAttachment } from '../../appcode/crmuploadattachments';\r\n\r\nclass Tickets extends Component {\r\n    state = {\r\n        tickets: [],\r\n        replies: [],\r\n        selectedTicketIndex: 0,\r\n        reply: {            \r\n            Details: '',\r\n            FileAttachment: {\r\n                client: \"\",\r\n                TitleText: \"\",\r\n                FileName: \"\",\r\n                FileSize: \"\",\r\n                UploadDate: new Date().toString(),\r\n                DownloadURL: \"\"\r\n            },\r\n            RepliedBy: '',\r\n            tsReplyDT: new Date()\r\n        },\r\n        clientsList: [],\r\n        projectsList: [],\r\n        contractsList: [],\r\n        compleCatList: [],\r\n\r\n        uprofile: {},\r\n        \r\n        ticket: {\r\n            AttendedBy: '',\r\n            ClientName: '',\r\n            ClosedBy: '',\r\n            ClosingDT: '',\r\n            ComplCat: '',\r\n            ContractName: '',\r\n            Details: '',\r\n            Duration: 0,\r\n            FileAttach: \"\",\r\n            OpeningDT: \"\",\r\n            ProjectName: '',\r\n            ReportedBy: '',\r\n            ReportedOn: '',\r\n            Subject: '',\r\n            TicketStatus: '',\r\n            tsOpeningDT: '',\r\n            userID: ''\r\n        },\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            saveButton: {\r\n                showSave: false,\r\n                onSave: () => this.handleSubmit()\r\n            },\r\n            cancelButton: {\r\n                showCancel: false,\r\n                onCancel: () => this.handleCancel()\r\n            },\r\n            searchButton: {\r\n                showSearch: false,\r\n                onSearch: null\r\n            },\r\n            replyButton: {\r\n                showReply: false,\r\n                onReply: () => this.handleReply()\r\n            }\r\n\r\n        },\r\n        flags: {\r\n            isAdd: false,\r\n            isReply: false,\r\n            isEdit: false\r\n        },\r\n        showButtons: true,\r\n        file: null\r\n    }\r\n\r\n    handleOnFileSelect = (event) => {\r\n        let { value } = event.currentTarget;\r\n        \r\n        let reply = {...this.state.reply}\r\n\r\n        let FileAttachment = {...reply.FileAttachment};\r\n        let file = event.currentTarget.files[0];\r\n        console.log('*** File: ', file);\r\n\r\n        if(file) {\r\n            FileAttachment.FileName = value.name;\r\n            FileAttachment.FileName = file.name;\r\n            FileAttachment.FileSize = file.size;\r\n        } else {\r\n            FileAttachment = 'X'\r\n        }\r\n\r\n        reply.FileAttachment = {...FileAttachment};\r\n\r\n        this.setState({ reply, file });\r\n    }\r\n\r\n    handleAdd = () => {\r\n        let ticket= {\r\n            AttendedBy: '',\r\n            ClientName: '',\r\n            ClosedBy: '',\r\n            ClosingDT: '',\r\n            ComplCat: '',\r\n            ContractName: '',\r\n            Details: '',\r\n            Duration: 0,\r\n            FileAttach: \"\",\r\n            OpeningDT: new Date().toLocaleDateString().formatDate(\"dd-mm-yyyy\", '-'),\r\n            ProjectName: '',\r\n            ReportedBy: this.state.uprofile.displayName,\r\n            ReportedOn: new Date(),\r\n            Subject: '',\r\n            TicketStatus: 'Open',\r\n            tsOpeningDT: new Date(),\r\n            userID: this.state.uprofile.UID,\r\n            TicketNum: ''\r\n        }\r\n\r\n        let replies = [];\r\n        \r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        flags.isReply = false;\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.replyButton.showReply = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n\r\n        this.setState({ ticket, replies, flags, buttonsOptions });\r\n    }\r\n\r\n    handleReply = () => {\r\n        let reply = {\r\n            Details: '',\r\n            FileAttachment: {\r\n                client: \"\",\r\n                TitleText: \"\",\r\n                FileName: \"\",\r\n                FileSize: \"\",\r\n                UploadDate: new Date().toString(),\r\n                DownloadURL: \"\"\r\n            },\r\n            RepliedBy: this.state.uprofile.displayName,\r\n            tsReplyDT: new Date()\r\n        }        \r\n\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        flags.isReply = true;\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.replyButton.showReply = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n\r\n        this.setState({ reply, flags, buttonsOptions });\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        this.setState({ showButtons: false });\r\n\r\n        let flags = {...this.state.flags};\r\n        let ticket = {...this.state.ticket};\r\n\r\n        // if isAdd === true\r\n        if(flags.isAdd)\r\n        {\r\n            addTicketSupport(ticket, this.state.uprofile)\r\n                .then(result => {\r\n                    ticket.TicketNum = result.Result; \r\n                \r\n                    let tickets = [...this.state.tickets];\r\n                    tickets.push(ticket);\r\n                    tickets = _.orderBy(tickets, ['TicketNum']);\r\n    \r\n                    flags.isAdd = false;\r\n                    flags.isReply = false;\r\n                    flags.isEdit = false;\r\n    \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.replyButton.showReply = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n                    this.setState({ ticket, tickets, flags, \r\n                                    buttonsOptions, showButtons: true,\r\n                                    replies: [] });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n\r\n                    ticket = {\r\n                        AttendedBy: '',\r\n                        ClientName: '',\r\n                        ClosedBy: '',\r\n                        ClosingDT: '',\r\n                        ComplCat: '',\r\n                        ContractName: '',\r\n                        Details: '',\r\n                        Duration: 0,\r\n                        FileAttach: \"\",\r\n                        OpeningDT: \"\",\r\n                        ProjectName: '',\r\n                        ReportedBy: '',\r\n                        ReportedOn: '',\r\n                        Subject: '',\r\n                        TicketStatus: '',\r\n                        tsOpeningDT: '',\r\n                        userID: ''\r\n                    }\r\n\r\n                    flags.isAdd = false;\r\n                    flags.isReply = false;\r\n                    flags.isEdit = false;\r\n    \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.replyButton.showReply = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n                    this.setState({ ticket, flags, buttonsOptions, \r\n                                    showButtons: true, replies: [] });\r\n\r\n                });\r\n        }\r\n        else if(flags.isReply)        \r\n        {\r\n            // add the reply to the replies list... \r\n            let replies = [...this.state.replies];\r\n            let replyId = (new Date()).getDate().pad(2, '0') + '.' \r\n                        + ((new Date()).getMonth()+1).pad(2, '0') + '.'\r\n                        + (new Date()).getFullYear().toString() + ' '\r\n                        + (new Date()).getHours().toString() + ':'\r\n                        + (new Date()).getMinutes().toString() + ':'\r\n                        + (new Date()).getSeconds().toString();     \r\n                        \r\n            let reply = {...this.state.reply, replyId };\r\n            \r\n            // upload the file and get the DownloadURL\r\n            let attachment = {...reply.FileAttachment}\r\n            uploadReplyAttachment(attachment, this.state.file, this.state.ticket)\r\n                .then(result => {\r\n                    console.log('** Upload result: ', result);\r\n                    attachment = {...result}; \r\n                        \r\n                    reply.FileAttachment = {...attachment};\r\n\r\n                    console.log('File attachment result: ', reply.FileAttachment);\r\n\r\n                    postTicketReplySupport(this.state.ticket, reply, this.state.ticket.TicketStatus, this.state.uprofile)\r\n                    .then(result => {\r\n                        replies.push(reply)\r\n\r\n                        console.log('Trying to log reply');\r\n\r\n                        replies = replies.sort(function compare(a, b) {\r\n                            let arrA = a.replyId.split(' ');\r\n                            let arrB = b.replyId.split(' ');\r\n        \r\n                            let arrAD = arrA[0].split('.');\r\n                            let arrAT = arrA[1].split(':');\r\n        \r\n                            let arrBD = arrB[0].split('.');\r\n                            let arrBT = arrB[1].split(':');\r\n        \r\n                            var dateA = new Date(parseInt(arrAD[2]), parseInt(arrAD[1]), parseInt(arrAD[0]), \r\n                                                parseInt(arrAT[2]), parseInt(arrAT[1]), parseInt(arrAT[0]));\r\n                            var dateB = new Date(parseInt(arrBD[2]), parseInt(arrBD[1]), parseInt(arrBD[0]), \r\n                                                parseInt(arrBT[2]), parseInt(arrBT[1]), parseInt(arrBT[0]));\r\n                                \r\n                            return dateA - dateB;    \r\n                        });\r\n        \r\n                        // set the flags and buttons options... \r\n                        flags.isAdd = false;\r\n                        flags.isReply = false;\r\n                        flags.isEdit = false;\r\n\r\n                        let ticketIndex = this.state.tickets.findIndex( t => t.TicketNum == ticket.TicketNum);\r\n                        let tickets = [...this.state.tickets];\r\n                        tickets[ticketIndex].TicketStatus = ticket.TicketStatus;\r\n        \r\n                        let buttonsOptions = {...this.state.buttonsOptions};\r\n                        buttonsOptions.addButton.showAdd = true;\r\n                        buttonsOptions.replyButton.showReply = true;\r\n                        buttonsOptions.saveButton.showSave = false;\r\n                        buttonsOptions.cancelButton.showCancel = false;\r\n        \r\n                        this.setState({ ticket, flags, buttonsOptions, \r\n                                        showButtons: true, replies, reply, tickets });\r\n\r\n                        console.log('Reply log successful');\r\n\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n\r\n                        let reply = {\r\n                            Details: '',\r\n                            RepliedBy: '',\r\n                            tsReplyDT: '',\r\n                            FileAttachment: 'X'\r\n                        }\r\n                        \r\n                        // set the flags and buttons options... \r\n                        flags.isAdd = false;\r\n                        flags.isReply = false;\r\n                        flags.isEdit = false;\r\n        \r\n                        let buttonsOptions = {...this.state.buttonsOptions};\r\n                        buttonsOptions.addButton.showAdd = true;\r\n                        buttonsOptions.replyButton.showReply = true;\r\n                        buttonsOptions.saveButton.showSave = false;\r\n                        buttonsOptions.cancelButton.showCancel = false;\r\n        \r\n                        this.setState({ ticket, flags, buttonsOptions, \r\n                                        showButtons: true, replies: [], reply });\r\n\r\n                    });\r\n                    \r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n\r\n                    attachment = {\r\n                        TitleText: \"\",\r\n                        FileName: \"\",\r\n                        FileSize: \"\",\r\n                        UploadDate: new Date().toString(),\r\n                        DownloadURL: \"\"\r\n                    }\r\n\r\n                    reply.FileAttachment = 'X';\r\n    \r\n                    let reply = {\r\n                        Details: '',\r\n                        RepliedBy: '',\r\n                        tsReplyDT: '',\r\n                        FileAttachment: 'X'\r\n                    }\r\n                    \r\n                    // set the flags and buttons options... \r\n                    flags.isAdd = false;\r\n                    flags.isReply = false;\r\n                    flags.isEdit = false;\r\n    \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.replyButton.showReply = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n                    this.setState({ ticket, flags, buttonsOptions, \r\n                                    showButtons: true, replies: [], reply });\r\n\r\n                });\r\n\r\n            \r\n\r\n        }\r\n        else                // isEdit === true\r\n        {\r\n\r\n        }\r\n        \r\n        this.setState({ showButtons: false });\r\n\r\n    }\r\n\r\n    handleCancel = () => {\r\n        let flags = {...this.state.flags};\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n\r\n        if(flags.isAdd) \r\n        {\r\n            let ticket = {\r\n                TicketNum: ''\r\n            }\r\n\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n            flags.isReply = false;\r\n\r\n            buttonsOptions.addButton.showAdd = true;\r\n            buttonsOptions.replyButton.showReply = false;\r\n            buttonsOptions.saveButton.showSave = false;\r\n            buttonsOptions.cancelButton.showCancel = false;\r\n\r\n            this.setState({ ticket, flags, buttonsOptions });\r\n\r\n        }\r\n        else if(flags.isReply)\r\n        {\r\n            this.showProcess();\r\n\r\n            let index = this.state.selectedTicketIndex;\r\n            let replies = [];\r\n            let reply = {\r\n                Details: '',\r\n                FileAttachment: 'X',\r\n                RepliedBy: '',\r\n                tsReplyDT: new Date()\r\n            };\r\n\r\n            let ticket = {\r\n                AttendedBy: '',\r\n                ClientName: '',\r\n                ClosedBy: '',\r\n                ClosingDT: '',\r\n                ComplCat: '',\r\n                ContractName: '',\r\n                Details: '',\r\n                Duration: 0,\r\n                FileAttach: \"\",\r\n                OpeningDT: \"\",\r\n                ProjectName: '',\r\n                ReportedBy: '',\r\n                ReportedOn: '',\r\n                Subject: '',\r\n                TicketStatus: '',\r\n                tsOpeningDT: '',\r\n                userID: '',\r\n                TicketNum: '',\r\n                Replies: []\r\n            }\r\n        \r\n            this.setState({ ticket, reply });\r\n\r\n            let tickets = [...this.state.tickets];\r\n            let projectsList = [];\r\n            let contractsList = [];\r\n\r\n            ticket = {...tickets[index]};\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n            flags.isReply = false;\r\n\r\n            buttonsOptions.addButton.showAdd = true;\r\n            buttonsOptions.replyButton.showReply = true;\r\n            buttonsOptions.saveButton.showSave = false;\r\n            buttonsOptions.cancelButton.showCancel = false;\r\n\r\n            this.setState({ flags, buttonsOptions });\r\n\r\n            getTicketReplies(ticket.TicketNum)\r\n                .then(result => {\r\n                    replies = [...result.Result];\r\n\r\n                    return getProjectsOfClient(ticket.ClientName);\r\n                })\r\n                .then(result => {\r\n\r\n                    result.Result.map(r => {\r\n                        projectsList.push({Name: r.name});\r\n                    })\r\n                    \r\n                    return getContractsForProject(ticket.ProjectName)\r\n                })\r\n                .then(result => {\r\n\r\n                    result.Result.map(r => {\r\n                        contractsList.push({Name: r.name});\r\n                    });\r\n                    \r\n\r\n                    this.setState({ projectsList, contractsList, \r\n                                    ticket, replies,\r\n                                    selectedTicketIndex: index });\r\n                    this.hideProcess();\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                    this.setState({ projectsList, contractsList });\r\n                    this.hideProcess();\r\n                });    \r\n        }\r\n        else\r\n        {\r\n\r\n        }\r\n    }\r\n\r\n    handleOnReplyChange = (name, value) => {\r\n        // let { name, value } = event.currentTarget;\r\n        // console.log('Change: ', name, value);\r\n        // console.log(\"Change: \", )\r\n\r\n        if(name === 'TicketStatus')\r\n        {\r\n            let ticket = {...this.state.ticket};\r\n            let oldStatus = ticket.TicketStatus;\r\n            ticket.TicketStatus = value;\r\n            let reply = {...this.state.reply};\r\n            reply['Details'] = 'Ticket Status changed from ' + oldStatus + ' to ' + value; \r\n\r\n            this.setState({ reply, ticket });\r\n        }\r\n        else\r\n        {\r\n            let reply = {...this.state.reply};\r\n            reply[name] = value;\r\n\r\n            this.setState({ reply });\r\n        }\r\n\r\n    }\r\n\r\n    handleTicketRowClick = (index) => {\r\n        this.showProcess();\r\n\r\n        let replies = [];\r\n        let reply = {\r\n            Details: '',\r\n            FileAttachment: 'X',\r\n            RepliedBy: '',\r\n            tsReplyDT: new Date()\r\n        };\r\n\r\n        let ticket = {\r\n            AttendedBy: '',\r\n            ClientName: '',\r\n            ClosedBy: '',\r\n            ClosingDT: '',\r\n            ComplCat: '',\r\n            ContractName: '',\r\n            Details: '',\r\n            Duration: 0,\r\n            FileAttach: \"\",\r\n            OpeningDT: \"\",\r\n            ProjectName: '',\r\n            ReportedBy: '',\r\n            ReportedOn: '',\r\n            Subject: '',\r\n            TicketStatus: '',\r\n            tsOpeningDT: '',\r\n            userID: '',\r\n            TicketNum: '',\r\n            Replies: []\r\n        }\r\n        \r\n        this.setState({ ticket, reply });\r\n\r\n        let tickets = [...this.state.tickets];\r\n        let projectsList = [];\r\n        let contractsList = [];\r\n\r\n        ticket = {...tickets[index]};\r\n\r\n        getTicketReplies(ticket.TicketNum)\r\n            .then(result => {\r\n                replies = [...result.Result];\r\n                \r\n                // myArray.sort(function compare(a, b) {\r\n                //     var dateA = new Date(a.date);\r\n                //     var dateB = new Date(b.date);\r\n                //     return dateA - dateB;\r\n                //   });\r\n\r\n                replies = replies.sort(function compare(a, b) {\r\n                    let arrA = a.replyId.split(' ');\r\n                    let arrB = b.replyId.split(' ');\r\n\r\n                    let arrAD = arrA[0].split('.');\r\n                    let arrAT = arrA[1].split(':');\r\n\r\n                    let arrBD = arrB[0].split('.');\r\n                    let arrBT = arrB[1].split(':');\r\n\r\n                    var dateA = new Date(parseInt(arrAD[2]), parseInt(arrAD[1]), parseInt(arrAD[0]), \r\n                                         parseInt(arrAT[2]), parseInt(arrAT[1]), parseInt(arrAT[0]));\r\n                    var dateB = new Date(parseInt(arrBD[2]), parseInt(arrBD[1]), parseInt(arrBD[0]), \r\n                                         parseInt(arrBT[2]), parseInt(arrBT[1]), parseInt(arrBT[0]));\r\n                        \r\n                    return dateA - dateB;\r\n                  });\r\n\r\n                return getProjectsOfClient(ticket.ClientName);\r\n            })\r\n            .then(result => {\r\n\r\n                result.Result.map(r => {\r\n                    projectsList.push({Name: r.name});\r\n                })\r\n                \r\n                return getContractsForProject(ticket.ProjectName)\r\n            })\r\n            .then(result => {\r\n\r\n                result.Result.map(r => {\r\n                    contractsList.push({Name: r.name});\r\n                });\r\n\r\n                let buttonsOptions = {...this.state.buttonsOptions};\r\n                buttonsOptions.replyButton.showReply = true;\r\n                \r\n\r\n                this.setState({ projectsList, contractsList, \r\n                                ticket, replies, buttonsOptions,\r\n                                selectedTicketIndex: index });\r\n                this.hideProcess();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.setState({ projectsList, contractsList });\r\n                this.hideProcess();\r\n            });\r\n        \r\n    } \r\n\r\n    componentDidMount = () => {\r\n        this.showProcess();\r\n\r\n        let tickets = [];\r\n\r\n        getTicketsList()\r\n            .then(result => {\r\n                tickets = [...result.Result];\r\n\r\n                this.setState({ tickets });\r\n                \r\n                return getClientsNames();\r\n\r\n            })\r\n            .then(result => {\r\n                let clientsList = [];\r\n\r\n                result.Result.map(r => {\r\n                    clientsList.push({Name: r});\r\n                });\r\n\r\n                this.setState({ clientsList });\r\n              \r\n                return getComplCat();\r\n            })\r\n            .then(result => {\r\n                let compleCatList = [];\r\n\r\n                result.Result.map(r => {\r\n                    compleCatList.push({Name: r});\r\n                });\r\n\r\n                this.setState({ compleCatList });\r\n                this.hideProcess();                \r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.hideProcess();\r\n            })\r\n\r\n        getClientsNames()\r\n            .then(result => {\r\n                let clientsList = [];\r\n\r\n                result.Result.map(c => {\r\n                    clientsList.push({Name: c});\r\n                });\r\n                this.setState({ clientsList });\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.hideProcess();\r\n            })\r\n    }\r\n\r\n    handleClientChange = (event) => {\r\n        this.showProcess();\r\n\r\n        let { value } = event.currentTarget;\r\n\r\n        getProjectsOfClient(value)\r\n            .then(result => {\r\n                let projectsList = [];\r\n\r\n                result.Result.map(r => {\r\n                    projectsList.push({Name: r.name});\r\n                });\r\n\r\n                let ticket = {...this.state.ticket};\r\n                ticket.ClientName = value;\r\n\r\n                this.setState({ projectsList, ticket });\r\n                this.hideProcess();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.hideProcess();\r\n            });\r\n    }\r\n\r\n    handleProjectChange = (event) => {\r\n        this.showProcess();\r\n\r\n        let { value } = event.currentTarget;\r\n\r\n        getContractsForProject(value)\r\n            .then(result => {\r\n                let contractsList = [];\r\n\r\n                result.Result.map(r => {\r\n                    contractsList.push({Name: r.name});\r\n                });\r\n\r\n                let ticket = {...this.state.ticket};\r\n                ticket.ProjectName = value;\r\n\r\n                this.setState({ contractsList, ticket });\r\n                this.hideProcess();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.hideProcess();\r\n            });\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        const { name, value } = event.currentTarget;\r\n\r\n        let ticket = {...this.state.ticket};\r\n        ticket[name] = value;\r\n\r\n        this.setState({ ticket });\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Customer Care Tickets\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"row\" style={{paddingLeft: \"25px\", paddingRight: \"25px\"}}>\r\n                    <div className=\"col-md-7\" style={columnStyle}>\r\n                        <TicketsList \r\n                            tickets={this.state.tickets} \r\n                            onTicketClick={this.handleTicketRowClick} />\r\n                    </div>\r\n                    <div className=\"col-md-5\" style={columnStyle}>\r\n                        <div className={\"row\" + ((this.state.showButtons) ? \"\" : \" hidden\")} \r\n                             style={{paddingLeft: \"15px\", paddingRight: \"15px\", marginBottom: \"15px\"}}>\r\n                            <ToolsBar buttonsOptions={this.state.buttonsOptions} />\r\n                        </div>\r\n                        <div className={\"row\" + ((!this.state.showButtons) ? \"\" : \" hidden\")} \r\n                             style={{paddingLeft: \"15px\", paddingRight: \"15px\", marginBottom: \"15px\"}}>\r\n                            <img src={processing} \r\n                                width=\"40vw\" \r\n                                alt=\"processing\" \r\n                                style={{marginTop: \"2vh\"}} />\r\n                        </div>\r\n                        <div className=\"row\" style={{padding: \"0\", overflow: \"auto\", height: \"58vh\"}}>\r\n                            <div className=\"col-md-12\">\r\n                                {(this.state.flags.isAdd) ? \r\n                                    <TicketForm \r\n                                        ticket={this.state.ticket}\r\n                                        clientsList={this.state.clientsList}\r\n                                        onClientChange={this.handleClientChange}\r\n                                        projectsList={this.state.projectsList}\r\n                                        onProjectChange={this.handleProjectChange}\r\n                                        contractsList={this.state.contractsList} \r\n                                        compleCatList={this.state.compleCatList}\r\n                                        flags={this.state.flags} \r\n                                        openedBy={this.state.uprofile.displayName}\r\n                                        onChange={this.handleOnChange} />\r\n                                    : ((this.state.ticket.TicketNum) ? \r\n                                        <TicketDetails ticket={this.state.ticket} \r\n                                            replies={this.state.replies} \r\n                                            reply={this.state.reply} \r\n                                            flags={this.state.flags}\r\n                                            onChange={this.handleOnReplyChange}\r\n                                            onFileSelect={this.handleOnFileSelect} />\r\n                                        : \"\")\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    showProcess = () => {\r\n        this.setState({ showButtons: false });\r\n    }\r\n\r\n    hideProcess = () => {\r\n        this.setState({ showButtons: true });\r\n    }\r\n}\r\n\r\nexport default Tickets;\r\n\r\nconst columnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"68vh\",\r\n    overflow: 'auto'\r\n}\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nString.prototype.formatDate = function (format, separator) {\r\n    let sDt = this;\r\n    let aDt = (sDt.split('-').length > 1) ? sDt.split('-') : sDt.split('/');\r\n    let fOpt = (sDt.split('-').length > 1) ? 1 : 2;\r\n    let f = format.split(separator);\r\n\r\n    let nDD=(fOpt === 1) ? (aDt[2].split(' '))[0] : aDt[1], \r\n        nMM=(fOpt === 1) ? aDt[1] : aDt[0], \r\n        nYYYY=(fOpt === 1) ? aDt[0] : (aDt[2].split(' '))[0],\r\n        nDt = \"\";\r\n\r\n    switch(f[0])\r\n    {\r\n        case 'dd':\r\n            nDt = nDD + separator;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt = nMM + separator;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt = nMM + separator;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt = nYYYY + separator;\r\n            break;\r\n\r\n    }\r\n\r\n    switch(f[1])\r\n    {\r\n        case 'dd':\r\n            nDt += nDD + separator;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt += nMM + separator;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt += nMM + separator;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt += nYYYY + separator;\r\n            break;\r\n\r\n    }\r\n\r\n    switch(f[2])\r\n    {\r\n        case 'dd':\r\n            nDt += nDD;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt += nMM;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt += nMM;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt += nYYYY;\r\n            break;\r\n\r\n    }\r\n      \r\n    return nDt;\r\n}\r\n","import React, { Component } from 'react';\r\nimport Input from '../../../common/input';\r\n\r\nclass TicketsByMonthForm extends Component {\r\n    state = {\r\n        params: {\r\n            ddlMonth: new Date().getMonth() + 1,\r\n            ddlYear: new Date().getFullYear()\r\n        }\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        const { name, value } = event.currentTarget;\r\n        let params = {...this.state.params};\r\n\r\n        params[name] = value;\r\n        this.setState({ params });\r\n    } \r\n\r\n    render() {\r\n        return (\r\n            <form action=\"http://airmechfms.com/fms/repCustCareTicketsMonthly.aspx\" \r\n                target=\"_blank\" method=\"POST\" >\r\n                <Input name=\"ddlMonth\" \r\n                    label=\"Month\" \r\n                    type='number'\r\n                    value={this.state.params.ddlMonth}\r\n                    onChange={this.handleOnChange} />\r\n                <Input name=\"ddlYear\"\r\n                    type='number' \r\n                    label=\"Year\" \r\n                    value={this.state.params.ddlYear}\r\n                    onChange={this.handleOnChange} />\r\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                \r\n            </form>\r\n       );\r\n    }\r\n}\r\n\r\nexport default TicketsByMonthForm;","import React, { Component } from 'react';\r\nimport Input, { DropDownList } from '../../../common/input';\r\nimport { \r\n    getClientsNames, getProjectsOfClient, getContractsForProject\r\n} from '../../../appcode/fincsoa';\r\nimport process from '../../../images/processing.gif';\r\n\r\nclass TicketsByContractForm extends Component {\r\n    state = {\r\n        params: {\r\n            ddlClients: \"\",\r\n            ddlProjects: \"\",\r\n            ddlContracts: \"\",\r\n            dtFrom: new Date(),\r\n            dtTo: new Date()\r\n        },\r\n        clientsList: [],\r\n        projectsList: [],\r\n        contractsList: [],\r\n        selectedClient: '',\r\n        selectedProject: '',\r\n        selectedContract: '',\r\n        errors: '',\r\n        processing: false\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        const { name, value } = event.currentTarget;\r\n        let params = {...this.state.params};\r\n\r\n        params[name] = value;\r\n        this.setState({ params });\r\n    } \r\n\r\n    handleClientsClick = (event) => {\r\n        const { value } = event.currentTarget;\r\n        this.setState({ processing: true });\r\n\r\n        getProjectsOfClient(value)\r\n            .then(result => {\r\n                if(result.Success === 'Ok')\r\n                {\r\n                    let projectsList = [];\r\n                    result.Result.map(r => {\r\n                        projectsList.push({Name: r.name});\r\n                    });\r\n                    this.setState({ projectsList, \r\n                                    selectedClient: value,\r\n                                    processing: false });\r\n                }\r\n                else\r\n                {\r\n                    console.log(result);\r\n                    this.setState({ processing: false });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.setState({ processing: false });\r\n            })\r\n    }\r\n\r\n    handleProjectsClick = (event) => {\r\n        const { value } = event.currentTarget;\r\n        this.setState({ processing: true });\r\n\r\n        console.log(value);\r\n        getContractsForProject(value)\r\n            .then(result => {\r\n                if(result.Success === 'Ok')\r\n                {\r\n                    let contractsList = [];\r\n                    result.Result.map(r => {\r\n                        contractsList.push({Name: r.name});\r\n                    });\r\n                    this.setState({ contractsList, \r\n                                    selectedProject: value,\r\n                                    processing: false});\r\n                }\r\n                else\r\n                {\r\n                    console.log(result);\r\n                    this.setState({ processing: false });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.setState({ processing: false });\r\n            })\r\n    }\r\n\r\n    constructor () {\r\n        super();\r\n        getClientsNames()\r\n            .then(result => {\r\n                if(result.Success === 'Ok')\r\n                {\r\n                    let clientsList = [];\r\n\r\n                    result.Result.map(r => {\r\n                        clientsList.push({Name: r});\r\n                    });\r\n                    this.setState({ clientsList });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form action=\"http://airmechfms.com/fms/repCustCareTicketsList.aspx\" \r\n                target=\"_blank\" method=\"POST\" >\r\n                <div class={this.state.processing ? \"\" : \"hidden\"}>\r\n                    <img src={process} width={30} height={30} />\r\n                </div>\r\n                <DropDownList\r\n                     name=\"ddlClients\" \r\n                     label=\"Client Name\" \r\n                     values={this.state.clientsList} \r\n                     onChange={this.handleClientsClick} \r\n                     flgDisabled={false} \r\n                     error={this.state.errors} \r\n                     defValue=''\r\n                />\r\n                <DropDownList\r\n                     name=\"ddlProjects\" \r\n                     label=\"Project Name\" \r\n                     values={this.state.projectsList} \r\n                     onChange={this.handleProjectsClick} \r\n                     flgDisabled={false} \r\n                     error={this.state.errors} \r\n                     defValue=''\r\n                />\r\n                <DropDownList\r\n                     name=\"ddlContracts\" \r\n                     label=\"Contract Name\" \r\n                     values={this.state.contractsList} \r\n                     onChange={this.handleProjectsClick} \r\n                     flgDisabled={false} \r\n                     error={this.state.errors} \r\n                     defValue=''\r\n                />\r\n                {/* <Input name=\"dtFrom\" label=\"From\" type=\"date\"\r\n                    value={this.state.params.dtFrom} flgDisabled={false}\r\n                    onChange={this.handleOnChange} error={this.state.errors} /> \r\n                <Input name=\"dtTo\" label=\"To\" type=\"date\"\r\n                    value={this.state.params.dtTo} flgDisabled={false}\r\n                    onChange={this.handleOnChange} error={this.state.errors} />  */}\r\n\r\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n            </form>\r\n       );\r\n    }\r\n}\r\n\r\nexport default TicketsByContractForm;","import React, { Component } from 'react';\r\nimport Input from '../../../common/input';\r\n\r\nclass TicketsStatSumForm extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <form action=\"http://airmechfms.com/fms/repCustCareTicketsSummary.aspx\" \r\n                target=\"_blank\" method=\"POST\" >\r\n                {\"This form requires no parameters to be passed.\"}<br />\r\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                \r\n            </form>\r\n       );\r\n    }\r\n}\r\n\r\nexport default TicketsStatSumForm;","import React, { Component } from 'react';\r\nimport Input from '../../../common/input';\r\n\r\nclass JobCardsByDateForm extends Component {\r\n    state = {\r\n        params: {\r\n            ddlMonth: new Date().getMonth() + 1,\r\n            ddlYear: new Date().getFullYear()\r\n        }\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        const { name, value } = event.currentTarget;\r\n        let params = {...this.state.params};\r\n\r\n        params[name] = value;\r\n        this.setState({ params });\r\n    } \r\n\r\n    render() {\r\n        return (\r\n            <form action=\"http://airmechfms.com/fms/repCustCareTicketsMonthly.aspx\" \r\n                target=\"_blank\" method=\"POST\" >\r\n                <Input name=\"ddlFrom\" \r\n                    label=\"From\" \r\n                    type='date'\r\n                    value={this.state.params.ddlMonth}\r\n                    onChange={this.handleOnChange} />\r\n                <Input name=\"ddlTo\"\r\n                    type='date' \r\n                    label=\"To\" \r\n                    value={this.state.params.ddlYear}\r\n                    onChange={this.handleOnChange} />\r\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                \r\n            </form>\r\n       );\r\n    }\r\n}\r\n\r\nexport default JobCardsByDateForm;","import React, { Component } from 'react';\r\nimport Input from '../../../common/input';\r\n\r\nclass JobCardsStatSumForm extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <form action=\"http://airmechfms.com/fms/repMaintainJCSummary.aspx\" \r\n                target=\"_blank\" method=\"POST\" >\r\n                {\"This form requires no parameters to be passed.\"}<br />\r\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                \r\n            </form>\r\n       );\r\n    }\r\n}\r\n\r\nexport default JobCardsStatSumForm;","import React, { Component } from 'react';\r\nimport TicketsByMonthForm from './customercare/ticketsbymonth';\r\nimport TicketsByContractForm from './customercare/ticketscontractwise';\r\nimport TicketsStatSumForm from './customercare/ticketsstatisticssummary';\r\nimport JobCardsByDateForm from './maintenance/jobcardsdatewise';\r\nimport JobCardsStatSumForm from './maintenance/jcstatisticssummary';\r\n\r\nclass ReturnForm extends Component {\r\n    state = {\r\n        forms: {\r\n            tbmForm: () => {\r\n                return ( <TicketsByMonthForm />)\r\n            }\r\n        }\r\n    }\r\n   render() {\r\n       if(this.props.reqForm === 'tbmForm')\r\n       {\r\n            return <TicketsByMonthForm />;\r\n       }\r\n       else if(this.props.reqForm === 'tcontForm')\r\n       {\r\n           return <TicketsByContractForm />\r\n       }\r\n       else if(this.props.reqForm === 'tssForm')\r\n       {\r\n           return <TicketsStatSumForm />\r\n       }\r\n       else if(this.props.reqForm === 'jclForm')\r\n       {\r\n           return <JobCardsByDateForm />\r\n       }\r\n       else if(this.props.reqForm === 'jcssForm')\r\n       {\r\n           return <JobCardsStatSumForm />\r\n       }\r\n       \r\n      \r\n   }\r\n}\r\n\r\nexport default ReturnForm;","import React, { Component } from 'react';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport processing from '../../images/processing.gif';\r\nimport Input from '../../common/input';\r\nimport ItemsList from '../../common/itemslist';\r\n\r\nimport reports from '../../resources/reports.json';\r\nimport ReturnForm from './returnform';\r\n\r\nclass Reports extends Component {\r\n    state = {\r\n        uprofile: {},\r\n        ticketsStatistics: {},\r\n        showProcess: false,\r\n        params: {\r\n            ddlMonth: 10,\r\n            ddlYear: 2019\r\n        },\r\n        visibilityFlags: [\r\n            \"\",\r\n            \"\",\r\n            \"\",\r\n            \"hidden\",\r\n            \"hidden\"\r\n        ],\r\n        repCatBtn: [],\r\n        selectedRepCatIndex: 0,\r\n        reqForm: ''\r\n    }\r\n\r\n\r\n    handleOnChange = (event) => {\r\n        const { name, value } = event.currentTarget;\r\n        \r\n        let params = {...this.state.params};\r\n        params[name] = value;\r\n\r\n        this.setState({ params });\r\n    }\r\n\r\n    handleRepCatClick = (repCat) => {\r\n        let selectedRepCatIndex = this.state.repCatBtn.findIndex(rc => {\r\n            return rc.Name === repCat;\r\n        });\r\n        this.setState({ selectedRepCatIndex });\r\n    }\r\n\r\n    handleReportClick = (report) => {\r\n        let reqForm = this.state.repCatBtn[this.state.selectedRepCatIndex].Reports.filter(r => {\r\n            return r.Report === report;\r\n        })[0].Form;\r\n        this.setState({ reqForm });\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n\r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n             //props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        this.setState({ repCatBtn: reports });\r\n    }\r\n\r\n    render ()\r\n    {\r\n        return (\r\n            <div className=\"col-md-12\">\r\n                <TitlePageHeader title=\"Reports\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"col-md-6\">\r\n                    <div className=\"row\">\r\n                        <div className={\"col-md-6 \" + this.state.visibilityFlags[0]} \r\n                            style={columnStyle} onClick={this.handleClientColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Category\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='Name'\r\n                                    label='Name'\r\n                                    showList={true}\r\n                                    onClick={this.handleRepCatClick}\r\n                                    data={this.state.repCatBtn}\r\n                                    showProcess={this.state.showClientsProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"col-md-6 \" + this.state.visibilityFlags[1]} \r\n                            onClick={this.handleProjectColumnClick}\r\n                            style={columnStyle}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Report\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='Report'\r\n                                    label='Report'\r\n                                    showList={true}\r\n                                    onClick={this.handleReportClick}\r\n                                    data={\r\n                                        this.state.repCatBtn.length > 0 ? \r\n                                        this.state.repCatBtn[this.state.selectedRepCatIndex].Reports :\r\n                                        []\r\n                                    }\r\n                                    showProcess={this.state.showProjectsProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-6\" style={propColumnStyle}>\r\n                    <div className='col-md-12' \r\n                        style={propColumnTitleStyle}>\r\n                        {\"Report Generation Form\"}\r\n                    </div>\r\n                    {this.state.reqForm !== '' ? <ReturnForm reqForm={this.state.reqForm} /> : ''}\r\n                </div>\r\n                <ToastContainer\r\n                    position=\"top-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnVisibilityChange\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n            </div>\r\n                    \r\n            // <React.Fragment>\r\n            //     <TitlePageHeader title=\"Reports\" bgColor=\"white\" color=\"gray\" />\r\n            //     <div className=\"row\" style={rowDivStyle}>\r\n            //         <div className=\"col-md-12\">\r\n            //             <div className=\"row\" style={{padding: '0', margin: '0'}}>\r\n            //                 <div className=\"col-md-4\" style={chartDivStyle}>\r\n            //                     <form action=\"http://airmechfms.com/fms/repCustCareTicketsMonthly.aspx\" \r\n            //                         target=\"_blank\" method=\"POST\" >\r\n            //                         <Input name=\"ddlMonth\" \r\n            //                             label=\"Month\" \r\n            //                             value={this.state.params.ddlMonth}\r\n            //                             onChange={this.handleOnChange} />\r\n            //                         <Input name=\"ddlYear\" \r\n            //                             label=\"Year\" \r\n            //                             value={this.state.params.ddlYear}\r\n            //                             onChange={this.handleOnChange} />\r\n            //                         <button type=\"submit\">Submit</button>\r\n                                    \r\n            //                     </form>\r\n            //                 </div>\r\n            //                 <div className=\"col-md-4\" style={barChartDivStyle}>\r\n\r\n            //                 </div>\r\n            //                 <div className=\"col-md-4\" style={chartDivStyle}>\r\n            //                 </div>\r\n            //             </div>\r\n            //         </div>\r\n            //     </div>\r\n            // </React.Fragment>\r\n\r\n\r\n        );\r\n    }\r\n};\r\n\r\nexport default Reports;\r\n\r\nconst chartDivStyle = {\r\n    borderStyle: 'solid',\r\n    borderSize: '1px',\r\n    borderColor: 'lightgray',\r\n    borderRadius: '20px',\r\n    boxShadow: '5px 5px gray',\r\n    minHeight: '330px',\r\n    overflow: 'auto',\r\n    backgroundColor: 'white'\r\n}\r\n\r\nconst barChartDivStyle = {\r\n    borderStyle: 'solid',\r\n    borderSize: '1px',\r\n    borderColor: 'lightgray',\r\n    borderRadius: '20px',\r\n    boxShadow: '5px 5px gray',\r\n    minHeight: '330px',\r\n    overflow: 'auto',\r\n    paddingTop: '10px',\r\n    backgroundColor: 'white'\r\n}\r\n\r\nconst rowDivStyle = {\r\n    paddingLeft: \"20px\",\r\n    paddingRight: \"20px\"\r\n}\r\n\r\nconst columnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"70vh\"\r\n}\r\n\r\nconst propColumnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"75vh\",\r\n    backgroundColor: 'lightgray',\r\n    overflow: \"auto\"\r\n}\r\n\r\nconst columnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst searchTextStyle = {\r\n    fontSize: '0.75vw', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"5px\",\r\n    paddingBottom: \"5px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst propColumnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'gray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} ","import React, { Component } from 'react';\r\nimport Input from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\n\r\nclass ClientForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { client } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtCltName'\r\n                    label='Client Name'\r\n                    type='text'\r\n                    value={client.clName}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtCltEmail'\r\n                    label='Client Email'\r\n                    type='text'\r\n                    value={client.clEmail}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtCPName'\r\n                    label='Contact Person'\r\n                    type='text'\r\n                    value={client.clContactName}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtCPNumber'\r\n                    label='Contact Number(s)'\r\n                    type='text'\r\n                    value={client.clContactNumber}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtAddress'\r\n                    label='Address'\r\n                    type='text'\r\n                    value={client.clAddress}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ClientForm;","import React, { Component } from 'react';\r\nimport Input from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\n\r\nclass ProjectForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { project } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtPrjName'\r\n                    label='Project Name'\r\n                    type='text'\r\n                    value={project.prjName}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtPrjCode'\r\n                    label='Project Code'\r\n                    type='text'\r\n                    value={project.prjCode}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtPrjDesc'\r\n                    label='Description'\r\n                    type='text'\r\n                    value={project.prjDescription}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtClName'\r\n                    label='Client Name'\r\n                    type='text'\r\n                    value={project.clientName}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProjectForm;","import React, { Component } from 'react';\r\nimport Input from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\n\r\nclass ContractForm extends Component {\r\n    state = {\r\n        error: ''\r\n    }\r\n\r\n    render() {\r\n        const { contract } = this.props;\r\n    \r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtContName'\r\n                    label='Contract Name'\r\n                    type='text'\r\n                    value={contract.contName}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtContCode'\r\n                    label='Contract Code'\r\n                    type='text'\r\n                    value={contract.contCode}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtContDesc'\r\n                    label='Description'\r\n                    type='text'\r\n                    value={contract.Description}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtContEmail'\r\n                    label='Contact Email'\r\n                    type='text'\r\n                    value={contract.contactEmails}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtContPerson'\r\n                    label='Contact Person'\r\n                    type='text'\r\n                    value={contract.contactPerson}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtEffectiveDate'\r\n                    label='Effective Date'\r\n                    type='text'\r\n                    value={contract.effectDate}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtExpiryDate'\r\n                    label='Expiry Date'\r\n                    type='text'\r\n                    value={contract.expiryDate}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                \r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ContractForm;","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n\r\nclass PopupWindow extends Component {\r\n    state = {\r\n        visibleStyle: {\r\n            border: \"solid lightgray 1px\",\r\n            borderRadius: \"25px\",\r\n            padding: \"5vh\",\r\n            width: \"90%\",\r\n            height: \"90%\",\r\n            background: \"white\",\r\n            position: \"fixed\",\r\n            top: '5%',\r\n            left: '5%',\r\n            display: \"flex\",\r\n            flexDirection: 'column',\r\n            visibility: 'visible',\r\n            // overflow: 'auto',\r\n            transition: \"height 1s linear\",\r\n            boxShadow: \"inset 0 0 5px black\"\r\n        },\r\n        hiddenStyle: {\r\n            border: \"solid lightgray 1px\",\r\n            borderRadius: \"25px\",\r\n            padding: \"5vh\",\r\n            width: \"90%\",\r\n            height: \"90%\",\r\n            background: \"white\",\r\n            position: \"fixed\",\r\n            display: \"flex\",\r\n            flexDirection: 'column',\r\n            visibility: 'hidden',\r\n            // overflow: 'auto',\r\n        },\r\n        backshade: {\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100%\",\r\n            height: \"100vh\",\r\n            visibility: \"hidden\",\r\n            background: \"rgba(0, 0, 0, 0.5)\"\r\n        },\r\n        closeButton: {\r\n            position: \"absolute\", \r\n            top: \"5vh\", \r\n            left: \"95%\", \r\n            display: \"inline\", \r\n            color: 'red', \r\n            fontSize: '2vw', \r\n            cursor: \"pointer\"\r\n        },\r\n        visible: false,\r\n        contents: null\r\n    }\r\n\r\n    displayPopWin = () => {        \r\n        this.props.onClickPopup()\r\n            .then(result => {                \r\n                let backshade = {...this.state.backshade};\r\n                backshade.visibility = \"visible\";\r\n        \r\n                this.setState({ visible: true, backshade, contents: this.props.children });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n    }\r\n    \r\n    closePopWin = () => {\r\n        let backshade = {...this.state.backshade};\r\n        backshade.visibility = \"hidden\";\r\n\r\n        this.setState({ visible: false, backshade });\r\n    }\r\n\r\n    constructor (props) {\r\n        super(props);\r\n        // this.props.onClickPopup();\r\n\r\n    }\r\n\r\n    componentDidMount = (props) => {\r\n        if(!this.props.displaystyle) return;\r\n        \r\n        let visibleStyle = {...this.state.visibleStyle};\r\n\r\n        let displaystyle = {...this.props.displaystyle};\r\n\r\n        for (var element in displaystyle) {\r\n            visibleStyle[element] = displaystyle[element];\r\n        };\r\n        this.setState({ visibleStyle });\r\n        \r\n        console.log(visibleStyle);\r\n\r\n    } \r\n\r\n    render() {\r\n        const { buttonstyle, showbutton } = this.props;        \r\n        return (\r\n            <React.Fragment>\r\n                <button onClick={this.displayPopWin} className={\"btn btn-primary\"}>\r\n                    {showbutton}\r\n                </button>\r\n                <div style={this.state.backshade} onClick={this.closePopWin}></div>\r\n                <div style={this.state.visible === true \r\n                                ? this.state.visibleStyle \r\n                                : this.state.hiddenStyle} \r\n                    id=\"popWindow\">\r\n                    <div style={{width: \"100%\", flex: 9 }}>\r\n                        {this.state.contents}\r\n                    </div>\r\n                    {/* <div style={{flex: 1, position: \"absolute\", top: \"5vh\", left: \"90%\"}}> */}\r\n                        <span style={this.state.closeButton} \r\n                                onClick={this.closePopWin}><FontAwesomeIcon icon='window-close' /></span>\r\n                    {/* </div> */}\r\n                </div>\r\n            </React.Fragment>\r\n      );\r\n   }\r\n}\r\n\r\nexport default PopupWindow;\r\n\r\nconst popwin = {\r\n    border: \"solid black 1px\",\r\n    borderRadius: \"25px\",\r\n    padding: \"25px\",\r\n    width: \"20vw\",\r\n    height: \"30vh\",\r\n    background: \"lightgray\",\r\n    position: \"absolute\",\r\n    display: \"none\"\r\n  }","import React, { Component } from 'react';\r\nimport Input, { DropDownList } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport PopupWindow from '../../common/popupwindow';\r\nimport Chart from \"react-google-charts\";\r\nimport processing from '../../images/processing.gif';\r\n\r\nimport { getMeterReadingList } from '../../appcode/invclientassets';\r\n\r\n\r\nclass MetersForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n        columns: [\r\n            { type: \"date\", id: \"readingDate\" },\r\n            { type: \"number\", id: \"readingValue\"}\r\n        ],\r\n        \r\n        rows: [],\r\n        meterReadings: []\r\n    }\r\n\r\n    handleOnPopup = () => {\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const { projectName, contractName, meterNumber } = this.props;\r\n    \r\n            let meterReadings = [];\r\n            let rows = [[\"Date\", \"Value\"]];\r\n\r\n            getMeterReadingList('', projectName, contractName, meterNumber)\r\n                .then(result => {\r\n                    meterReadings = result.Result;            \r\n                    // let columns = [];\r\n                    \r\n                    if(meterReadings.length !== 0)\r\n                    {\r\n                        meterReadings.map(r => {\r\n                            rows.push([r.readingDate, r.readingValue]);\r\n                        });\r\n                    }\r\n                    else\r\n                    {\r\n                        rows.push([new Date(), 0]);\r\n                    }\r\n\r\n                    this.setState({ rows, meterReadings });\r\n                    resolve(rows);\r\n    \r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                    reject(error);\r\n                });\r\n        \r\n        });\r\n\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = async () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = await this.props.handlers.handleOnSave(flags);\r\n        \r\n        if(result.Success === 'Ok')\r\n        {\r\n            // hide the top Add and Cance buttons \r\n            // and show the bottom Save and Cancel buttons\r\n            this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n    \r\n            // Set the all flags to false to disable the fields...\r\n            flags.isAdd = false;\r\n            flags.isEdit = false;\r\n            this.setState({ flags });\r\n        }\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    componentDidMount = () => {\r\n        // console.log('componentDidMount Start');\r\n        // this.handleOnPopup();\r\n        // console.log('componentDidMount End');\r\n    }\r\n\r\n    render() {\r\n        const { meter } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"col-md-10\">\r\n                    <div className={this.state.topTBVisible}>\r\n                        <ButtonToolbar>\r\n                            <ButtonGroup justified>\r\n                                <ButtonGroup>\r\n                                    <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                        <FontAwesomeIcon icon='plus' />\r\n                                    </Button>\r\n                                </ButtonGroup>\r\n                                <ButtonGroup>\r\n                                    <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                        <FontAwesomeIcon icon='edit' />\r\n                                    </Button>\r\n                                </ButtonGroup>\r\n                            </ButtonGroup>\r\n                        </ButtonToolbar>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                <PopupWindow showbutton={<FontAwesomeIcon icon='chart-line' />} \r\n                        onClickPopup={this.handleOnPopup}>\r\n                        <p className='h4' style={{color: \"blue\", fontWeight: 'bold'}}>Meter Readings for {this.props.meterNumber}</p>\r\n                        {/* <DataChart passedData={this.state.rows} key={this.state.rows}/> */}\r\n                        <Chart\r\n                            chartType=\"LineChart\"\r\n                            data={this.state.rows}\r\n                            width=\"100%\"\r\n                            height=\"90%\"\r\n                            loader={<div>Loading Chart</div>}\r\n                            options={{\r\n                                title: '',\r\n                                vAxis: {\r\n                                    title: 'Meter Reating',\r\n                                },\r\n                                hAxis: {\r\n                                    title: 'Reading Date',\r\n                                },    \r\n                                is3D: true,\r\n                                legend: 'none',\r\n                                }} \r\n                            />\r\n                    </PopupWindow>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='txtMeterNumber'\r\n                    label='Meter Number'\r\n                    type='text'\r\n                    value={meter.Number}\r\n                    onChange={this.props.handlers.handleMeterNumberChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <DropDownList \r\n                    name=\"ddlMeterTypes\"\r\n                    label=\"Meter Type\"\r\n                    values={[{Name: \"\"}, {Name: \"Water\"}, {Name: \"Electricity\"}]}\r\n                    onChange={this.props.handlers.handleMeterTypeChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                    defValue={meter.Type}\r\n                />\r\n                <Input \r\n                    name='txtMeterLocation'\r\n                    label='Location'\r\n                    type='text'\r\n                    value={meter.Location}\r\n                    onChange={this.props.handlers.handleMeterLocationChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtMeterRemarks'\r\n                    label='Remarks'\r\n                    type='text'\r\n                    value={meter.Remarks}\r\n                    onChange={this.props.handlers.handleMeterRemarksChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n\r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n};\r\n\r\nclass DataChart extends Component {\r\n    render () {\r\n        const { passedData } = this.props;\r\n\r\n        return (\r\n            <Chart\r\n                chartType=\"LineChart\"\r\n                data={passedData}\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                loader={<div>Loading Chart</div>}\r\n                options={{\r\n                    title: '',\r\n                    vAxis: {\r\n                        title: 'Value',\r\n                    },\r\n                    hAxis: {\r\n                        title: 'Date',\r\n                    },    \r\n                    is3D: true,\r\n                    legend: 'none',\r\n                    }} \r\n                />\r\n        );\r\n    }\r\n}\r\n\r\nexport default MetersForm;","import React, { Component } from 'react';\r\nimport Input, { TextArea } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap';\r\nimport processing from '../../images/processing.gif';\r\nimport ContMeterReadings from './contractmeterreading';\r\nimport PopupWindow from '../../common/popupwindow';\r\nimport Chart from \"react-google-charts\";\r\n\r\nclass ReadingsForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    getMeterReading = (prj, ctr, mnum) => {\r\n\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = this.props.handlers.handleOnSave(flags);\r\n        console.log(result);\r\n\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { meterReading } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.state.topTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                    <FontAwesomeIcon icon='plus' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                    <FontAwesomeIcon icon='edit' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='dtReadingDate'\r\n                    label='Reading Date'\r\n                    type='date'\r\n                    value={meterReading.readingDate}\r\n                    onChange={this.props.handlers.handleReadingDateChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                <Input \r\n                    name='txtReadingValue'\r\n                    label='Reading Value'\r\n                    type='text'\r\n                    value={meterReading.readingValue}\r\n                    onChange={this.props.handlers.handleReadingValueChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <Input \r\n                    name='txtConsumption'\r\n                    label='Consumption'\r\n                    type='number'\r\n                    value={meterReading.consumption}\r\n                    flgDisabled=\"disabled\"\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReadingsForm;","import React, { Component } from 'react';\r\nimport ItemsList from '../../common/itemslist';\r\nimport { getClientsNames, \r\n         getProjectsOfClient, \r\n         getContractsForProject } from '../../appcode/fincsoa';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { getClientDocument, \r\n         addClient, updateClientByName, \r\n         getProjectDocument,\r\n         addProject, updateProjectByName,\r\n         getContractByName,\r\n         getMeterDoc, getMetersList,\r\n         addMeter, updateMeter,\r\n         getMeterReadingList, getMeterReadingDoc,\r\n         addMeterReading, updateMeterReading } from '../../appcode/invclientassets';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport ClientForm from './clientform';\r\nimport ProjectForm from './projectform';\r\nimport ContractForm from './contractform';\r\nimport MetersForm from './metersform';\r\nimport ReadingsForm from './meterreadingsform';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\n\r\nclass ContMeterReadings extends Component {\r\n    state = {\r\n        fullClientsList: [],\r\n        clientsList: [],\r\n        projectsList: [],\r\n        fullProjectsList: [],\r\n        contractsList: [],\r\n        fullContractsList: [],\r\n        metersItems: [],\r\n        fullMetersItems: [],\r\n        meterReadings: [],\r\n        fullMeterReadings: [],\r\n        showClientsProcess: true,\r\n        showProjectsProcess: false,\r\n        showContractsProcess: false,\r\n        showMetersProcess: false,\r\n        showMainLogProcess: false,\r\n        showFormProcess: \"hidden\",\r\n        selectedClient: '',\r\n        selectedProject: '',\r\n        selectedContract: '',\r\n        selectedMeter: '',\r\n        selectedReading: '',\r\n        visibileColumns: {\r\n            first: 0,\r\n            last: 2\r\n        },\r\n        visibilityFlags: [\r\n            \"\",\r\n            \"\",\r\n            \"\",\r\n            \"hidden\",\r\n            \"hidden\"\r\n        ],\r\n        propControl: ``,\r\n        propControlTitle: 'Client',\r\n        client: {\r\n            clName: '',\r\n            clEmail: '',\r\n            clContactName: '',\r\n            clContactNumber: '',\r\n            clAddress: '',\r\n            SitesCount: 0\r\n        },\r\n        project: {\r\n            prjName: '',\r\n            prjCode: '',\r\n            prjDescription: '',\r\n            clientName: ''\r\n        },\r\n        meter: {\r\n            Number: '',\r\n            Location: '',\r\n            Remarks: '',\r\n            Type: ''\r\n        },\r\n        contract: {\r\n            contName: '',\r\n            contCode: '',\r\n            Description: '',\r\n            contactEmails: '',\r\n            contactPerson: '',\r\n            effectDate: '',\r\n            expiryDate: ''\r\n        },\r\n        meterReading: {\r\n            readingDate: new Date(),\r\n            readingValue: 0,\r\n            consumption: 0\r\n          },\r\n        uprofile: {}\r\n    } \r\n\r\n    handleGoLeft = () => {\r\n        let visibileColumns = {...this.state.visibileColumns};\r\n        let visibilityFlags = [...this.state.visibilityFlags];\r\n\r\n        if(visibileColumns.first === 0) return;\r\n\r\n        for(let i=0; i<this.state.visibilityFlags.length; i++)\r\n        {   \r\n            if(i>=visibileColumns.first-1 && i<=visibileColumns.last-1) \r\n            {\r\n                visibilityFlags[i] = \"\";\r\n            }\r\n            else\r\n            {\r\n                visibilityFlags[i] = \"hidden\";\r\n            }\r\n        }\r\n\r\n        --visibileColumns.first;\r\n        --visibileColumns.last;\r\n\r\n        this.setState({ visibileColumns, visibilityFlags });\r\n\r\n    }\r\n\r\n    handleGoRight = () => {\r\n        let visibileColumns = {...this.state.visibileColumns};\r\n        let visibilityFlags = [...this.state.visibilityFlags];\r\n\r\n        if(visibileColumns.last === visibilityFlags.length-1) return;\r\n\r\n\r\n        for(let i=0; i<this.state.visibilityFlags.length; ++i)\r\n        {\r\n            if(i>=visibileColumns.first+1 && i<=visibileColumns.last+1) \r\n            {\r\n                visibilityFlags[i] = \"\";\r\n            }\r\n            else\r\n            {\r\n                visibilityFlags[i] = \"hidden\";\r\n            }\r\n        }\r\n\r\n        ++visibileColumns.first;\r\n        ++visibileColumns.last;\r\n\r\n        this.setState({ visibileColumns, visibilityFlags });\r\n    }\r\n\r\n    metersFormHandlers = {\r\n        handleGetReadings: (event) => {\r\n            // this.setState({ showMainLogProcess: true });\r\n            // this.setState({ assetsMaintLog: [] });\r\n            // let selectedMeter = this.state.selectedMeter;\r\n            // let cltName = this.state.selectedClient;\r\n            // let prjName = this.state.selectedProject;\r\n            // let contName = this.state.selectedContract;\r\n            // let meterReadingsValue = [];\r\n\r\n            // getMeterReadingList(cltName, prjName, contName, selectedMeter)\r\n            //     .then(result => {\r\n            //         console.log(result);\r\n            //         if(result.Result.length !== 0) {\r\n            //             result.Result.map(c => {\r\n            //                 let meterReading = {\r\n            //                     readingDate: c.readingDate,\r\n            //                     readingValue: c.readingValue\r\n            //                 };\r\n            //                 console.log(meterReading);\r\n            //                 meterReadingsValue.push(meterReading);\r\n            //             });\r\n            //         }\r\n\r\n            //     })\r\n            //     .catch(error => {\r\n            //         console.log(error);\r\n            //     });\r\n\r\n            // console.log(meterReadingsValue);\r\n            return this.state.meterReadings;\r\n        },\r\n\r\n        handleMeterNumberChange: (event) => {\r\n            let meter = {...this.state.meter};\r\n            meter.Number = event.currentTarget.value;\r\n    \r\n            this.setState({ meter });\r\n        },\r\n    \r\n        handleMeterLocationChange: (event) => {\r\n            let meter = {...this.state.meter};\r\n            meter.Location = event.currentTarget.value;\r\n    \r\n            this.setState({ meter });\r\n        },\r\n    \r\n        handleMeterTypeChange: (event) => {\r\n            let meter = {...this.state.meter};\r\n            meter.Type = event.currentTarget.value;\r\n    \r\n            this.setState({ meter });\r\n        },\r\n    \r\n        handleMeterCountChange: (event) => {\r\n            let meter = {...this.state.meter};\r\n            meter.Count = event.currentTarget.value;\r\n    \r\n            this.setState({ meter });\r\n        },\r\n\r\n        handleMeterRemarksChange: (event) => {\r\n            let meter = {...this.state.meter};\r\n            meter.Remarks = event.currentTarget.value;\r\n    \r\n            this.setState({ meter });\r\n        },\r\n            \r\n        handleOnAdd: () => {\r\n            let meter = {...this.state.meter};\r\n\r\n            meter.Number = \"\";\r\n            meter.Location = \"\";\r\n            // meter.Description = \"\";\r\n            // meter.Count = 0;\r\n            meter.Remarks = '';\r\n            \r\n            this.setState({ meter });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            const { selectedProject, selectedContract, selectedMeter } = this.state;\r\n\r\n            if(selectedMeter === '') \r\n            {   let meter = {\r\n                Number: '',\r\n                // Description: '',\r\n                Location: '',\r\n                // Count: 0,\r\n                Remarks: '' }\r\n                this.setState({ meter });\r\n                return;\r\n            }\r\n\r\n            getMeterDoc(selectedProject, selectedContract, selectedMeter)\r\n                .then(result => {\r\n                    let meter = {...result.Result};\r\n\r\n                    this.setState({ meter });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n\r\n        handleOnSave: async (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let meter = {...this.state.meter};\r\n            let prjName = this.state.selectedProject;\r\n            let contName = this.state.selectedContract;\r\n\r\n            if(flags.isAdd)\r\n            {\r\n                return addMeter(prjName, contName, meter)\r\n                    .then(result => {\r\n                        if(result.Success === 'Ok')\r\n                        {\r\n                            let metersItems = [...this.state.metersItems];\r\n    \r\n                            metersItems.push(meter);\r\n                            metersItems = metersItems.sort(function(a, b){\r\n                                var x = a.Number.toLowerCase();\r\n                                var y = b.Number.toLowerCase();\r\n                                if (x < y) {return -1;}\r\n                                if (x > y) {return 1;}\r\n                                return 0;\r\n                            });\r\n    \r\n                            this.setState({ metersItems, showFormProcess: \"hidden\" });\r\n                            \r\n                            toast.success('New Asset Saved Successfully...',\r\n                            {\r\n                                position: toast.POSITION.TOP_RIGHT,\r\n                                autoClose: 5000,\r\n                                hideProgressBar: false,\r\n                                closeOnClick: true,\r\n                                pauseOnHover: true,\r\n                                draggable: true\r\n                            });\r\n\r\n                        }\r\n                        else\r\n                        {\r\n                            toast.warn(result.FailReason,\r\n                            {\r\n                                position: toast.POSITION.TOP_RIGHT,\r\n                                autoClose: 5000,\r\n                                hideProgressBar: false,\r\n                                closeOnClick: true,\r\n                                pauseOnHover: true,\r\n                                draggable: true\r\n                            });\r\n                            this.setState({ showFormProcess: \"hidden\" });\r\n\r\n                        }\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                        return error;\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                return updateMeter(prjName, contName, meter)\r\n                    .then(result => {\r\n\r\n                        this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('Exitsing Meter Updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                        return error;\r\n                    });\r\n                    \r\n            }\r\n        }\r\n    }\r\n\r\n    readingsFormHandlers = {\r\n        handleReadingDateChange: (event) => {\r\n            let meterReading = {...this.state.meterReading};\r\n            meterReading.readingDate = event.currentTarget.value;\r\n    \r\n            this.setState({ meterReading });\r\n        },\r\n    \r\n        handleReadingValueChange: (event) => {\r\n            let meterReading = {...this.state.meterReading};\r\n            meterReading.readingValue = event.currentTarget.value;\r\n    \r\n            this.setState({ meterReading });\r\n        },\r\n\r\n        handleOnAdd: () => {\r\n            let meterReading = {...this.state.meterReading};\r\n\r\n            meterReading.readingDate = new Date();\r\n            meterReading.readingValue = \"\";\r\n            meterReading.consumption = 0;\r\n\r\n            this.setState({ meterReading });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            const { selectedClient, selectedProject, selectedContract, \r\n                    selectedMeter, selectedReading} = this.state;\r\n\r\n                getMeterReadingList(selectedClient, selectedProject, \r\n                          selectedContract, selectedMeter, \r\n                          selectedReading)\r\n                .then(result => {\r\n                    let meterReading = {...result.Result};\r\n\r\n                    this.setState({ meterReading });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n\r\n        handleOnSave: (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let meterReading = {...this.state.meterReading};\r\n            let cltName = this.state.selectedClient;\r\n            let prjName = this.state.selectedProject;\r\n            let contName = this.state.selectedContract;\r\n            let meterNumber = this.state.selectedMeter;\r\n            \r\n            if(flags.isAdd)\r\n            {\r\n                addMeterReading(cltName, prjName, contName, meterNumber, meterReading)\r\n                    .then(result => {\r\n                        // meterReading = {...result.Result};\r\n                        let meterReadings = [...this.state.meterReadings];\r\n\r\n                        meterReadings.push(meterReading);\r\n                        meterReadings = meterReadings.sort(function(a, b){                            \r\n                            var x = a.readingDate;\r\n                            var y = b.readingDate;\r\n                            if (x < y) {return -1;}\r\n                            if (x > y) {return 1;}\r\n                            return 0;\r\n                        });\r\n\r\n                        for(let n=0; n < meterReadings.length; n++)\r\n                        {\r\n                            if(meterReadings[n].readingDate === meterReading.readingDate)\r\n                            {\r\n                                let prevReading = 0;\r\n\r\n                                if(n !== 0)\r\n                                {\r\n                                    prevReading = meterReadings[n].readingValue - meterReadings[n-1].readingValue;\r\n                                    \r\n                                }\r\n                                else\r\n                                {\r\n                                    prevReading = 0;\r\n                                }\r\n\r\n                                meterReading.consumption = prevReading;\r\n                            }\r\n                        }\r\n\r\n                        this.setState({ meterReadings, showFormProcess: \"hidden\", meterReading });\r\n                        \r\n                        toast.success('New Meter Reading Saved Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                updateMeterReading(cltName, prjName, contName, meterNumber, meterReading)\r\n                    .then(result => {\r\n                        this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('Exitsing Meter Reading Updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    handleClientColumnClick = () => {\r\n        let propControl= 'ClientForm';\r\n        let propControlTitle= 'Client';\r\n        let client = {...this.state.client};\r\n\r\n        client.clName = '';\r\n        client.clEmail = '';\r\n        client.clContactName = '';\r\n        client.clContactNumber = '';\r\n        client.clAddress = '';\r\n\r\n        this.setState({ propControl, propControlTitle, client });\r\n    }\r\n\r\n    handleOnClientClick = (clName) => {\r\n        this.setState({ showProjectsProcess: true });\r\n        this.setState({ projectsList: [], \r\n                        contractsList: [],\r\n                        assetsItems: [],\r\n                        assetsMaintLog: [],\r\n                        selectedProject: '',\r\n                        selectedContract: '',\r\n                        selectedAsset: '',\r\n                        selectedMainLog: ''\r\n                    });\r\n        let selectedClient = clName;\r\n\r\n        getProjectsOfClient(clName)\r\n            .then(result => {\r\n                let projectsList = [];\r\n                let fullProjectsList = [];\r\n\r\n                if(result.Result.length !== 0)\r\n                {\r\n                    result.Result.map(c => {\r\n                        let project = {\r\n                            prjName: c.name\r\n                        };\r\n    \r\n                        projectsList.push(project);\r\n                        fullProjectsList.push(project);\r\n                    });    \r\n                }\r\n                \r\n                getClientDocument(clName)\r\n                    .then(result => {\r\n                        let clients = [...result.Result];\r\n                        let client = {...clients[0]};\r\n\r\n                        this.setState({ client });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n\r\n                this.setState({ projectsList, fullProjectsList, selectedClient });\r\n                this.setState({ showProjectsProcess: false });\r\n                this.setState({ propControl: 'ClientForm', propControlTitle: 'Client' });\r\n                \r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleProjectColumnClick = () => {\r\n        if(this.state.selectedClient === '')\r\n        {\r\n            toast.warn('You did not select a client!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'ProjectForm';\r\n            let propControlTitle= 'Project';\r\n            let project = {...this.state.project};\r\n    \r\n            project.prjName = '';\r\n            project.prjCode = '';\r\n            project.prjDescription = '';\r\n            project.clientName = '';\r\n    \r\n            this.setState({ propControl, propControlTitle, project });\r\n        }\r\n    }\r\n\r\n    handleOnProjectClick = (prjName) => {\r\n        this.setState({ showContractsProcess: true });\r\n        this.setState({ contractsList: [],\r\n                        assetsItems: [],\r\n                        assetsMaintLog: [] });\r\n        let selectedProject = prjName;\r\n\r\n        getContractsForProject(prjName)\r\n            .then(result => {\r\n                let contractsList = [];\r\n                let fullContractsList = [];\r\n\r\n                if(result.Result.length !== 0) {\r\n                    result.Result.map(c => {\r\n                        let contract = {\r\n                            contName: c.name\r\n                        };\r\n    \r\n                        contractsList.push(contract);\r\n                        fullContractsList.push(contract);\r\n                    });\r\n                }\r\n\r\n                getProjectDocument(prjName)\r\n                    .then(result => {\r\n                        let projects = [...result.Result];\r\n                        let project = {...projects[0]};\r\n\r\n                        this.setState({ project });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n\r\n                this.setState({ contractsList, fullContractsList, selectedProject, \r\n                                propControl: 'ProjectForm', \r\n                                propControlTitle: 'Project' });\r\n                this.setState({ showContractsProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    handleContractColumnClick = () => {\r\n        if(this.state.selectedProject === '')\r\n        {\r\n            toast.warn('You did not select a project!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'ContractForm';\r\n            let propControlTitle= 'Contract';\r\n            let contract = {...this.state.contract};\r\n    \r\n            contract.contName = '';\r\n            contract.contCode = '';\r\n            contract.Description = '';\r\n            contract.contactPerson = '';\r\n            contract.contactEmails = '';\r\n            contract.effectDate = '';\r\n            contract.expiryDate = '';\r\n    \r\n            this.setState({ propControl, propControlTitle, contract });\r\n        }\r\n    }\r\n\r\n    handleOnContractClick = (contName) => {\r\n        this.setState({ showMetersProcess: true });\r\n        this.setState({ metersItems: [],\r\n                        meterReadings: [] });\r\n        let selectedContract = contName;\r\n        let prjName = this.state.selectedProject;\r\n\r\n        getMetersList(prjName, contName)\r\n            .then(result => {\r\n                let metersItems = [];\r\n                let fullMetersItems = [];\r\n\r\n                if(result.Result.length !== 0) {\r\n                    result.Result.map(c => {\r\n                        let meter = {\r\n                            Number: c.Number,\r\n                            Type: c.Type\r\n                        };\r\n    \r\n                        metersItems.push(meter);\r\n                        fullMetersItems.push(meter);\r\n                    });\r\n                }\r\n\r\n                getContractByName(this.state.selectedProject, selectedContract)\r\n                    .then(result => {\r\n                        let contract = {...result.Result};\r\n                        this.setState({ contract });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n\r\n                this.setState({ metersItems, fullMetersItems, selectedContract, \r\n                                propControl: 'ContractForm', \r\n                                propControlTitle: 'Contract' });\r\n                this.setState({ showMetersProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n            if(this.state.visibileColumns.last < 3)\r\n            {\r\n                this.handleGoRight();\r\n            }\r\n    }\r\n\r\n    handleOnMeterClick = (meterNumber) => {\r\n        this.setState({ showMainLogProcess: true });\r\n        this.setState({ assetsMaintLog: [] });\r\n        let selectedMeter = meterNumber;\r\n        let cltName = this.state.selectedClient;\r\n        let prjName = this.state.selectedProject;\r\n        let contName = this.state.selectedContract;\r\n\r\n        getMeterReadingList(cltName, prjName, contName, selectedMeter)\r\n            .then(result => {\r\n                let meterReadings = [];\r\n\r\n                if(result.Result.length !== 0) {\r\n                    result.Result.map(c => {\r\n                        let meterReading = {\r\n                            readingDate: c.readingDate,\r\n                            readingValue: c.readingValue\r\n                        };\r\n    \r\n                        meterReadings.push(meterReading);\r\n                    });\r\n                }\r\n\r\n                getMeterDoc(prjName, contName, selectedMeter)\r\n                    .then(result => {\r\n                        let meter = {...result.Result};\r\n                        this.setState({ meter });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n\r\n                this.setState({ selectedMeter, meterReadings,\r\n                                propControl: 'MetersForm', \r\n                                propControlTitle: 'Meters' });\r\n                this.setState({ showMainLogProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n\r\n            if(this.state.visibileColumns.last < 3)\r\n            {\r\n                this.handleGoRight();\r\n            }\r\n\r\n        if(this.state.visibileColumns.last < 4)\r\n        {\r\n            this.handleGoRight();\r\n        }\r\n\r\n    }\r\n\r\n    handleMetersColumnClick = () => {\r\n        if(this.state.selectedContract === '')\r\n        {\r\n            toast.warn('You did not select a contract!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'MetersForm';\r\n            let propControlTitle= 'Meters';\r\n            let asset = {...this.state.asset};\r\n    \r\n            asset = {\r\n                Title: '',\r\n                Description: '',\r\n                Location: '',\r\n                Count: 0,\r\n                Remarks: ''\r\n            }\r\n\r\n            this.setState({ propControl, propControlTitle, asset });\r\n        }\r\n    }\r\n\r\n    handleReadingsLogColumnClick = () => {\r\n        if(this.state.selectedMeter === '')\r\n        {\r\n            toast.warn('You did not select a Meter!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'ReadingsForm';\r\n            let propControlTitle= 'Meter Reading Log';\r\n            let meterReading = {...this.state.meterReading};\r\n    \r\n            meterReading = {\r\n                readingDate: new Date(),\r\n                readingValue: ''\r\n              }\r\n    \r\n\r\n            this.setState({ propControl, propControlTitle, meterReading });\r\n        }\r\n    }\r\n\r\n    handleOnMeterReadingsClick = (readingDate) => {\r\n        this.setState({ showMainLogProcess: true });\r\n        this.setState({ meterReading: {} });\r\n        let meterReading = {};\r\n        let selectedReadingDate = readingDate;\r\n        let cltName = this.state.selectedClient;\r\n        let prjName = this.state.selectedProject;\r\n        let contName = this.state.selectedContract;\r\n        let meterNumber = this.state.selectedMeter;\r\n\r\n        // for(let n=0; n<this.state.meterReadings.length; n++)\r\n        // {\r\n        //     if(this.state.meterReadings[n].readingDate === readingDate)\r\n        //     {\r\n        //         let prevReading = 0;\r\n\r\n        //         if(n !== 0)\r\n        //         {\r\n        //             prevReading = this.state.meterReadings[n].readingValue - this.state.meterReadings[n-1].readingValue;\r\n                    \r\n        //         }\r\n        //         else\r\n        //         {\r\n        //             prevReading = 0;\r\n        //         }\r\n\r\n        //         meterReading = {...this.state.meterReadings[n]};\r\n        //         meterReading.consumption = prevReading;\r\n\r\n        //         // this.setState({ meterReading }, () => {\r\n        //         //     console.log(this.state.meterReading);\r\n        //         // });\r\n        //         console.log(meterReading);\r\n        //         this.setState({ selectedReadingDate, meterReading, \r\n        //                         propControl: 'ReadingsForm', \r\n        //                         propControlTitle: 'Meter Readings',\r\n        //                         showMainLogProcess: false }, () => { console.log(this.state.meterReading); });\r\n        //     }\r\n        // }\r\n\r\n        // console.log('Outside For: ', meterReading);\r\n\r\n\r\n\r\n        getMeterReadingDoc(cltName, prjName, contName, meterNumber, selectedReadingDate)\r\n            .then(result => {\r\n                console.log('Result: ', result.Result);\r\n                let meterReading = result.Result;\r\n\r\n                for(let n=0; n<this.state.meterReadings.length; n++)\r\n                {\r\n                    if(this.state.meterReadings[n].readingDate === meterReading.readingDate)\r\n                    {\r\n                        let prevReading = 0;\r\n\r\n                        if(n !== 0)\r\n                        {\r\n                            prevReading = this.state.meterReadings[n].readingValue - this.state.meterReadings[n-1].readingValue;\r\n                            \r\n                        }\r\n                        else\r\n                        {\r\n                            prevReading = 0;\r\n                        }\r\n\r\n                        meterReading.consumption = prevReading;\r\n\r\n                    }\r\n                }\r\n\r\n                this.setState({ selectedReadingDate, meterReading,\r\n                                propControl: 'ReadingsForm', \r\n                                propControlTitle: 'Meter Readings' });\r\n                this.setState({ showMainLogProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n        \r\n\r\n        if(this.state.visibileColumns.last < 4)\r\n        {\r\n            this.handleGoRight();\r\n        }\r\n\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    \r\n        this.state.showClientsProcess = true;\r\n\r\n        getClientsNames()\r\n            .then(result => {\r\n                let clientsList = [];\r\n                let fullClientsList = [];\r\n\r\n                result.Result.map(c => {\r\n                    let client = {\r\n                        clName: c\r\n                    };\r\n\r\n                    clientsList.push(client);\r\n                    fullClientsList.push(client);\r\n                });\r\n\r\n                this.setState({ propControl: 'ClientForm' });\r\n                this.setState({ clientsList, fullClientsList });\r\n                this.setState({ showClientsProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n\r\n    }\r\n\r\n    handleOnClientSearch = (event) => {\r\n        let fullClientsList = [...this.state.fullClientsList];\r\n\r\n        let clientsList = fullClientsList.filter(c => c.clName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ clientsList });\r\n        \r\n    } \r\n\r\n    handleOnProjectSearch = (event) => {\r\n        let fullProjectsList = [...this.state.fullProjectsList];\r\n        let projectsList = fullProjectsList.filter(c => c.prjName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ projectsList });\r\n        \r\n    } \r\n\r\n    handleOnContractSearch = (event) => {\r\n        let fullContractsList = [...this.state.fullContractsList];\r\n\r\n        let contractsList = fullContractsList.filter(c => c.contName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ contractsList });\r\n        \r\n    } \r\n\r\n    handleOnAssetSearch = (event) => {\r\n        let fullAssetsItems = [...this.state.fullAssetsItems];\r\n\r\n        let assetsItems = fullAssetsItems.filter(c => c.title\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ assetsItems });\r\n        \r\n    } \r\n\r\n    render() {\r\n        // { data, name, label, onClick, showProcess, showList }\r\n        return (\r\n            <div className=\"col-md-12\">\r\n                <TitlePageHeader title=\"Clients and Contracts Assets Management\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"row\">\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[0]} \r\n                            style={columnStyle} onClick={this.handleClientColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Clients\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnClientSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='clName'\r\n                                    label='clName'\r\n                                    selected={this.state.selectedClient}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnClientClick}\r\n                                    data={this.state.clientsList}\r\n                                    showProcess={this.state.showClientsProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[1]} \r\n                            onClick={this.handleProjectColumnClick}\r\n                            style={columnStyle}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Projects\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnProjectSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='prjName'\r\n                                    label='prjName'\r\n                                    selected={this.state.selectedProject}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnProjectClick}\r\n                                    data={this.state.projectsList}\r\n                                    showProcess={this.state.showProjectsProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[2]} \r\n                            style={columnStyle} onClick={this.handleContractColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Contracts\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnContractSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='contName'\r\n                                    label='contName'\r\n                                    selected={this.state.selectedContract}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnContractClick}\r\n                                    data={this.state.contractsList}\r\n                                    showProcess={this.state.showContractsProcess}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[3]}\r\n                            style={columnStyle}\r\n                            onClick={this.handleMetersColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Meters\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnAssetSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='Number'\r\n                                    label='Number'\r\n                                    selected={this.state.selectedMeter}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnMeterClick}\r\n                                    data={this.state.metersItems}\r\n                                    showProcess={this.state.showMetersProcess}\r\n                                    mtype=\"meter\"\r\n                                />\r\n                            </div>\r\n                            \r\n                        </div>\r\n                        <div className={\"col-md-4 \" + this.state.visibilityFlags[4]}\r\n                            style={columnStyle} onClick={this.handleReadingsLogColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Meter Readings\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnMainLogSearch} />\r\n\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='readingDate'\r\n                                    label='readingDate'\r\n                                    selected={this.state.selectedMainLog}\r\n                                    showList={true}\r\n                                    data={this.state.meterReadings}\r\n                                    onClick={this.handleOnMeterReadingsClick}\r\n                                    showProcess={this.state.showMainLogProcess}\r\n                                />\r\n                            </div>\r\n                            \r\n                        </div>    \r\n                    </div>\r\n                    <div className=\"row\" \r\n                        style={{height: \"5vh\", backgroundColor: 'lightblue', borderRadius: \"25px\"}}>\r\n                        <div className=\"col-md-1\">\r\n                            <button className=\"btn btn-sm btn-primary\"\r\n                                onClick={this.handleGoLeft}>\r\n                                <FontAwesomeIcon icon=\"chevron-left\" />\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"col-md-10\"></div>\r\n                        <div className=\"col-md-1\"\r\n                            onClick={this.handleGoRight}>\r\n                            <button className=\"btn btn-sm btn-primary\" >\r\n                            <FontAwesomeIcon icon=\"chevron-right\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-4\" style={propColumnStyle}>\r\n                    <div className='col-md-12' \r\n                        style={propColumnTitleStyle}>\r\n                        {this.state.propControlTitle + \" Properties\"}\r\n                    </div>\r\n                    {this.renderProperties()}\r\n                </div>\r\n                <ToastContainer\r\n                    position=\"top-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnVisibilityChange\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n            </div>\r\n        );\r\n   }\r\n\r\n    renderProperties = () => {\r\n        switch(this.state.propControl)\r\n        {\r\n            case 'ClientForm':\r\n                return (<ClientForm \r\n                    client={this.state.client} \r\n                    handlers={this.clientFormHandlers} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n            case 'ProjectForm':\r\n                return (<ProjectForm \r\n                    project={this.state.project} \r\n                    handlers={this.projectFormHandlers} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n\r\n            case 'MetersForm':\r\n                return (<MetersForm \r\n                    meter={this.state.meter} \r\n                    projectName={this.state.selectedProject}\r\n                    contractName={this.state.selectedContract}\r\n                    meterNumber={this.state.selectedMeter}\r\n                    handlers={this.metersFormHandlers} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n            \r\n            case 'ContractForm':\r\n                return (<ContractForm \r\n                    contract={this.state.contract} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n  \r\n            case 'ReadingsForm':\r\n                return (<ReadingsForm \r\n                    meterReading={this.state.meterReading}\r\n                    handlers={this.readingsFormHandlers} \r\n                    showFormProcess={this.state.showFormProcess} />);\r\n            \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport default ContMeterReadings;\r\n\r\nconst columnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"70vh\"\r\n}\r\n\r\nconst propColumnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"75vh\",\r\n    backgroundColor: 'lightgray',\r\n    overflow: \"auto\"\r\n}\r\n\r\nconst columnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst searchTextStyle = {\r\n    fontSize: '0.75vw', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"5px\",\r\n    paddingBottom: \"5px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst propColumnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'gray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} ","import { firebase } from '../constants/firebase';\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nexport const getUserGroups = async () => {\r\n    // This function gets the list of all existing User Groups Names.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    // const settings = { timestampsInSnapshots: true };\r\n    // db.settings(settings);\r\n\r\n    var usersDb = db.collection('Users').doc('docUserGroups').collection('colUserGroups');\r\n\r\n    var userGroups = [];\r\n    var Name = \"\";\r\n\r\n    // get all documents in the user groups collection...\r\n    return usersDb.get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docUG) => {\r\n                Name = docUG.data().Name;\r\n                userGroups.push({Name: Name});\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = userGroups;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No User Groups were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getUserGroup = async (ugName) => {\r\n    // This function gets the document of the given User Group Name.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    // const settings = { timestampsInSnapshots: true };\r\n    // db.settings(settings);\r\n\r\n    var usersDb = db.collection('Users').doc('docUserGroups').collection('colUserGroups');\r\n\r\n    var userGroup = {};\r\n\r\n    // get all documents in the user groups collection...\r\n    return usersDb.where(\"Name\", \"==\", ugName).get()\r\n    .then((snapshot) => {\r\n\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            userGroup = {...snapshot.docs[0].data()};\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = userGroup;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No User Group found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getUsers = async (userGroupName) => {\r\n    // This function gets the list of all existing User Groups Names.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    // const settings = { timestampsInSnapshots: true };\r\n    // db.settings(settings);\r\n\r\n    var usersDb = db.collection('Users').doc('docUsers').collection('colUsers');\r\n\r\n    var users = [];\r\n    var displayName = \"\";\r\n\r\n    // get all documents in the user groups collection...\r\n    return usersDb.where(\"UserGroup\", \"==\", userGroupName).get()\r\n    .then((snapshot) => {\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docUser) => {\r\n                displayName = docUser.data().displayName;\r\n                users.push({displayName: displayName});\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = users;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Users were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const getUser = async (userName) => {\r\n    // This function gets the document of existing User Name.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    // const settings = { timestampsInSnapshots: true };\r\n    // db.settings(settings);\r\n\r\n    var usersDb = db.collection('Users').doc('docUsers').collection('colUsers');\r\n\r\n    var user = {};\r\n    \r\n    return usersDb.where(\"displayName\", \"==\", userName).get()\r\n    .then((snapshot) => {\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            user = {...snapshot.docs[0].data()};\r\n            funcSuccess = 'Ok';\r\n            funcResult = user;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = {};\r\n            funcFailReason = 'No User was found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addUserGroup = async (userGroup) => {\r\n    // This function adds a new User Group document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    // const settings = { timestampsInSnapshots: true };\r\n    // db.settings(settings);\r\n\r\n    var usersDb = db.collection('Users').doc('docUserGroups').collection('colUserGroups');\r\n\r\n    // get all documents in the user groups collection...\r\n    return usersDb.where(\"UserGroup\", \"==\", userGroup.Name).get()\r\n    .then((snapshot) => {\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            // the userGroup Exists... Stop the add process...\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'User Group Exists. Adding Aborted.';   \r\n\r\n            var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning\r\n            };\r\n    \r\n            // res.send(JSON.stringify(funcReturn));\r\n            return funcReturn;\r\n             \r\n        }\r\n        else\r\n        {\r\n            // It doesn't exist... Add it...\r\n            return usersDb.doc(userGroup.Name).set(userGroup);\r\n        }\r\n\r\n    })\r\n    .then(result => {\r\n        var funcReturn = {\r\n            Success: \"Ok\",\r\n            Result: result,\r\n            FailReason: \"\",\r\n            Error: \"\",\r\n            Warning: \"\"\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const editUserGroup = async (userGroup) => {\r\n    // This function edits a existing User Group document.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    var usersDb = db.collection('Users').doc('docUserGroups').collection('colUserGroups');\r\n\r\n    // get all documents in the user groups collection...\r\n    return usersDb.where(\"Name\", \"==\", userGroup.Name).get()\r\n    .then((snapshot) => {\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            console.log(\"Doc Found\")\r\n            // It exists... Update it...\r\n            return usersDb.doc(userGroup.Name).set(userGroup);             \r\n        }\r\n        else\r\n        {\r\n            console.log(\"Doc Not Found\");\r\n            // the userGroup does not Exist... Stop the add process...\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'User Group Does Not Exist. Updating Aborted.';   \r\n\r\n            var funcReturn = {\r\n                Success: funcSuccess,\r\n                Result: funcResult,\r\n                FailReason: funcFailReason,\r\n                Error: funcError,\r\n                Warning: funcWarning\r\n            };\r\n    \r\n            // res.send(JSON.stringify(funcReturn));\r\n            return funcReturn;\r\n            \r\n        }\r\n\r\n    })\r\n    .then(result => {\r\n        var funcReturn = {\r\n            Success: \"Ok\",\r\n            Result: result,\r\n            FailReason: \"\",\r\n            Error: \"\",\r\n            Warning: \"\"\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\n\r\nexport const addUser = async (user) => {\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n    \r\n    var currentUser = firebase.auth().currentUser;\r\n    var db = firebase.firestore();\r\n    var currUserPw = \"\";\r\n\r\n    db.collection(\"Users\").doc(\"docUsers\").collection(\"colUsers\")\r\n        .where(\"UID\", \"==\", currentUser.uid).get()\r\n        .then(snapshot => {\r\n            if(snapshot.docs.length > 0)\r\n            {\r\n                currUserPw = snapshot.docs[0].data().password;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n\r\n    // signup the new user with Firebase...\r\n    firebase.auth()\r\n    .createUserWithEmailAndPassword(user.email, user.password)\r\n    .then(result => {\r\n        // get the UID of the new user \r\n        // and add user profile to the database...\r\n        user.UID = result.user.uid;\r\n        user.email = user.email.toLowerCase();\r\n        return db.collection('Users')\r\n            .doc('docUsers').collection('colUsers')\r\n            .doc(user.displayName).set(user);\r\n\r\n    })\r\n    .then(result => {\r\n        // update user profile... \r\n\r\n        // signout the current user...\r\n        firebase.auth().signOut();\r\n        \r\n        // signin new user\r\n        firebase.auth().signInWithEmailAndPassword(user.email, user.password)\r\n        .then(result => {\r\n            result.user.updateProfile({\r\n                displayName: user.displayName,\r\n                phoneNumber: user.phoneNumber\r\n            });\r\n        })\r\n        .then(result => {\r\n            // logout the new user and login the old user...\r\n            firebase.auth().signOut();\r\n            firebase.auth().signInWithEmailAndPassword(currentUser.email, currUserPw);\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n\r\n    })\r\n    .then(result => {\r\n        var funcReturn = {\r\n            Success: \"Ok\",\r\n            Result: user,\r\n            FailReason: \"\",\r\n            Error: \"\",\r\n            Warning: \"\"\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch(function(error) {\r\n        console.log(error);\r\n        var funcReturn = {\r\n            Success: \"No\",\r\n            Result: null,\r\n            FailReason: \"Error\",\r\n            Error: error,\r\n            Warning: \"\"\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n\r\n    });  \r\n};\r\n\r\nexport const editUser = async (user, oldPw = '') => {\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n    \r\n    var currentUser = firebase.auth().currentUser;\r\n    var db = firebase.firestore();\r\n    var currUserPw = \"\";\r\n\r\n    db.collection(\"Users\").doc(\"docUsers\").collection(\"colUsers\")\r\n        .where(\"UID\", \"==\", currentUser.uid).get()\r\n        .then(snapshot => {\r\n            if(snapshot.docs.length > 0)\r\n            {\r\n                currUserPw = snapshot.docs[0].data().password;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n\r\n\r\n    // signup the new user with Firebase...\r\n    db.collection('Users').doc('docUsers').collection('colUsers')\r\n    .doc(user.displayName).get()\r\n    .then(snapshot => {\r\n        if(snapshot.exists)\r\n        {\r\n            return db.collection('Users')\r\n                .doc('docUsers').collection('colUsers')\r\n                .doc(user.displayName).update(user);\r\n        }\r\n    })\r\n    .then(result => {\r\n        // update user profile... \r\n\r\n        // signout the current user...\r\n        firebase.auth().signOut();\r\n        \r\n        // signin new user\r\n        firebase.auth().signInWithEmailAndPassword(user.email, oldPw)\r\n        .then(result => {\r\n            result.user.updateProfile({\r\n                displayName: user.displayName,\r\n                phoneNumber: user.phoneNumber\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error: \", error);\r\n            });\r\n\r\n\r\n            result.user.updatePassword(user.password)\r\n            .catch(error => {\r\n                console.log(\"Error: \", error);\r\n            });\r\n        })\r\n        .then(result => {\r\n            // logout the new user and login the old user...\r\n            firebase.auth().signOut();\r\n            firebase.auth().signInWithEmailAndPassword(currentUser.email, currUserPw);\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n\r\n    })\r\n    .then(result => {\r\n        var funcReturn = {\r\n            Success: \"Ok\",\r\n            Result: user,\r\n            FailReason: \"\",\r\n            Error: \"\",\r\n            Warning: \"\"\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch(function(error) {\r\n        console.log(error);\r\n        var funcReturn = {\r\n            Success: \"No\",\r\n            Result: null,\r\n            FailReason: \"Error\",\r\n            Error: error,\r\n            Warning: \"\"\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n\r\n    });\r\n};\r\n\r\nexport const getUGPrivil = (ug) => {\r\n    var db = firebase.firestore();\r\n\r\n    return db.collection(\"Users\").doc(\"docUserGroups\").collection(\"colUserGroups\")\r\n        .where(\"Name\", \"==\", ug).get()\r\n        .then(snapshot => {\r\n            if(snapshot.docs.length > 0)\r\n            {\r\n                return  snapshot.docs[0].data().Privileges;\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n        \r\n};\r\n\r\nexport const getClientUsers = async () => {\r\n    // This function gets the list of all existing Client Users Names.\r\n    //\r\n    // A document exists if it has fields. Collections within the document\r\n    // do not mean it exist if it has no fields.\r\n    //\r\n    // The function accepts no params.\r\n    //\r\n    \r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n\r\n    var db = firebase.firestore();\r\n    \r\n    // const settings = { timestampsInSnapshots: true };\r\n    // db.settings(settings);\r\n\r\n    var usersDb = db.collection('Users').doc('docClientUsers').collection('Users');\r\n\r\n    var users = [];\r\n    var userEmail = \"\";\r\n\r\n    // get all documents in the user groups collection...\r\n    return usersDb.get()\r\n    .then((snapshot) => {\r\n        if (snapshot.docs.length > 0)\r\n        {\r\n            snapshot.forEach((docUser) => {\r\n                userEmail = docUser.data().userEmail;\r\n                users.push(docUser.data());\r\n\r\n            });\r\n\r\n            funcSuccess = 'Ok';\r\n            funcResult = users;\r\n            \r\n        }\r\n        else\r\n        {\r\n            funcSuccess = 'No';\r\n            funcResult = [];\r\n            funcFailReason = 'No Users were found. Returning empty list.';\r\n        }\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch((err) => {\r\n        funcSuccess = 'No';\r\n        funcResult = [];\r\n        funcFailReason = 'Error';\r\n        funcError = err.message;\r\n\r\n        var funcReturn = {\r\n            Success: funcSuccess,\r\n            Result: funcResult,\r\n            FailReason: funcFailReason,\r\n            Error: funcError,\r\n            Warning: funcWarning\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    });\r\n};\r\n\r\nexport const addClientUser = async (user) => {\r\n    var funcSuccess = \"\";\r\n    var funcResult = \"\";\r\n    var funcError = \"\";\r\n    var funcWarning = \"\";\r\n    var funcFailReason = \"\";\r\n    \r\n    var currentUser = firebase.auth().currentUser;\r\n    var db = firebase.firestore();\r\n    var currUserPw = \"\";\r\n\r\n    // db.collection(\"Users\").doc(\"docClientUsers\").collection(\"Users\")\r\n    //     .where(\"UID\", \"==\", currentUser.uid).get()\r\n    //     .then(snapshot => {\r\n    //         if(snapshot.docs.length > 0)\r\n    //         {\r\n    //             currUserPw = snapshot.docs[0].data().password;\r\n    //         }\r\n    //     })\r\n    //     .catch(error => {\r\n    //         console.log(error);\r\n    //     });\r\n\r\n    console.log(\"User: \", user);\r\n    // signup the new user with Firebase...\r\n    firebase.auth()\r\n    .createUserWithEmailAndPassword(user.userEmail, user.passWord)\r\n    .then(result => {\r\n        // get the UID of the new user \r\n        // and add user profile to the database...\r\n        let UID = result.user.uid;\r\n        user.userEmail = user.userEmail.toLowerCase();\r\n        return db.collection('Users')\r\n            .doc('docClientUsers').collection('Users')\r\n            .doc(UID).set(user);\r\n\r\n    })\r\n    .then(result => {\r\n        var funcReturn = {\r\n            Success: \"Ok\",\r\n            Result: user,\r\n            FailReason: \"\",\r\n            Error: \"\",\r\n            Warning: \"\"\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n    })\r\n    .catch(function(error) {\r\n        console.log(error);\r\n        var funcReturn = {\r\n            Success: \"No\",\r\n            Result: null,\r\n            FailReason: \"Error\",\r\n            Error: error,\r\n            Warning: \"\"\r\n        };\r\n\r\n        // res.send(JSON.stringify(funcReturn));\r\n        return funcReturn;\r\n\r\n    });  \r\n};","import React, { useState } from 'react';\r\nimport '../css/slidingswitch.css';\r\n\r\nexport const SlidingSwitch = (props) => {\r\n    let switchState = props.value ? \"switch switchOnGrad\" : \"switch\";\r\n    let circleState = props.value ? \"circle switchOn\" : \"circle\";\r\n\r\n    let [switchDiv, setSwitchDiv] = useState(switchState);\r\n\r\n    let [circleDiv, setCircleDiv] = useState(circleState, () => {\r\n        if(circleDiv === \"circle\") {\r\n            switchDiv = \"circle switchOn\";\r\n        }\r\n        else {\r\n            switchDiv = \"circle\";\r\n        }\r\n\r\n        console.log(circleDiv);\r\n    });\r\n      \r\n    const toggleSwitch = (sD, name = null) => {\r\n        if(sD === \"switch\") {\r\n            sD = \"switch switchOnGrad\";\r\n            \r\n        }\r\n        else {\r\n            sD = \"switch\";\r\n        }\r\n\r\n        setCircleDiv(toggleCircle(circleDiv));\r\n        props.setState(!props.value, name);\r\n        return sD;\r\n    }\r\n\r\n    const toggleCircle = (cD) => {\r\n        if(cD === \"circle\") {\r\n            cD = \"circle switchOn\";\r\n        }\r\n        else {\r\n            cD = \"circle\";\r\n        }\r\n\r\n        return cD;\r\n    }\r\n\r\n    const getSwitchState = () => {\r\n        if(props.value) {\r\n            return  \"switch switchOnGrad\";\r\n            \r\n        }\r\n        else {\r\n            return \"switch\";\r\n        }\r\n    }\r\n\r\n    const getCircleState = () => {\r\n        if(props.value) {\r\n            return  \"circle switchOn\";\r\n        }\r\n        else {\r\n            return \"circle\";\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"slidingSwitchContainer\">\r\n                <div className=\"slidingSwitchLabel\">\r\n                    <label htmlFor={props.name} className=\"col-form-label inputLabel\">\r\n                        {props.label}\r\n                    </label>\r\n                </div>\r\n                <div className=\"slidingSwitch\">\r\n                    <div className={getSwitchState()} \r\n                        onClick={() => {\r\n                            if(props.flgDisabled) return;\r\n                            setSwitchDiv(toggleSwitch(switchDiv, props.name))\r\n                            }}\r\n                        id=\"divSwitch\">\r\n                        <div className={getCircleState()} \r\n                            onClick={() => {\r\n                                if(props.flgDisabled) return;\r\n                                setSwitchDiv(toggleSwitch(switchDiv, props.name))\r\n                                }}\r\n                            id='circle'>\r\n                        </div>  \r\n                    </div>\r\n                </div>\r\n                <div className=\"slidingSwitch\"></div>\r\n            </div>\r\n            <div className=\"slidingSwitchError\">\r\n                {props.error && <div className=\"alert alert-danger\">{props.error}</div>}\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport const ThinSwitch = (props) => {\r\n    let switchState = props.value ? \"switch2 switch2OnGrad\" : \"switch2\";\r\n    let circleState = props.value ? \"circle2 switch2On\" : \"circle2\";\r\n\r\n    let [switchDiv, setSwitchDiv] = useState(switchState);\r\n\r\n    let [circleDiv, setCircleDiv] = useState(circleState, () => {\r\n        if(circleDiv === \"circle2\") {\r\n            switchDiv = \"circle2 switch2On\";\r\n        }\r\n        else {\r\n            switchDiv = \"circle2\";\r\n        }\r\n\r\n        console.log(circleDiv);\r\n    });\r\n      \r\n    const toggleSwitch = (sD, name = null) => {\r\n        if(sD === \"switch2\") {\r\n            sD = \"switch2 switch2OnGrad\";\r\n        }\r\n        else {\r\n            sD = \"switch2\";\r\n        }\r\n\r\n        setCircleDiv(toggleCircle(circleDiv));\r\n        props.setState(!props.value, name);\r\n        return sD;\r\n    }\r\n\r\n    const toggleCircle = (cD) => {\r\n        if(cD === \"circle2\") {\r\n            cD = \"circle2 switch2On\";\r\n        }\r\n        else {\r\n            cD = \"circle2\";\r\n        }\r\n\r\n        return cD;\r\n    }\r\n\r\n    const getSwitchState = () => {\r\n        if(props.value) {\r\n            return  \"switch2 switch2OnGrad\";\r\n            \r\n        }\r\n        else {\r\n            return \"switch2\";\r\n        }\r\n    }\r\n\r\n    const getCircleState = () => {\r\n        if(props.value) {\r\n            return  \"circle2 switch2On\";\r\n            \r\n        }\r\n        else {\r\n            return \"circle2\";\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <React.Fragment>\r\n            <div className=\"slidingSwitchContainer\">\r\n                <div className=\"slidingSwitchLabel\">\r\n                    <label htmlFor={props.name} className=\"col-form-label inputLabel\">\r\n                        {props.label}\r\n                    </label>\r\n                </div>\r\n                <div className=\"slidingSwitch\">\r\n                <div className={getSwitchState()} \r\n                    onClick={() => {\r\n                        if(props.flgDisabled) return;\r\n                        setSwitchDiv(toggleSwitch(switchDiv, props.name))\r\n                        }}\r\n                    id=\"divSwitch\">\r\n                    <div className={getCircleState()} \r\n                        onClick={() => {\r\n                            if(props.flgDisabled) return;\r\n                            setSwitchDiv(toggleSwitch(switchDiv, props.name))\r\n                            }}\r\n                        id='circle2'>\r\n                    </div>  \r\n                </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"slidingSwitchError\">\r\n                {props.error && <div className=\"alert alert-danger\">{props.error}</div>}\r\n            </div>\r\n        </React.Fragment>\r\n        \r\n    );\r\n}\r\n","import React, { Component } from 'react';\r\nimport Input, { CheckBox } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\nimport { SlidingSwitch, ThinSwitch } from '../../common/slidingswitch';\r\n\r\nimport '../../css/usergroup.css';\r\n\r\nclass UserGroupForm extends Component {\r\n    state = {\r\n        error: '',\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n        \r\n        Privileges: {\r\n            Superuser: false,\r\n            Dashboard: false,\r\n            Masters: false,\r\n            MastHDD: false,\r\n            MastInvD: false,\r\n            MastUAdmin: false,\r\n            MastSProf: false,\r\n            Assets: false,\r\n            AssetsClients: false,\r\n            AssetsContracts: false,\r\n            Financials: false,\r\n            FinClientSOA: false,\r\n            Maintenance: false,\r\n            MaintenanceJP: false,\r\n            MaintenanceJC: false,\r\n            CustCare: false,\r\n            CustCareTkt: false,\r\n            Reports: false\r\n        }\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = this.props.handlers.handleOnSave(flags);\r\n        console.log(result);\r\n\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { userGroup } = this.props;\r\n\r\n        console.log(\"Form: \", userGroup);\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.state.topTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                    <FontAwesomeIcon icon='plus' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                    <FontAwesomeIcon icon='edit' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='Name'\r\n                    label='Group Name'\r\n                    type='text'\r\n                    value={this.props.userGroup.Name}\r\n                    onChange={(event) => this.props.handlers.handleInputChange(event.currentTarget.value, \"Name\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <SlidingSwitch \r\n                    name='Superuser'\r\n                    label='Superuser'\r\n                    value={this.props.userGroup.Privileges.Superuser}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <SlidingSwitch \r\n                    name='Dashboard'\r\n                    label='Dashboard'\r\n                    value={this.props.userGroup.Privileges.Dashboard}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <SlidingSwitch \r\n                    name='Masters'\r\n                    label='Masters'\r\n                    value={this.props.userGroup.Privileges.Masters}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <ThinSwitch \r\n                    name='MastHDD'\r\n                    label='Customer Care Master'\r\n                    value={this.props.userGroup.Privileges.MastHDD}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <ThinSwitch \r\n                    name='MastInvD'\r\n                    label='Inventory Master'\r\n                    value={this.props.userGroup.Privileges.MastInvD}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <ThinSwitch \r\n                    name='MastUAdmin'\r\n                    label='Users Administration'\r\n                    value={this.props.userGroup.Privileges.MastUAdmin}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <ThinSwitch \r\n                    name='MastSProf'\r\n                    label='Services Definitions'\r\n                    value={this.props.userGroup.Privileges.MastSProf}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <SlidingSwitch \r\n                    name='Assets'\r\n                    label='Assets'\r\n                    value={this.props.userGroup.Privileges.Assets}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <ThinSwitch \r\n                    name='AssetsClients'\r\n                    label='Clients & Assets'\r\n                    value={this.props.userGroup.Privileges.AssetsClients}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <ThinSwitch \r\n                    name='AssetsContracts'\r\n                    label='Contract Definition'\r\n                    value={this.props.userGroup.Privileges.AssetsContracts}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <SlidingSwitch \r\n                    name='Financials'\r\n                    label='Financials'\r\n                    value={this.props.userGroup.Privileges.Financials}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <ThinSwitch \r\n                    name='FinClientSOA'\r\n                    label='Clients SOA'\r\n                    value={this.props.userGroup.Privileges.FinClientSOA}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <SlidingSwitch \r\n                    name='Maintenance'\r\n                    label='Maintenance'\r\n                    value={this.props.userGroup.Privileges.Maintenance}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <ThinSwitch \r\n                    name='MaintenanceJC'\r\n                    label='Job Cards'\r\n                    value={this.props.userGroup.Privileges.MaintenanceJC}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <ThinSwitch \r\n                    name='MaintenanceJP'\r\n                    label='Job Planner'\r\n                    value={this.props.userGroup.Privileges.MaintenanceJP}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <SlidingSwitch \r\n                    name='CustCare'\r\n                    label='Customer Care'\r\n                    value={this.props.userGroup.Privileges.CustCare}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <ThinSwitch \r\n                    name='CustCareTkt'\r\n                    label='Tickets'\r\n                    value={this.props.userGroup.Privileges.CustCareTkt}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <SlidingSwitch \r\n                    name='Reports'\r\n                    label='Reports'\r\n                    value={this.props.userGroup.Privileges.Reports}\r\n                    setState={this.props.handlers.handleOnChange}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserGroupForm;","import React, { Component } from 'react';\r\nimport Input, { DropDownList } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\nimport { SlidingSwitch, ThinSwitch } from '../../common/slidingswitch';\r\n\r\nimport '../../css/usergroup.css';\r\n\r\nclass UserForm extends Component {\r\n    state = {\r\n        error: null,\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n        confPassWord: '',\r\n        confPwError: null\r\n        \r\n    }\r\n\r\n    handlePasswordConfirm = (event) => {\r\n        let confPassWord = event.currentTarget.value;\r\n        this.setState({ confPassWord });\r\n\r\n        if(confPassWord !== this.props.user.password)\r\n        {\r\n            let confPwError = \"Password and Confirmed Password do not match!\";\r\n            this.setState({ confPwError });\r\n        }\r\n        else \r\n        {\r\n            let confPwError = null;\r\n            this.setState({ confPwError });\r\n        }\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = this.props.handlers.handleOnSave(flags);\r\n        console.log(result);\r\n\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props;\r\n\r\n        console.log(\"Form: \", user);\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.state.topTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                    <FontAwesomeIcon icon='plus' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                    <FontAwesomeIcon icon='edit' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='displayName'\r\n                    label='User Name'\r\n                    type='text'\r\n                    value={user.displayName}\r\n                    onChange={(event) => this.props.handlers.handleChange(event.currentTarget.value, \"displayName\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <SlidingSwitch \r\n                    name='disabled'\r\n                    label='Disabled'\r\n                    value={user.disabled}\r\n                    setState={this.props.handlers.handleDisable}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <Input \r\n                    name='email'\r\n                    label='User Email'\r\n                    type='text'\r\n                    value={user.email}\r\n                    onChange={(event) => this.props.handlers.handleChange(event.currentTarget.value, \"email\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <Input \r\n                    name='phoneNumber'\r\n                    label='Phone Number'\r\n                    type='text'\r\n                    value={user.phoneNumber}\r\n                    onChange={(event) => this.props.handlers.handleChange(event.currentTarget.value, \"phoneNumber\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n                \r\n                {/* name, label, values, onChange, flgDisabled, error, defValue */}\r\n                <DropDownList\r\n                    name='UserGroup'\r\n                    label='User Group'\r\n                    values={this.props.userGroups}\r\n                    onChange={(event) => this.props.handlers.handleUGChange(event.currentTarget.value, \"UserGroup\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    defValue={this.props.user.UserGroup}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <Input \r\n                    name='password'\r\n                    label='Password'\r\n                    type='password'\r\n                    value={user.password}\r\n                    onChange={(event) => this.props.handlers.handleChange(event.currentTarget.value, \"password\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <Input \r\n                    name='confPassWord'\r\n                    label='Confirm Password'\r\n                    type='password'\r\n                    value={this.state.confPassWord}\r\n                    onChange={this.handlePasswordConfirm}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.confPwError}\r\n                />\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserForm;","import React, { Component } from 'react';\r\nimport ItemsList from '../../common/itemslist';\r\nimport { getUserGroups, getUserGroup, getUsers,\r\n         addUserGroup, editUserGroup,\r\n         getUser, addUser, editUser } from '../../appcode/useradmin';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport UserGroupForm from './usergroupform';\r\nimport UserForm from './userform';\r\n\r\nclass UserAdmin extends Component {\r\n    state = {\r\n        showUGProcess: true,\r\n        showUsersProcess: false,\r\n        showFormProcess: \"hidden\",\r\n        selectedUG: '',\r\n        selectedUser: '',\r\n        visibileColumns: {\r\n            first: 0,\r\n            last: 2\r\n        },\r\n        visibilityFlags: [\r\n            \"\",\r\n            \"\"\r\n        ],\r\n        propControl: ``,\r\n        propControlTitle: '',\r\n        users: [],\r\n        userGroups: [],\r\n        user: {\r\n            UID: '',\r\n            UserGroup: '',\r\n            disabled: false,\r\n            displayName: '',\r\n            email: '',\r\n            emailVerified: false,\r\n            password: '',\r\n            photoURL: '',\r\n            unitsPath: ''\r\n        },\r\n        oldPw: '',\r\n        userGroup: {\r\n            Name: '',\r\n            Privileges: {\r\n                Superuser: false,\r\n                Dashboard: false,\r\n                Masters: false,\r\n                MastHDD: false,\r\n                MastInvD: false,\r\n                MastUAdmin: false,\r\n                MastSProf: false,\r\n                Assets: false,\r\n                AssetsClients: false,\r\n                AssetsContracts: false,\r\n                Financials: false,\r\n                FinClientSOA: false,\r\n                Maintenance: false,\r\n                MaintenanceJP: false,\r\n                MaintenanceJC: false,\r\n                CustCare: false,\r\n                CustCareTkt: false,\r\n                Reports: false\r\n            }\r\n        },\r\n        uprofile: {}\r\n    } \r\n\r\n    handleGoLeft = () => {\r\n        let visibileColumns = {...this.state.visibileColumns};\r\n        let visibilityFlags = [...this.state.visibilityFlags];\r\n\r\n        if(visibileColumns.first === 0) return;\r\n\r\n        for(let i=0; i<this.state.visibilityFlags.length; i++)\r\n        {   \r\n            if(i>=visibileColumns.first-1 && i<=visibileColumns.last-1) \r\n            {\r\n                visibilityFlags[i] = \"\";\r\n            }\r\n            else\r\n            {\r\n                visibilityFlags[i] = \"hidden\";\r\n            }\r\n        }\r\n\r\n        --visibileColumns.first;\r\n        --visibileColumns.last;\r\n\r\n        this.setState({ visibileColumns, visibilityFlags });\r\n\r\n    }\r\n\r\n    handleGoRight = () => {\r\n        let visibileColumns = {...this.state.visibileColumns};\r\n        let visibilityFlags = [...this.state.visibilityFlags];\r\n\r\n        if(visibileColumns.last === visibilityFlags.length-1) return;\r\n\r\n\r\n        for(let i=0; i<this.state.visibilityFlags.length; ++i)\r\n        {\r\n            if(i>=visibileColumns.first+1 && i<=visibileColumns.last+1) \r\n            {\r\n                visibilityFlags[i] = \"\";\r\n            }\r\n            else\r\n            {\r\n                visibilityFlags[i] = \"hidden\";\r\n            }\r\n        }\r\n\r\n        ++visibileColumns.first;\r\n        ++visibileColumns.last;\r\n\r\n        this.setState({ visibileColumns, visibilityFlags });\r\n    }\r\n\r\n    userGroupFormHandlers = {\r\n        handleOnChange: (val, name) => {\r\n            let userGroup = {...this.state.userGroup};\r\n\r\n            userGroup.Privileges[name] = val;\r\n            this.setState(userGroup);\r\n        },\r\n\r\n        handleInputChange: (val, name) => {\r\n            console.log(name, val);\r\n\r\n            let userGroup = {...this.state.userGroup};\r\n\r\n            userGroup.Name = val;\r\n            this.setState({ userGroup });\r\n        },\r\n        \r\n        handleOnAdd: () => {\r\n            let userGroup = {\r\n                    Name: '',\r\n                    Privileges: {\r\n                        Superuser: false,\r\n                        Dashboard: false,\r\n                        Masters: false,\r\n                        MastHDD: false,\r\n                        MastInvD: false,\r\n                        MastUAdmin: false,\r\n                        MastSProf: false,\r\n                        Assets: false,\r\n                        AssetsClients: false,\r\n                        AssetsContracts: false,\r\n                        Financials: false,\r\n                        FinClientSOA: false,\r\n                        Maintenance: false,\r\n                        MaintenanceJP: false,\r\n                        MaintenanceJC: false,\r\n                        CustCare: false,\r\n                        CustCareTkt: false,\r\n                        Reports: false\r\n                    }\r\n            }\r\n\r\n            this.setState({ userGroup });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            // getClientDocument(this.state.selectedClient)\r\n            //     .then(result => {\r\n            //         let clients = [...result.Result];\r\n            //         let client = {...clients[0]};\r\n\r\n            //         this.setState({ client });\r\n            //     })\r\n            //     .catch(error => {\r\n            //         console.log(error);\r\n            //     });\r\n        },\r\n\r\n        handleOnSave: (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let userGroup = {...this.state.userGroup};\r\n\r\n            if(flags.isAdd)\r\n            {\r\n                addUserGroup(userGroup)\r\n                    .then(result => {\r\n                        let userGroups = [...this.state.userGroups];\r\n\r\n                        userGroups.push(userGroup);\r\n                        userGroups = userGroups.sort(function(a, b){\r\n                            var x = a.Name.toLowerCase();\r\n                            var y = b.Name.toLowerCase();\r\n                            if (x < y) {return -1;}\r\n                            if (x > y) {return 1;}\r\n                            return 0;\r\n                        });\r\n\r\n                        this.setState({ userGroups, showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('New User Group Saved Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                editUserGroup(userGroup)\r\n                    .then(result => {\r\n                        console.log(\"Result: \", result);\r\n                        this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('Exitsing User Group Updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    userFormHandlers = {\r\n        handleChange: (value, name = null) => {\r\n            let user = {...this.state.user};\r\n            user[name] = value;\r\n    \r\n            this.setState({ user });\r\n        },\r\n    \r\n        handleUGChange: (value) => {\r\n            let user = {...this.state.user};\r\n            user.UserGroup = value;\r\n    \r\n            this.setState({ user });\r\n        },\r\n\r\n        handleDisable: (value) => {\r\n            let user = {...this.state.user};\r\n            user.disabled = value;\r\n    \r\n            this.setState({ user });\r\n        },\r\n        \r\n        handleOnAdd: () => {\r\n            let user = {\r\n                UID: '',\r\n                UserGroup: '',\r\n                disabled: false,\r\n                displayName: '',\r\n                email: '',\r\n                emailVerified: false,\r\n                password: '',\r\n                phoneNumber: '',\r\n                photoURL: '',\r\n                unitsPath: ''\r\n            };\r\n\r\n            this.setState({ user });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            // getProjectDocument(this.state.selectedProject)\r\n            //     .then(result => {\r\n            //         let projects = [...result.Result];\r\n            //         let project = {...projects[0]};\r\n\r\n            //         this.setState({ project });\r\n            //     })\r\n            //     .catch(error => {\r\n            //         console.log(error);\r\n            //     });\r\n        },\r\n\r\n        handleOnSave: (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let user = {...this.state.user};\r\n\r\n            if(flags.isAdd)\r\n            {\r\n                addUser(user)\r\n                    .then(result => {\r\n                        let users = [...this.state.users];\r\n\r\n                        users.push(user);\r\n                        users = users.sort(function(a, b){\r\n                            var x = a.displayName.toLowerCase();\r\n                            var y = b.displayName.toLowerCase();\r\n                            if (x < y) {return -1;}\r\n                            if (x > y) {return 1;}\r\n                            return 0;\r\n                        });\r\n\r\n                        this.setState({ users, showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('New User Added Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                editUser(user, this.state.oldPw)\r\n                    .then(result => {\r\n                        this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('Exitsing User Updated Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    handleUGColumnClick = () => {\r\n        \r\n        let propControl= 'userGroupForm';\r\n        let propControlTitle= 'User Groups';\r\n        let userGroup = {\r\n            Name: '',\r\n            Privileges: {\r\n                Superuser: false,\r\n                Dashboard: false,\r\n                Masters: false,\r\n                MastHDD: false,\r\n                MastInvD: false,\r\n                MastUAdmin: false,\r\n                MastSProf: false,\r\n                Assets: false,\r\n                AssetsClients: false,\r\n                AssetsContracts: false,\r\n                Financials: false,\r\n                FinClientSOA: false,\r\n                Maintenance: false,\r\n                MaintenanceJP: false,\r\n                MaintenanceJC: false,\r\n                CustCare: false,\r\n                CustCareTkt: false,\r\n                Reports: false\r\n            }\r\n        }\r\n\r\n        this.setState({ propControl, propControlTitle, userGroup });\r\n    }\r\n\r\n    handleOnUGClick = (userGroupName) => {\r\n        this.setState({ showUsersProcess: true });\r\n        this.setState({ users: [], \r\n                        selectedUser: '' \r\n                    });\r\n        let selectedUG = {};\r\n        let userGroup = {};\r\n        let users = [];\r\n    \r\n        getUsers(userGroupName)\r\n        .then(result => {\r\n\r\n            if(result.Result.length > 0)\r\n            {\r\n                users = [...result.Result];\r\n            }\r\n\r\n            return getUserGroup(userGroupName);\r\n        })\r\n        .then(result => {\r\n            selectedUG = {...result.Result};\r\n            userGroup = {...result.Result};\r\n            \r\n            this.setState({ users, \r\n                            selectedUG, userGroup,\r\n                            showUsersProcess: false, \r\n                            propControl: 'userGroupForm' });\r\n\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error: \", error);\r\n        })\r\n    }\r\n\r\n    handleUserColumnClick = () => {\r\n        if(this.state.selectedUG === '')\r\n        {\r\n            toast.warn('You did not select a User Group!');\r\n        }\r\n        else\r\n        {\r\n            let propControl= 'userForm';\r\n            let propControlTitle= 'Users';\r\n            let user = {\r\n                UID: '',\r\n                UserGroup: '',\r\n                disabled: false,\r\n                displayName: '',\r\n                email: '',\r\n                emailVerified: false,\r\n                password: '',\r\n                phoneNumber: '',\r\n                photoURL: '',\r\n                unitsPath: ''\r\n            }\r\n    \r\n            this.setState({ propControl, propControlTitle, user });\r\n        }\r\n    }\r\n\r\n    handleOnUserClick = (userName) => {\r\n        this.setState({ showUsersProcess: true });\r\n        this.setState({ user: {}, \r\n                        oldPw: '',\r\n                        selectedUser: '' \r\n                    });\r\n        let selectedUser = {};\r\n        let user = {};\r\n        let oldPw = '';\r\n    \r\n        console.log(userName);\r\n\r\n        getUser(userName)\r\n        .then(result => {\r\n            console.log(result);\r\n\r\n            if(result.Success === \"Ok\")\r\n            {\r\n                user = {...result.Result};\r\n            }\r\n            else\r\n            {\r\n                console.log(\"Not OK: \", result);\r\n            }\r\n            \r\n            selectedUser = {...user};\r\n            \r\n            this.setState({ user, \r\n                            selectedUser,\r\n                            oldPw: user.password,\r\n                            showUsersProcess: false, \r\n                            propControl: 'userForm' });\r\n\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error: \", error);\r\n        })\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    \r\n        this.state.showClientsProcess = true;\r\n\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        getUserGroups()\r\n        .then(result => {\r\n            let userGroups = [];\r\n\r\n            if(result.Result.length > 0)\r\n            {\r\n                userGroups = [...result.Result];\r\n            }\r\n\r\n            this.setState({ userGroups, showUGProcess: false });\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error: \", error);\r\n        })\r\n    }\r\n\r\n    handleOnClientSearch = (event) => {\r\n        let fullClientsList = [...this.state.fullClientsList];\r\n\r\n        let clientsList = fullClientsList.filter(c => c.clName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ clientsList });\r\n        \r\n    } \r\n\r\n    handleOnProjectSearch = (event) => {\r\n        let fullProjectsList = [...this.state.fullProjectsList];\r\n        let projectsList = fullProjectsList.filter(c => c.prjName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ projectsList });\r\n        \r\n    } \r\n\r\n    render() {\r\n        // { data, name, label, onClick, showProcess, showList }\r\n        return (\r\n            <div className=\"col-md-12\">\r\n                <TitlePageHeader title=\"User Administration\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"row\">\r\n                        <div className={\"col-md-6 \" + this.state.visibilityFlags[0]} \r\n                            style={columnStyle} onClick={this.handleUGColumnClick}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                User Groups\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnClientSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='Name'\r\n                                    label='Name'\r\n                                    selected={this.state.selectedUG}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnUGClick}\r\n                                    data={this.state.userGroups}\r\n                                    showProcess={this.state.showUGProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"col-md-6 \" + this.state.visibilityFlags[1]} \r\n                            onClick={this.handleUserColumnClick}\r\n                            style={columnStyle}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Users\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnProjectSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='displayName'\r\n                                    label='displayName'\r\n                                    selected={this.state.selectedUser}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnUserClick}\r\n                                    data={this.state.users}\r\n                                    showProcess={this.state.showUsersProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" \r\n                        style={{height: \"5vh\", backgroundColor: 'lightblue', borderRadius: \"25px\"}}>\r\n                        <div className=\"col-md-1\">\r\n                            <button className=\"btn btn-sm btn-primary\"\r\n                                onClick={this.handleGoLeft}>\r\n                                <FontAwesomeIcon icon=\"chevron-left\" />\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"col-md-10\"></div>\r\n                        <div className=\"col-md-1\"\r\n                            onClick={this.handleGoRight}>\r\n                            <button className=\"btn btn-sm btn-primary\" >\r\n                            <FontAwesomeIcon icon=\"chevron-right\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-4\" style={propColumnStyle}>\r\n                    <div className='col-md-12' \r\n                        style={propColumnTitleStyle}>\r\n                        {this.state.propControlTitle + \" Properties\"}\r\n                    </div>\r\n                    {this.renderProperties()}\r\n                </div>\r\n                <ToastContainer\r\n                    position=\"top-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnVisibilityChange\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n            </div>\r\n        );\r\n   }\r\n\r\n    renderProperties = () => {\r\n        switch(this.state.propControl)\r\n        {\r\n            case 'userGroupForm':\r\n                return (<UserGroupForm \r\n                        userGroup={this.state.userGroup}\r\n                        handlers={this.userGroupFormHandlers}\r\n                        showFormProcess={this.state.showFormProcess} />)\r\n\r\n            case 'userForm':\r\n                return (<UserForm \r\n                        user={this.state.user}\r\n                        handlers={this.userFormHandlers}\r\n                        showFormProcess={this.state.showFormProcess}\r\n                        userGroups={this.state.userGroups} />)\r\n            \r\n\r\n            // case 'AssetForm':\r\n            //     return (<AssetForm \r\n            //         asset={this.state.asset} \r\n            //         handlers={this.assetFormHandlers} \r\n            //         showFormProcess={this.state.showFormProcess} />);\r\n            \r\n            // case 'ContractForm':\r\n            //     return (<ContractForm \r\n            //         contract={this.state.contract} \r\n            //         showFormProcess={this.state.showFormProcess} />);\r\n  \r\n            // case 'MainLogForm':\r\n            //     return (<MainLogForm \r\n            //         mainLog={this.state.mainLog}\r\n            //         handlers={this.mainLogFormHandlers} \r\n            //         showFormProcess={this.state.showFormProcess} />);\r\n            \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport default UserAdmin;\r\n\r\nconst columnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"70vh\"\r\n}\r\n\r\nconst propColumnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"75vh\",\r\n    backgroundColor: 'lightgray',\r\n    overflow: \"auto\"\r\n}\r\n\r\nconst columnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst searchTextStyle = {\r\n    fontSize: '0.75vw', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"5px\",\r\n    paddingBottom: \"5px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst propColumnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'gray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} ","import React, { Component } from 'react';\r\nimport Input, { DropDownList } from '../../common/input';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ButtonGroup, Button, ButtonToolbar } from 'react-bootstrap'\r\nimport processing from '../../images/processing.gif';\r\nimport { SlidingSwitch, ThinSwitch } from '../../common/slidingswitch';\r\n\r\nimport '../../css/usergroup.css';\r\n\r\nclass ClientUserForm extends Component {\r\n    state = {\r\n        error: null,\r\n        bottomTBVisible: \"hidden\",\r\n        topTBVisible: \"\",\r\n        flags: {\r\n            isAdd: false,\r\n            isEdit: false\r\n        },\r\n        confPassWord: '',\r\n        confPwError: null,\r\n\r\n        clients: [],\r\n        projects: [],\r\n        contracts: []\r\n    }\r\n\r\n    handlePasswordConfirm = (event) => {\r\n        let confPassWord = event.currentTarget.value;\r\n        this.setState({ confPassWord });\r\n\r\n        if(confPassWord !== this.props.user.password)\r\n        {\r\n            let confPwError = \"Password and Confirmed Password do not match!\";\r\n            this.setState({ confPwError });\r\n        }\r\n        else \r\n        {\r\n            let confPwError = null;\r\n            this.setState({ confPwError });\r\n        }\r\n    }\r\n\r\n    handleOnAdd = () => {\r\n        this.props.handlers.handleOnAdd();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnEdit = () => {\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"\", topTBVisible: \"hidden\" });\r\n\r\n        // Set the isAdd flag to true to enable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnSave = () => {\r\n        let flags = {...this.state.flags};\r\n\r\n        let result = this.props.handlers.handleOnSave(flags);\r\n        console.log(result);\r\n\r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n\r\n    }\r\n\r\n    handleOnCancel = () => {\r\n        this.props.handlers.handleOnCancel();\r\n        \r\n        // hide the top Add and Cance buttons \r\n        // and show the bottom Save and Cancel buttons\r\n        this.setState({ bottomTBVisible: \"hidden\", topTBVisible: \"\" });\r\n\r\n        // Set the all flags to false to disable the fields...\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = false;\r\n        this.setState({ flags });\r\n        \r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props;\r\n\r\n        console.log(\"Form: \", user);\r\n        return (\r\n            <React.Fragment>\r\n                <div className={this.state.topTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnAdd}>\r\n                                    <FontAwesomeIcon icon='plus' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"primary\" onClick={this.handleOnEdit}>\r\n                                    <FontAwesomeIcon icon='edit' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n                <div className={this.props.showFormProcess}>\r\n                    <img src={processing} \r\n                        width=\"60vw\" \r\n                        alt=\"processing\"  \r\n                        style={{marginTop: \"5vh\"}} />\r\n                </div>\r\n                \r\n                <Input \r\n                    name='userEmail'\r\n                    label='User Email'\r\n                    type='text'\r\n                    value={user.userEmail}\r\n                    onChange={(event) => this.props.handlers.handleChange(event.currentTarget.value, \"userEmail\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <Input \r\n                    name='passWord'\r\n                    label='Password'\r\n                    type='text'\r\n                    value={user.passWord}\r\n                    onChange={(event) => this.props.handlers.handleChange(event.currentTarget.value, \"passWord\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"disabled\"}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <DropDownList\r\n                    name='clientName'\r\n                    label='Client Name'\r\n                    values={this.props.clients}\r\n                    onChange={(event) => this.props.handlers.handleClientChange(event.currentTarget.value, \"clientName\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"\"}\r\n                    defValue={this.props.user.clientName}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <DropDownList\r\n                    name='projectName'\r\n                    label='Project Name'\r\n                    values={this.props.projects}\r\n                    onChange={(event) => this.props.handlers.handleProjectChange(event.currentTarget.value, \"projectName\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"\"}\r\n                    defValue={this.props.user.projectName}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                <DropDownList\r\n                    name='contractName'\r\n                    label='Contract Name'\r\n                    values={this.props.contracts}\r\n                    onChange={(event) => this.props.handlers.handleContractChange(event.currentTarget.value, \"contractName\")}\r\n                    flgDisabled={(this.state.flags.isAdd || this.state.flags.isEdit) ? \"\" : \"\"}\r\n                    defValue={this.props.user.contractName}\r\n                    error={this.state.error}\r\n                />\r\n\r\n                \r\n                <div className={this.state.bottomTBVisible}>\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup justified>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"success\" onClick={this.handleOnSave}>\r\n                                    <FontAwesomeIcon icon='save' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup>\r\n                                <Button bsStyle=\"danger\" onClick={this.handleOnCancel}>\r\n                                    <FontAwesomeIcon icon='ban' />\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </div>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default ClientUserForm;","import React, { Component } from 'react';\r\nimport ItemsList from '../../common/itemslist';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport ClientUserForm from './clientuserform';\r\n\r\nimport { getClientsNames, getProjectsOfClient, getContractsForProject } from '../../appcode/fincsoa';\r\nimport { getClientUsers, addClientUser } from '../../appcode/useradmin';\r\n\r\nclass ClientUserAdmin extends Component {\r\n    state = {\r\n        showUGProcess: true,\r\n        showUsersProcess: false,\r\n        showFormProcess: \"hidden\",\r\n        selectedUser: '',\r\n        visibileColumns: {\r\n            first: 0,\r\n            last: 2\r\n        },\r\n        visibilityFlags: [\r\n            \"\",\r\n            \"\"\r\n        ],\r\n        propControl: ``,\r\n        propControlTitle: '',\r\n        users: [],\r\n        user: {\r\n            clientName: '',\r\n            commGroup: '',\r\n            contractName: '',\r\n            passWord: '',\r\n            projectName: '',\r\n            userEmail: ''\r\n        },\r\n        oldPw: '',\r\n        uprofile: {},\r\n        clients: [],\r\n        projects: [],\r\n        contracts: []\r\n    } \r\n\r\n    handleGoLeft = () => {\r\n        let visibileColumns = {...this.state.visibileColumns};\r\n        let visibilityFlags = [...this.state.visibilityFlags];\r\n\r\n        if(visibileColumns.first === 0) return;\r\n\r\n        for(let i=0; i<this.state.visibilityFlags.length; i++)\r\n        {   \r\n            if(i>=visibileColumns.first-1 && i<=visibileColumns.last-1) \r\n            {\r\n                visibilityFlags[i] = \"\";\r\n            }\r\n            else\r\n            {\r\n                visibilityFlags[i] = \"hidden\";\r\n            }\r\n        }\r\n\r\n        --visibileColumns.first;\r\n        --visibileColumns.last;\r\n\r\n        this.setState({ visibileColumns, visibilityFlags });\r\n\r\n    }\r\n\r\n    handleGoRight = () => {\r\n        let visibileColumns = {...this.state.visibileColumns};\r\n        let visibilityFlags = [...this.state.visibilityFlags];\r\n\r\n        if(visibileColumns.last === visibilityFlags.length-1) return;\r\n\r\n\r\n        for(let i=0; i<this.state.visibilityFlags.length; ++i)\r\n        {\r\n            if(i>=visibileColumns.first+1 && i<=visibileColumns.last+1) \r\n            {\r\n                visibilityFlags[i] = \"\";\r\n            }\r\n            else\r\n            {\r\n                visibilityFlags[i] = \"hidden\";\r\n            }\r\n        }\r\n\r\n        ++visibileColumns.first;\r\n        ++visibileColumns.last;\r\n\r\n        this.setState({ visibileColumns, visibilityFlags });\r\n    }\r\n\r\n    userFormHandlers = {\r\n        handleClientChange: (value, name = null) => {\r\n            console.log(\"Client Handler\");\r\n            let projects = [];\r\n            let selectedUser = {...this.state.selectedUser};\r\n\r\n            selectedUser.clientName = value;\r\n\r\n            getProjectsOfClient(value)\r\n            .then(result => {\r\n\r\n                if(result.Result.length > 0)\r\n                {\r\n                    result.Result.map(e => {\r\n                        projects.push({Name: e.name});\r\n                    });\r\n                    this.setState({ projects, selectedUser });\r\n                }\r\n                                    \r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error: \", error.message);\r\n                this.setState({ projects, selectedUser });\r\n            }) \r\n\r\n            console.log(projects);\r\n        }, \r\n\r\n        handleProjectChange: (value, name = null) => {\r\n            let contracts = [];\r\n            let selectedUser = {...this.state.selectedUser};\r\n\r\n            selectedUser.projectName = value;\r\n\r\n            getContractsForProject(value)\r\n            .then(result => {\r\n\r\n                if(result.Result.length > 0)\r\n                {\r\n                    result.Result.map(e => {\r\n                        contracts.push({Name: e.name});\r\n                    });\r\n                    console.log(\"Contracts: \", contracts);\r\n                    this.setState({ contracts, selectedUser });\r\n                }\r\n                                    \r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error: \", error.message);\r\n                this.setState({ contracts, selectedUser });\r\n            }) \r\n\r\n        },\r\n\r\n        handleContractChange: (value, name = null) => {\r\n            let selectedUser = {...this.state.selectedUser};\r\n\r\n            selectedUser.contractName = value;\r\n\r\n                                    \r\n            this.setState({ selectedUser });\r\n             \r\n        },\r\n\r\n        handleChange: (value, name = null) => {\r\n            let selectedUser = {...this.state.selectedUser};\r\n            selectedUser[name] = value;\r\n    \r\n            this.setState({ selectedUser });\r\n        },\r\n    \r\n        handleUGChange: (value) => {\r\n            let user = {...this.state.user};\r\n            user.UserGroup = value;\r\n    \r\n            this.setState({ user });\r\n        },\r\n\r\n        handleDisable: (value) => {\r\n            let user = {...this.state.user};\r\n            user.disabled = value;\r\n    \r\n            this.setState({ user });\r\n        },\r\n        \r\n        handleOnAdd: () => {\r\n            let user = {\r\n                clientName: '',\r\n                commGroup: '',\r\n                contractName: '',\r\n                passWord: '',\r\n                projectName: '',\r\n                userEmail: ''\r\n            };\r\n\r\n            this.setState({ user });\r\n        },\r\n\r\n        handleOnCancel: () => {\r\n            // getProjectDocument(this.state.selectedProject)\r\n            //     .then(result => {\r\n            //         let projects = [...result.Result];\r\n            //         let project = {...projects[0]};\r\n\r\n            //         this.setState({ project });\r\n            //     })\r\n            //     .catch(error => {\r\n            //         console.log(error);\r\n            //     });\r\n        },\r\n\r\n        handleOnSave: (flags) => {\r\n            this.setState({ showFormProcess: \"\" })\r\n            let user = {...this.state.selectedUser};\r\n\r\n            if(flags.isAdd)\r\n            {\r\n                addClientUser(user)\r\n                    .then(result => {\r\n                        let users = [...this.state.users];\r\n\r\n                        users.push(user);\r\n                        users = users.sort(function(a, b){\r\n                            var x = a.userEmail.toLowerCase();\r\n                            var y = b.userEmail.toLowerCase();\r\n                            if (x < y) {return -1;}\r\n                            if (x > y) {return 1;}\r\n                            return 0;\r\n                        });\r\n\r\n                        this.setState({ users, showFormProcess: \"hidden\" });\r\n                        \r\n                        toast.success('New User Added Successfully...',\r\n                        {\r\n                            position: toast.POSITION.TOP_RIGHT,\r\n                            autoClose: 5000,\r\n                            hideProgressBar: false,\r\n                            closeOnClick: true,\r\n                            pauseOnHover: true,\r\n                            draggable: true\r\n                        });\r\n                        return result;\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                // editUser(user, this.state.oldPw)\r\n                //     .then(result => {\r\n                //         this.setState({ showFormProcess: \"hidden\" });\r\n                        \r\n                //         toast.success('Exitsing User Updated Successfully...',\r\n                //         {\r\n                //             position: toast.POSITION.TOP_RIGHT,\r\n                //             autoClose: 5000,\r\n                //             hideProgressBar: false,\r\n                //             closeOnClick: true,\r\n                //             pauseOnHover: true,\r\n                //             draggable: true\r\n                //         });\r\n\r\n                //         return result;\r\n                //     })\r\n                //     .catch(error => {\r\n                //         console.log(error);\r\n                //     });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    handleUserColumnClick = () => {\r\n        \r\n        let propControl= 'userForm';\r\n        let propControlTitle= 'Users';\r\n        let user = {\r\n            clientName: '',\r\n            commGroup: '',\r\n            contractName: false,\r\n            passWord: '',\r\n            projectName: '',\r\n            userEmail: false\r\n        }\r\n\r\n        this.setState({ propControl, propControlTitle, user });\r\n    }\r\n\r\n    handleOnUserClick = (userEmail) => {\r\n        this.setState({ showUsersProcess: true });\r\n        this.setState({ user: {}, \r\n                        oldPw: '',\r\n                        selectedUser: '' \r\n                    });\r\n        let selectedUser = {};\r\n        let user = {};\r\n        let oldPw = '';\r\n        let projects = [];\r\n        let contracts = [];\r\n    \r\n        console.log(userEmail);\r\n\r\n        let userIndex = this.state.users.findIndex(e => e.userEmail === userEmail);\r\n\r\n        selectedUser = {...this.state.users[userIndex]};\r\n\r\n        getProjectsOfClient(selectedUser.clientName)\r\n            .then(result => {\r\n\r\n                if(result.Result.length > 0)\r\n                {\r\n                    result.Result.map(e => {\r\n                        projects.push({Name: e.name});\r\n                    });\r\n                    console.log(projects);\r\n                    \r\n                    this.setState({ projects });\r\n                    return getContractsForProject(selectedUser.projectName)\r\n                }\r\n                else\r\n                {\r\n                    return \"\"\r\n                }\r\n            })\r\n            .then(result => {\r\n                if(result.Result.length > 0)\r\n                {\r\n                    result.Result.map(e => {\r\n                        contracts.push({Name: e.name});\r\n                    });\r\n\r\n                    console.log(contracts);\r\n                    this.setState({ contracts });\r\n                }\r\n            })\r\n\r\n        this.setState({ selectedUser, showUsersProcess: false });\r\n\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    \r\n        this.state.showClientsProcess = true;\r\n\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setState({ showUsersProcess: true })\r\n        getClientUsers()\r\n            .then(result => {\r\n                let users = [];\r\n\r\n                if(result.Result.length > 0)\r\n                {\r\n                    users = [...result.Result];\r\n                }\r\n\r\n                this.setState({ users, showUsersProcess: false });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error: \", error);\r\n            })\r\n\r\n        getClientsNames()\r\n            .then(result => {\r\n                let clients = [...this.state.clients];\r\n\r\n                if(result.Result.length > 0)\r\n                {\r\n                    result.Result.map(e => {\r\n                        clients.push({Name: e});\r\n                    })\r\n                }\r\n\r\n                this.setState({ clients });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error: \", error);\r\n            })\r\n    }\r\n\r\n    handleOnClientSearch = (event) => {\r\n        let fullClientsList = [...this.state.fullClientsList];\r\n\r\n        let clientsList = fullClientsList.filter(c => c.clName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ clientsList });\r\n        \r\n    } \r\n\r\n    handleOnProjectSearch = (event) => {\r\n        let fullProjectsList = [...this.state.fullProjectsList];\r\n        let projectsList = fullProjectsList.filter(c => c.prjName\r\n                                                       .toLowerCase()\r\n                                                       .indexOf(\r\n                                                           event.currentTarget.value.toLowerCase()\r\n                                                           ) !== -1);\r\n        this.setState({ projectsList });\r\n        \r\n    } \r\n\r\n    render() {\r\n        // { data, name, label, onClick, showProcess, showList }\r\n        return (\r\n            <div className=\"col-md-12\">\r\n                <TitlePageHeader title=\"Client User Administration\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"col-md-6\">\r\n                    <div className=\"row\">\r\n                        <div className={\"col-md-12 \"} \r\n                            onClick={this.handleUserColumnClick}\r\n                            style={columnStyle}>\r\n                            <div className='col-md-12' \r\n                                style={columnTitleStyle}>\r\n                                Users\r\n                            </div>\r\n                            <div className='col-md-12' \r\n                                style={searchTextStyle}>\r\n                                <input  type='text' \r\n                                        style={{width: \"100%\"}} \r\n                                        className=\"form-control\"\r\n                                        onChange={this.handleOnProjectSearch} />\r\n                            </div>\r\n                            <div style={{width: \"100%\", height: \"52vh\", overflow: \"auto\"}}>\r\n                                <ItemsList \r\n                                    name='userEmail'\r\n                                    label='userEmail'\r\n                                    selected={this.state.selectedUser}\r\n                                    showList={true}\r\n                                    onClick={this.handleOnUserClick}\r\n                                    data={this.state.users}\r\n                                    showProcess={this.state.showUsersProcess}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" \r\n                        style={{height: \"5vh\", backgroundColor: 'lightblue', borderRadius: \"25px\"}}>\r\n                        <div className=\"col-md-1\">\r\n                            <button className=\"btn btn-sm btn-primary\"\r\n                                onClick={this.handleGoLeft}>\r\n                                <FontAwesomeIcon icon=\"chevron-left\" />\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"col-md-10\"></div>\r\n                        <div className=\"col-md-1\"\r\n                            onClick={this.handleGoRight}>\r\n                            <button className=\"btn btn-sm btn-primary\" >\r\n                            <FontAwesomeIcon icon=\"chevron-right\" />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"col-md-6\" style={propColumnStyle}>\r\n                    <div className='col-md-12' \r\n                        style={propColumnTitleStyle}>\r\n                        {this.state.propControlTitle + \" Properties\"}\r\n                    </div>\r\n                    <ClientUserForm\r\n                            user={this.state.selectedUser}\r\n                            handlers={this.userFormHandlers}\r\n                            clients={this.state.clients}\r\n                            projects={this.state.projects}\r\n                            contracts={this.state.contracts}\r\n                            showFormProcess={this.state.showFormProcess}\r\n                            />\r\n                </div>\r\n                <ToastContainer\r\n                    position=\"top-right\"\r\n                    autoClose={5000}\r\n                    hideProgressBar={false}\r\n                    newestOnTop={false}\r\n                    closeOnClick\r\n                    rtl={false}\r\n                    pauseOnVisibilityChange\r\n                    draggable\r\n                    pauseOnHover\r\n                />\r\n            </div>\r\n        );\r\n   }\r\n\r\n    renderProperties = () => {\r\n        switch(this.state.propControl)\r\n        {\r\n            case 'userForm':\r\n                return  (\r\n                        <ClientUserForm\r\n                            user={this.state.user}\r\n                            handlers={this.userFormHandlers}\r\n                            showFormProcess={this.state.showFormProcess}\r\n                            />\r\n                        )\r\n            \r\n\r\n            // case 'AssetForm':\r\n            //     return (<AssetForm \r\n            //         asset={this.state.asset} \r\n            //         handlers={this.assetFormHandlers} \r\n            //         showFormProcess={this.state.showFormProcess} />);\r\n            \r\n            // case 'ContractForm':\r\n            //     return (<ContractForm \r\n            //         contract={this.state.contract} \r\n            //         showFormProcess={this.state.showFormProcess} />);\r\n  \r\n            // case 'MainLogForm':\r\n            //     return (<MainLogForm \r\n            //         mainLog={this.state.mainLog}\r\n            //         handlers={this.mainLogFormHandlers} \r\n            //         showFormProcess={this.state.showFormProcess} />);\r\n            \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport default ClientUserAdmin;\r\n\r\nconst columnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"70vh\"\r\n}\r\n\r\nconst propColumnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"75vh\",\r\n    backgroundColor: 'lightgray',\r\n    overflow: \"auto\"\r\n}\r\n\r\nconst columnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst searchTextStyle = {\r\n    fontSize: '0.75vw', \r\n    borderBottom: 'solid', \r\n    borderColor: 'lightgray',\r\n    borderWidth: 1,\r\n    paddingTop: \"5px\",\r\n    paddingBottom: \"5px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} \r\n\r\nconst propColumnTitleStyle = {\r\n    color: \"blue\", \r\n    fontSize: '1vw', \r\n    fontWeight: 'bold', \r\n    borderBottom: 'solid', \r\n    borderColor: 'gray',\r\n    borderWidth: 1,\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"10px\",\r\n    textAlign: 'left'\r\n} ","import React, { Component } from 'react';\r\n\r\nString.prototype.formatDate = function (format, separator) {\r\n    let sDt = this;\r\n    let aDt = (sDt.split('-').length > 1) ? sDt.split('-') : sDt.split('/');\r\n    let fOpt = (sDt.split('-').length > 1) ? 1 : 2;\r\n    let f = format.split(separator);\r\n\r\n    let nDD=(fOpt === 1) ? (aDt[2].split(' '))[0] : aDt[1], \r\n        nMM=(fOpt === 1) ? aDt[1] : aDt[0], \r\n        nYYYY=(fOpt === 1) ? aDt[0] : (aDt[2].split(' '))[0],\r\n        nDt = \"\";\r\n\r\n    switch(f[0])\r\n    {\r\n        case 'dd':\r\n            nDt = nDD + separator;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt = nMM + separator;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt = nMM + separator;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt = nYYYY + separator;\r\n            break;\r\n\r\n    }\r\n\r\n    switch(f[1])\r\n    {\r\n        case 'dd':\r\n            nDt += nDD + separator;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt += nMM + separator;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt += nMM + separator;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt += nYYYY + separator;\r\n            break;\r\n\r\n    }\r\n\r\n    switch(f[2])\r\n    {\r\n        case 'dd':\r\n            nDt += nDD;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt += nMM;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt += nMM;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt += nYYYY;\r\n            break;\r\n\r\n    }\r\n      \r\n    return nDt;\r\n}\r\n\r\n\r\nclass AttachList extends Component {\r\n   render() {\r\n       const { attachments, onAttachClick } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <table className=\"table table-striped table-hover\" \r\n                    style={{fontSize: \"0.75vw\"}}>\r\n                    <thead>\r\n                        <tr className=\"info\">\r\n                            <th style={{width: \"10%\"}}>Att. Text</th>\r\n                            <th style={{width: \"10%\"}}>Att. Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {attachments ? attachments.map((a, index) => {\r\n                            return <tr key={index} onClick={() => onAttachClick(index)} >\r\n                                <td style={{textAlign: \"center\"}}>{a.TitleText}</td>\r\n                                <td style={{textAlign: \"center\"}}>{a.UploadDate}</td>\r\n                            </tr>\r\n                        }) : null}\r\n                    </tbody>\r\n                </table>\r\n            </React.Fragment>\r\n        );\r\n   }\r\n}\r\n\r\nexport default AttachList;\r\n\r\nconst openStyle = { background: \"#ff6666\", textAlign: \"center\",  color: \"white\", fontWeight: \"bold\" };\r\nconst inProgStyle = { background: \"#ffff66\", textAlign: \"center\", color: \"black\", fontWeight: \"bold\" };\r\nconst closedStyle = { background: \"lightgreen\", textAlign: \"center\", color: \"white\", fontWeight: \"bold\" };","import React, { Component } from 'react';\r\nimport Input, { DropDownList } from '../../common/input';\r\n\r\nimport { getProjectsList, getClientsList } from '../../appcode/contractdefinition';\r\n\r\nclass ClientAttachForm extends Component {\r\n    state = {\r\n        errors: {},\r\n        clients: []\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setState({ formProcess: true });\r\n\r\n        getClientsList()\r\n         .then(result => {\r\n               let clients = [];\r\n               clients.push({Name: 'All'});\r\n\r\n               result.Result.map(r => {\r\n                  clients.push({Name: r});\r\n               });\r\n\r\n               this.setState({ clients });\r\n               this.setState({ formProcess: false });\r\n         });\r\n    }\r\n\r\n    checkTitleText = (tt) => {\r\n        if(tt === \"\" || tt === undefined) {\r\n            return (<div className=\"row col-md-2\" style={{\r\n                        textAlign: \"center\",\r\n                        verticalAlign: \"middle\",\r\n                        lineHeight: \"90px\",\r\n                        fontWeight: \"bold\",\r\n                        fontSize: \"1.25em\",\r\n                        color: \"red\"\r\n                    }}>\r\n                        {'\\u2717'}\r\n                    </div>)\r\n        } else {\r\n            let found = this.props.attachments.find(e => e.TitleText === tt);\r\n            if(found) {\r\n                return (<div className=\"row col-md-2\" style={{\r\n                    textAlign: \"center\",\r\n                    verticalAlign: \"middle\",\r\n                    lineHeight: \"90px\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"1.25em\",\r\n                    color: \"red\"\r\n                }}>\r\n                    {'\\u2717'}\r\n                </div>)\r\n            } else {\r\n                return (<div className=\"row col-md-2\" style={{\r\n                    textAlign: \"center\",\r\n                    verticalAlign: \"middle\",\r\n                    lineHeight: \"90px\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"1.25em\",\r\n                    color: \"green\"\r\n                }}>\r\n                    {'\\u2713'}\r\n                </div>)\r\n            }\r\n        }\r\n    }\r\n\r\n    checkFilename = (fn) => {\r\n        if(fn === \"\" || fn === undefined) {\r\n            return (<div className=\"row col-md-2\" style={{\r\n                        textAlign: \"center\",\r\n                        verticalAlign: \"middle\",\r\n                        lineHeight: \"90px\",\r\n                        fontWeight: \"bold\",\r\n                        fontSize: \"1.25em\",\r\n                        color: \"red\"\r\n                    }}>\r\n                        {'\\u2717'}\r\n                    </div>)\r\n        } else {\r\n            let found = this.props.attachments.find(e => e.FileName === fn);\r\n            if(found) {\r\n                return (<div className=\"row col-md-2\" style={{\r\n                    textAlign: \"center\",\r\n                    verticalAlign: \"middle\",\r\n                    lineHeight: \"90px\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"1.25em\",\r\n                    color: \"red\"\r\n                }}>\r\n                    {'\\u2717'}\r\n                </div>)\r\n            } else {\r\n                return (<div className=\"row col-md-2\" style={{\r\n                    textAlign: \"center\",\r\n                    verticalAlign: \"middle\",\r\n                    lineHeight: \"90px\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"1.25em\",\r\n                    color: \"green\"\r\n                }}>\r\n                    {'\\u2713'}\r\n                </div>)\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { TitleText, FileName, FileSize, DownloadURL, UploadDate, client } = this.props.attachment;\r\n        const { flags, onTitleChange } = this.props;\r\n        const { clients, errors } = this.state;\r\n\r\n      return (\r\n        <React.Fragment>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\" style={{padding: \"0\"}}>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <DropDownList name='clientName' \r\n                                label='Clients'  \r\n                                values={clients} \r\n                                onChange={this.props.onClientSelect} \r\n                                flgDisabled={false} \r\n                                defValue={client}\r\n                                error={errors.ClientName ? errors.ClientName : \"\"} \r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-10\">\r\n                            <Input name=\"TitleText\" \r\n                                label=\"Title Text\" \r\n                                value={TitleText}\r\n                                onChange={onTitleChange}\r\n                                flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                            />\r\n\r\n                        </div>\r\n                        {this.checkTitleText(TitleText)}\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-10\">\r\n                            <Input name=\"FileSelect\" \r\n                                type=\"file\"\r\n                                label=\"Select File\" \r\n                                onChange={this.props.onFileSelect}\r\n                                flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                            />\r\n                        </div>\r\n                        {this.checkFilename(FileName)}\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <Input\r\n                                type=\"text\"\r\n                                name=\"UploadDate\" \r\n                                label=\"Upload Date\" \r\n                                value={UploadDate}\r\n                                flgDisabled={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}> \r\n                        <div className=\"col-md-12\">\r\n                            <Input name=\"FileName\" \r\n                                label=\"File Name\" \r\n                                value={FileName}\r\n                                flgDisabled={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <Input name=\"FileSize\" \r\n                                label=\"File Size\" \r\n                                value={FileSize}\r\n                                flgDisabled={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <Input name=\"DownloadURL\" \r\n                                label=\"Download URL\" \r\n                                value={DownloadURL}\r\n                                flgDisabled={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n      );\r\n   }\r\n}\r\n\r\n\r\nexport default ClientAttachForm;\r\n","import React, { Component } from 'react';\r\nimport Input from '../../common/input';\r\n\r\nclass AttachForm extends Component {\r\n    state = {\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const { TitleText, FileName, FileSize, DownloadURL, UploadDate } = this.props.attachment;\r\n\r\n        const { flags, onTitleChange } = this.props;\r\n\r\n      return (\r\n        <React.Fragment>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\" style={{padding: \"0\"}}>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <Input name=\"TitleText\" \r\n                                label=\"Title Text\" \r\n                                value={TitleText}\r\n                                onChange={onTitleChange}\r\n                                flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <Input name=\"FileSelect\" \r\n                                type=\"file\"\r\n                                label=\"Select File\" \r\n                                onChange={this.props.onFileSelect}\r\n                                flgDisabled={!flags.isAdd && !flags.isEdit}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <Input\r\n                                type=\"text\"\r\n                                name=\"UploadDate\" \r\n                                label=\"Upload Date\" \r\n                                value={UploadDate}\r\n                                flgDisabled={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}> \r\n                        <div className=\"col-md-12\">\r\n                            <Input name=\"FileName\" \r\n                                label=\"File Name\" \r\n                                value={FileName}\r\n                                flgDisabled={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <Input name=\"FileSize\" \r\n                                label=\"File Size\" \r\n                                value={FileSize}\r\n                                flgDisabled={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\" style={{padding: \"10px\"}}>\r\n                        <div className=\"col-md-12\">\r\n                            <Input name=\"DownloadURL\" \r\n                                label=\"Download URL\" \r\n                                value={DownloadURL}\r\n                                flgDisabled={true}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n      );\r\n   }\r\n}\r\n\r\n\r\nexport default AttachForm;\r\n","import React, { Component } from 'react';\r\nimport ToolsBar from '../../common/toolsbar';\r\nimport { TitlePageHeader } from '../titleheader/titleheader';\r\nimport _ from 'lodash';\r\n\r\nimport { getAttachmentsList, getClientAttachmentsList, uploadAttachment, deleteAttachment } from '../../appcode/crmuploadattachments';\r\n\r\nimport processing from '../../images/processing.gif';\r\nimport AttachList from './attachlist';\r\nimport AttachForm from './attachform';\r\nimport ClientAttachForm from './clientAttachForm';\r\n\r\nclass CRMUploadAttach extends Component {\r\n    state = {\r\n        uprofile: {},\r\n        attachment: {\r\n            client: \"\",\r\n            TitleText: \"\",\r\n            FileName: \"\",\r\n            FileSize: \"\",\r\n            UploadDate: new Date().toString(),\r\n            DownloadURL: \"\"\r\n        },\r\n        attachments: [],\r\n        buttonsOptions: {\r\n            addButton: {\r\n                showAdd: true,\r\n                onAdd: () => this.handleAdd()\r\n            },\r\n            saveButton: {\r\n                showSave: false,\r\n                onSave: () => this.handleSubmit()\r\n            },\r\n            cancelButton: {\r\n                showCancel: false,\r\n                onCancel: () => this.handleCancel()\r\n            },\r\n            searchButton: {\r\n                showSearch: false,\r\n                onSearch: null\r\n            },\r\n            deleteButton: {\r\n                showDelete: false,\r\n                onDelete: () => this.handleDelete()\r\n            }\r\n\r\n        },\r\n        flags: {\r\n            isAdd: false,\r\n            isReply: false,\r\n            isEdit: false\r\n        },\r\n        showButtons: true,\r\n        file: null\r\n    }\r\n\r\n    handleDelete = () => {\r\n        let attachment = {...this.state.attachment};\r\n\r\n        deleteAttachment(attachment)\r\n            .then(result => {\r\n                // remove the attachment from the attachments list...\r\n                let attachments = [...this.state.attachments];\r\n\r\n                attachments.splice(attachments.findIndex(e => {\r\n                    return attachment.FileName === e.FileName;\r\n                }), 1);\r\n\r\n                // clear attachment fields... \r\n                attachment = {\r\n                    TitleText: \"\",\r\n                    FileName: \"\",\r\n                    FileSize: \"\",\r\n                    UploadDate: new Date().toString(),\r\n                    DownloadURL: \"\",\r\n                }\r\n\r\n                this.setState({ attachment, attachments });\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error: \", err.message);\r\n                alert(\"Error occured while deleting the attachment.\\nPlease, inform the system administrator!\");\r\n            })\r\n    }\r\n\r\n    handleAdd = () => {\r\n\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = true;\r\n        flags.isEdit = false;\r\n        flags.isReply = false;\r\n        \r\n        let attachment = {\r\n            FileName: \"\",\r\n            FileSize: \"\",\r\n            DownloadURL: \"\",\r\n            UploadDate: \"\",\r\n            TitleText: \"\"\r\n        }\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = false;\r\n        buttonsOptions.saveButton.showSave = true;\r\n        buttonsOptions.cancelButton.showCancel = true;\r\n        buttonsOptions.deleteButton.showDelete = false;\r\n\r\n        this.setState({ attachment, flags, buttonsOptions });\r\n    }\r\n\r\n    validateFields = () => {\r\n        let errors = {};\r\n  \r\n        if(this.state.attachment.client == \"\" || this.state.attachment.client == undefined)\r\n        {\r\n            alert(\"Client name can't be empty!\");\r\n            return false;\r\n        }\r\n        \r\n        if(this.state.attachment.TitleText === \"\" || this.state.attachment.TitleText === undefined)\r\n        {\r\n            alert(\"Title Text can't be empty!\");\r\n            return false;\r\n        }\r\n        \r\n        if(this.state.attachment.FileName == \"\" || this.state.attachment.FileName == undefined)\r\n        {\r\n            alert(\"Please, select a file to upload!\");\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n        // if(!result.error) return null;\r\n  \r\n        // for(let item of result.error.details)\r\n        //     errors[item.path[0]] = item.message;\r\n  \r\n        // if(Object.keys(errors).length === 0) return null;\r\n        // return errors;\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        if(!this.validateFields()) return;\r\n\r\n        this.setState({ showButtons: false });\r\n\r\n        let flags = {...this.state.flags};\r\n        let attachment = {...this.state.attachment};\r\n        \r\n        // if isAdd === true\r\n        if(flags.isAdd)\r\n        {\r\n            uploadAttachment(attachment, this.state.file)\r\n                .then(result => {\r\n                    attachment = {...result.Result}; \r\n                    \r\n                    let attachments = [...this.state.attachments];\r\n                    attachments.push(attachment);   \r\n\r\n                    flags.isAdd = false;\r\n                    flags.isReply = false;\r\n                    flags.isEdit = false;\r\n    \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n                    this.setState({ attachment, attachments, flags, \r\n                                    buttonsOptions, showButtons: true });\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n\r\n                    attachment = {\r\n                        TitleText: \"\",\r\n                        FileName: \"\",\r\n                        FileSize: \"\",\r\n                        UploadDate: new Date().toString(),\r\n                        DownloadURL: \"\"\r\n                    }\r\n\r\n                    flags.isAdd = false;\r\n                    flags.isReply = false;\r\n                    flags.isEdit = false;\r\n    \r\n                    let buttonsOptions = {...this.state.buttonsOptions};\r\n                    buttonsOptions.addButton.showAdd = true;\r\n                    buttonsOptions.saveButton.showSave = false;\r\n                    buttonsOptions.cancelButton.showCancel = false;\r\n    \r\n                    this.setState({ attachment, flags, buttonsOptions, \r\n                                    showButtons: true });\r\n\r\n                });\r\n        }        \r\n\r\n    }\r\n\r\n    handleCancel = () => {\r\n        let flags = {...this.state.flags};\r\n        flags.isAdd = false;\r\n        flags.isEdit = true;\r\n        flags.isReply = false;\r\n        \r\n        let attachment = {\r\n            FileName: \"\",\r\n            FileSize: \"\",\r\n            DownloadURL: \"\",\r\n            UploadDate: \"\",\r\n            TitleText: \"\"\r\n        }\r\n\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n        buttonsOptions.addButton.showAdd = true;\r\n        buttonsOptions.saveButton.showSave = false;\r\n        buttonsOptions.cancelButton.showCancel = false;\r\n        buttonsOptions.deleteButton.showDelete = false;\r\n\r\n        this.setState({ attachment, flags, buttonsOptions });\r\n    }\r\n\r\n    handleOnFileSelect = (event) => {\r\n        let { value } = event.currentTarget;\r\n        \r\n        let attachment = {...this.state.attachment};\r\n        let file = event.currentTarget.files[0];\r\n\r\n        attachment.FileName = value.name;\r\n        attachment.FileName = file.name;\r\n        attachment.FileSize = file.size;\r\n\r\n        this.setState({ attachment, file });\r\n    }\r\n\r\n    handleOnClientSelect = (event) => {\r\n        let { value } = event.currentTarget;\r\n\r\n        let attachment = {...this.state.attachment}\r\n        attachment.client = value;\r\n\r\n        attachment = {\r\n            client: value,\r\n            TitleText: \"\",\r\n            FileName: \"\",\r\n            FileSize: \"\",\r\n            UploadDate: new Date().toString(),\r\n            DownloadURL: \"\"\r\n        }\r\n\r\n        let attachments = [];\r\n\r\n        if(value == \"\") {\r\n            getAttachmentsList()\r\n            .then(result => {\r\n                attachments = result.Result;\r\n                \r\n                this.setState({ attachments });\r\n                this.hideProcess();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.hideProcess();\r\n            })\r\n        } else {\r\n            getClientAttachmentsList(value)\r\n            .then(result => {\r\n                attachments = result.Result;\r\n                \r\n                this.setState({ attachments });\r\n                this.hideProcess();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.hideProcess();\r\n            })\r\n        }    \r\n\r\n        this.setState({ attachment, attachments });\r\n    }\r\n\r\n    handleOnTitleChange = (event) => {\r\n        let { value } = event.currentTarget;\r\n\r\n        let attachment = {...this.state.attachment}\r\n        attachment.TitleText = value;\r\n\r\n        this.setState({ attachment });\r\n    }\r\n\r\n    handleAttachmentRowClick = (index) => {\r\n        // this.showProcess();\r\n\r\n        let attachment = {\r\n            TitleText: \"\",\r\n            FileName: \"\",\r\n            FileSize: \"\",\r\n            UploadDate: new Date().toString(),\r\n            DownloadURL: \"\"\r\n        }\r\n    \r\n        let attachments = [...this.state.attachments];\r\n        let buttonsOptions = {...this.state.buttonsOptions};\r\n\r\n        attachment = {...attachments[index]};\r\n        buttonsOptions.deleteButton.showDelete = true;\r\n\r\n        this.setState({ attachment });\r\n    } \r\n\r\n    componentDidMount = () => {\r\n        this.showProcess();\r\n\r\n        let attachments = [];\r\n\r\n        getAttachmentsList()\r\n            .then(result => {\r\n                attachments = result.Result;\r\n                \r\n                this.setState({ attachments });\r\n                this.hideProcess();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                this.hideProcess();\r\n            })\r\n            \r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        const { name, value } = event.currentTarget;\r\n\r\n        let ticket = {...this.state.ticket};\r\n        ticket[name] = value;\r\n\r\n        this.setState({ ticket });\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const token = sessionStorage['token'];\r\n        const uprofile = JSON.parse(sessionStorage.getItem('uprofile'));\r\n    \r\n        if(!token || !this.props.menuVisible)\r\n        {\r\n            props.history.push('/');\r\n            return ;\r\n        }\r\n        else\r\n        {\r\n            this.state.uprofile = uprofile;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <TitlePageHeader title=\"Client Protal - Upload Attachments\" bgColor=\"white\" color=\"gray\" />\r\n                <div className=\"row\" style={{paddingLeft: \"25px\", paddingRight: \"25px\"}}>\r\n                    <div className=\"col-md-5\" style={columnStyle}>\r\n                        <AttachList \r\n                            attachments={this.state.attachments} \r\n                            onAttachClick={this.handleAttachmentRowClick} />\r\n                    </div>\r\n                    <div className=\"col-md-4\" style={columnStyle}>\r\n                        <div className={\"row\" + ((this.state.showButtons) ? \"\" : \" hidden\")} \r\n                             style={{paddingLeft: \"15px\", paddingRight: \"15px\", marginBottom: \"15px\"}}>\r\n                            <ToolsBar buttonsOptions={this.state.buttonsOptions} />\r\n                        </div>\r\n                        <div className={\"row\" + ((!this.state.showButtons) ? \"\" : \" hidden\")} \r\n                             style={{paddingLeft: \"15px\", paddingRight: \"15px\", marginBottom: \"15px\"}}>\r\n                            <img src={processing} \r\n                                width=\"40vw\" \r\n                                alt=\"processing\" \r\n                                style={{marginTop: \"2vh\"}} />\r\n                        </div>\r\n                        <div className=\"row\" style={{padding: \"0\", overflow: \"auto\", height: \"58vh\"}}>\r\n                            <div className=\"col-md-12\">\r\n                                { \r\n                                    <ClientAttachForm\r\n                                        attachment={this.state.attachment}\r\n                                        flags={this.state.flags} \r\n                                        onFileSelect={this.handleOnFileSelect}\r\n                                        onTitleChange={this.handleOnTitleChange}\r\n                                        onClientSelect={this.handleOnClientSelect}\r\n                                        onChange={null}\r\n                                        attachments={this.state.attachments} />\r\n                                 \r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div className=\"col-md-3\" style={columnStyle}>\r\n                        {(this.state.attachment.TitleText != \"\" && this.state.attachment.TitleText !== undefined) ? \r\n                            <div>\r\n                                <div>{this.state.attachment.TitleText}</div>\r\n                                <div><a href={this.state.attachment.DownloadURL} target=\"_blank\" >Open</a></div>\r\n\r\n                            </div> : null}\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    // ((this.state.ticket.TicketNum) ? \r\n    //                                     <TicketDetails ticket={this.state.ticket} \r\n    //                                         replies={this.state.replies} \r\n    //                                         reply={this.state.reply} \r\n    //                                         flags={this.state.flags}\r\n    //                                         onChange={this.handleOnReplyChange} />\r\n    //                                     : \"\")\r\n\r\n    showProcess = () => {\r\n        this.setState({ showButtons: false });\r\n    }\r\n\r\n    hideProcess = () => {\r\n        this.setState({ showButtons: true });\r\n    }\r\n}\r\n\r\nexport default CRMUploadAttach;\r\n\r\nconst columnStyle = {\r\n    border: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"lightgray\",\r\n    borderRadius: \"25px\",\r\n    height: \"68vh\",\r\n    overflow: 'auto'\r\n}\r\n\r\nNumber.prototype.pad = function (size, c) {\r\n    var s = String(this);\r\n    while (s.length < (size || 2)) { s = c + s; }\r\n    return s;\r\n}\r\n\r\nString.prototype.formatDate = function (format, separator) {\r\n    let sDt = this;\r\n    let aDt = (sDt.split('-').length > 1) ? sDt.split('-') : sDt.split('/');\r\n    let fOpt = (sDt.split('-').length > 1) ? 1 : 2;\r\n    let f = format.split(separator);\r\n\r\n    let nDD=(fOpt === 1) ? (aDt[2].split(' '))[0] : aDt[1], \r\n        nMM=(fOpt === 1) ? aDt[1] : aDt[0], \r\n        nYYYY=(fOpt === 1) ? aDt[0] : (aDt[2].split(' '))[0],\r\n        nDt = \"\";\r\n\r\n    switch(f[0])\r\n    {\r\n        case 'dd':\r\n            nDt = nDD + separator;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt = nMM + separator;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt = nMM + separator;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt = nYYYY + separator;\r\n            break;\r\n\r\n    }\r\n\r\n    switch(f[1])\r\n    {\r\n        case 'dd':\r\n            nDt += nDD + separator;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt += nMM + separator;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt += nMM + separator;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt += nYYYY + separator;\r\n            break;\r\n\r\n    }\r\n\r\n    switch(f[2])\r\n    {\r\n        case 'dd':\r\n            nDt += nDD;\r\n            break;\r\n\r\n        case 'MM':\r\n            nDt += nMM;\r\n            break;\r\n\r\n        case 'mm':\r\n            nDt += nMM;\r\n            break;\r\n\r\n        case 'yyyy':\r\n            nDt += nYYYY;\r\n            break;\r\n\r\n    }\r\n      \r\n    return nDt;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard';\r\nimport MastInvDepend from '../components/mastinvdepend/mastinvdepend';\r\nimport MastCustCare from '../components/mastcustcare/mastcustcare';\r\nimport SOAForm from '../components/financials/fin-soa/fin-soa';\r\nimport JVForm from '../components/financials/fin-jv/fin-jv';\r\nimport InvCliAsst from '../components/inv-client-assets/invclientasset';\r\nimport MastPrjServices from '../components/mastprjserv.jsx/mastprjsrv';\r\nimport MainJobCards from '../components/mainjobcards/mainjobcards';\r\nimport MaintPoolReadingForm from '../components/maintpoolreading/maintpoolreading';\r\nimport ContractDef from '../components/contractdefinition/contractdefinition';\r\nimport JobPlanner from '../components/jobplanner/jobplanner';\r\nimport Login from '../components/login/login';\r\nimport Tickets from '../components/customercare/tickets';\r\nimport Reports from '../components/reports/reports';\r\nimport ContMeterReadings from '../components/contract-meter-readings/contractmeterreading';\r\nimport UserAdmin from '../components/useradmin/useradmin';\r\nimport ClientUserAdmin from '../components/clientuseradmin/clientuseradmin';\r\nimport CRMUploadAttach from '../components/crm-upload-attach/crmuploadattach';\r\n\r\nclass NavRedirect extends Component {\r\n\r\n    state = {\r\n        subDir: '/fms'\r\n    }\r\n\r\n    render() {\r\n        const { handleSignin, handleSignout, handleTokenUpdate, handleSuccessfulSignin } = this.props.authFunc;\r\n        const { menuVisible } = this.props;\r\n        const { subDir } = this.state; \r\n\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/\" \r\n                    render={(props) => <Login   onSignin={handleSignin} \r\n                                                onSuccessfulSignin={handleSuccessfulSignin} \r\n                                                updateToken={handleTokenUpdate} \r\n                                                onSignOut={handleSignout} \r\n                                                {...props} /> } \r\n                />\r\n                {/* <Route  render={(props) => <Login   onSignin={handleSignin} \r\n                                                onSuccessfulSignin={handleSuccessfulSignin} \r\n                                                updateToken={handleTokenUpdate} \r\n                                                onSignOut={handleSignout} \r\n                                                {...props} /> } \r\n                /> */}\r\n                <Route exact path=\"/fms/\" \r\n                    render={(props) => <Login   onSignin={handleSignin} \r\n                                                onSuccessfulSignin={handleSuccessfulSignin} \r\n                                                updateToken={handleTokenUpdate} \r\n                                                onSignOut={handleSignout} \r\n                                                {...props} /> } \r\n                />\r\n\r\n                <Route path={subDir + \"/mastusersadmin\"} \r\n                    render={(props) => <UserAdmin menuVisible={menuVisible} {...props} />} \r\n                />\r\n\r\n                <Route path={subDir + \"/mastclientusersadmin\"} \r\n                    render={(props) => <ClientUserAdmin menuVisible={menuVisible} {...props} />} \r\n                />\r\n\r\n                <Route path={subDir + \"/dashboard\"} render={(props) => <Dashboard menuVisible={menuVisible} {...props} />} />\r\n                \r\n                <Route path={subDir + \"/mastcustcare\"} render={(props) => <MastCustCare menuVisible={menuVisible} {...props} />} />\r\n                <Route path={subDir + \"/mastinvdepend\"} render={(props) => <MastInvDepend menuVisible={menuVisible} {...props} />} />\r\n                <Route path={subDir + \"/projservdef\"} render={(props) => <MastPrjServices menuVisible={menuVisible} {...props} /> } />\r\n\r\n                <Route path={subDir + \"/fincsoa\"} render={(props) => <SOAForm menuVisible={menuVisible} {...props} />} />\r\n                <Route path={subDir + \"/finjentry\"} render={(props) => <JVForm menuVisible={menuVisible} {...props} />} />\r\n                \r\n                <Route path={subDir + \"/invclientsassets\"} render={(props) => <InvCliAsst menuVisible={menuVisible} {...props} />} />\r\n                <Route path={subDir + \"/contmetread\"} render={(props) => <ContMeterReadings menuVisible={menuVisible} {...props} />} />\r\n                <Route path={subDir + \"/projcontdef\"} render={(props) => <ContractDef menuVisible={menuVisible} {...props} />} />\r\n\r\n                <Route path={subDir + \"/mainjobcards\"} render={(props) => <MainJobCards menuVisible={menuVisible} {...props} />} />\r\n                <Route path={subDir + \"/mainjobplanner\"} render={(props) => <JobPlanner menuVisible={menuVisible} {...props} />} />\r\n                <Route path={subDir + \"/mainpoolreadings\"} render={(props) =>  <MaintPoolReadingForm menuVisible={menuVisible} {...props} />} />\r\n\r\n                <Route path={subDir + \"/ccaretickets\"} render={(props) => <Tickets menuVisible={menuVisible} {...props} />} />\r\n\r\n                <Route path={subDir + \"/crmuploadattach\"} \r\n                    render={(props) => <CRMUploadAttach menuVisible={menuVisible} {...props} />} \r\n                />\r\n\r\n                <Route path={subDir + \"/reports\"} render={(props) => <Reports menuVisible={menuVisible} {...props} />} />\r\n\r\n            </Switch>\r\n        );\r\n    }\r\n};\r\n\r\nexport default NavRedirect;","import React, { Component } from 'react';\n\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport NavMenu, { NavHeader } from './common/navbar';\nimport NavRedirect from './common/navredirect';\n// import { Switch, Route } from 'react-router-dom';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faPlus, faSearch, faSave, faWindowClose,\n         faStop, faBan, faSyncAlt, faChartLine,\n         faEdit, faTrashAlt, faReply, \n         faChevronLeft, faChevronRight, \n         faAngleDoubleLeft, faAngleDoubleRight } from '@fortawesome/free-solid-svg-icons';\nimport TitleHeader from './components/titleheader/titleheader';\n\nlibrary.add(faPlus, faSearch, faSave, faWindowClose,\n            faStop, faBan, faSyncAlt, faChartLine,\n            faEdit, faTrashAlt, faReply,\n            faChevronLeft, faChevronRight,\n            faAngleDoubleLeft, faAngleDoubleRight);\n\n\nclass App extends Component {\n  state = {\n    credentials: {\n      useremail: '',\n      password: ''\n    },\n    uProfile: {},\n    token: '', \n    showMenuBar: false\n  }\n\n  handleShowMenuBar = () => {\n    this.setState({ showMenuBar: true });\n  }\n\n  authFunctions = {\n    handleSignout: () => {\n      const uProfile = {};\n      const token = '';\n      const showMenuBar = false;\n      \n      this.setState({ uProfile, token, showMenuBar });\n      sessionStorage.clear();\n  \n    },\n    \n    handleSignin: creds => {\n      console.log(creds);\n      const credentials = {...this.state.credentials};\n      \n      credentials.uemail = creds.uemail;\n      credentials.upass = creds.upass;\n  \n      this.setState({ credentials, ue: creds.uemail, up: creds.upass });\n    },\n    \n    handleSuccessfulSignin: (uprofile) => {\n      let uProfile = {...this.state.uProfile};\n      uProfile = uprofile;\n\n      this.setState({ uProfile, showMenuBar: true });\n    },\n    \n    handleTokenUpdate: (token) => {\n      this.setState({ token });\n    }\n  \n  }\n\n  render() {\n\n    return (\n      <div className=\"App\">\n        <TitleHeader title=\"Facility Management System Ver. 2.0\" \n          bgColor=\"white\"\n          color=\"blue\" />\n        <NavMenu menuBarVisible={this.state.showMenuBar} />\n        {/* <div className=\"container\"> */}\n          {/* <div className=\"row\">\n            <div className=\"col-md-12\"> */}\n              <NavRedirect authFunc={this.authFunctions} menuVisible={this.state.showMenuBar} />\n            {/* </div>\n          </div> */}\n        {/* </div> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}